(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function Ww(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yw={exports:{}},mh={},Uw={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=Symbol.for("react.element"),BT=Symbol.for("react.portal"),HT=Symbol.for("react.fragment"),XT=Symbol.for("react.strict_mode"),WT=Symbol.for("react.profiler"),YT=Symbol.for("react.provider"),UT=Symbol.for("react.context"),$T=Symbol.for("react.forward_ref"),GT=Symbol.for("react.suspense"),qT=Symbol.for("react.memo"),KT=Symbol.for("react.lazy"),jy=Symbol.iterator;function QT(n){return n===null||typeof n!="object"?null:(n=jy&&n[jy]||n["@@iterator"],typeof n=="function"?n:null)}var $w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gw=Object.assign,qw={};function Pa(n,e,t){this.props=n,this.context=e,this.refs=qw,this.updater=t||$w}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Pa.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Kw(){}Kw.prototype=Pa.prototype;function Pg(n,e,t){this.props=n,this.context=e,this.refs=qw,this.updater=t||$w}var Ig=Pg.prototype=new Kw;Ig.constructor=Pg;Gw(Ig,Pa.prototype);Ig.isPureReactComponent=!0;var By=Array.isArray,Qw=Object.prototype.hasOwnProperty,Rg={current:null},Zw={key:!0,ref:!0,__self:!0,__source:!0};function Jw(n,e,t){var i,s={},r=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)Qw.call(e,i)&&!Zw.hasOwnProperty(i)&&(s[i]=e[i]);var o=arguments.length-2;if(o===1)s.children=t;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)s[i]===void 0&&(s[i]=o[i]);return{$$typeof:Fl,type:n,key:r,ref:a,props:s,_owner:Rg.current}}function ZT(n,e){return{$$typeof:Fl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Mg(n){return typeof n=="object"&&n!==null&&n.$$typeof===Fl}function JT(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Hy=/\/+/g;function gd(n,e){return typeof n=="object"&&n!==null&&n.key!=null?JT(""+n.key):e.toString(36)}function Yc(n,e,t,i,s){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Fl:case BT:a=!0}}if(a)return a=n,s=s(a),n=i===""?"."+gd(a,0):i,By(s)?(t="",n!=null&&(t=n.replace(Hy,"$&/")+"/"),Yc(s,e,t,"",function(c){return c})):s!=null&&(Mg(s)&&(s=ZT(s,t+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Hy,"$&/")+"/")+n)),e.push(s)),1;if(a=0,i=i===""?".":i+":",By(n))for(var o=0;o<n.length;o++){r=n[o];var l=i+gd(r,o);a+=Yc(r,e,t,l,s)}else if(l=QT(n),typeof l=="function")for(n=l.call(n),o=0;!(r=n.next()).done;)r=r.value,l=i+gd(r,o++),a+=Yc(r,e,t,l,s);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xc(n,e,t){if(n==null)return n;var i=[],s=0;return Yc(n,i,"","",function(r){return e.call(t,r,s++)}),i}function eE(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var on={current:null},Uc={transition:null},tE={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Rg};function e1(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:xc,forEach:function(n,e,t){xc(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xc(n,function(){e++}),e},toArray:function(n){return xc(n,function(e){return e})||[]},only:function(n){if(!Mg(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ce.Component=Pa;Ce.Fragment=HT;Ce.Profiler=WT;Ce.PureComponent=Pg;Ce.StrictMode=XT;Ce.Suspense=GT;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tE;Ce.act=e1;Ce.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=Gw({},n.props),s=n.key,r=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=Rg.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)Qw.call(e,l)&&!Zw.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:Fl,type:n.type,key:s,ref:r,props:i,_owner:a}};Ce.createContext=function(n){return n={$$typeof:UT,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:YT,_context:n},n.Consumer=n};Ce.createElement=Jw;Ce.createFactory=function(n){var e=Jw.bind(null,n);return e.type=n,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(n){return{$$typeof:$T,render:n}};Ce.isValidElement=Mg;Ce.lazy=function(n){return{$$typeof:KT,_payload:{_status:-1,_result:n},_init:eE}};Ce.memo=function(n,e){return{$$typeof:qT,type:n,compare:e===void 0?null:e}};Ce.startTransition=function(n){var e=Uc.transition;Uc.transition={};try{n()}finally{Uc.transition=e}};Ce.unstable_act=e1;Ce.useCallback=function(n,e){return on.current.useCallback(n,e)};Ce.useContext=function(n){return on.current.useContext(n)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(n){return on.current.useDeferredValue(n)};Ce.useEffect=function(n,e){return on.current.useEffect(n,e)};Ce.useId=function(){return on.current.useId()};Ce.useImperativeHandle=function(n,e,t){return on.current.useImperativeHandle(n,e,t)};Ce.useInsertionEffect=function(n,e){return on.current.useInsertionEffect(n,e)};Ce.useLayoutEffect=function(n,e){return on.current.useLayoutEffect(n,e)};Ce.useMemo=function(n,e){return on.current.useMemo(n,e)};Ce.useReducer=function(n,e,t){return on.current.useReducer(n,e,t)};Ce.useRef=function(n){return on.current.useRef(n)};Ce.useState=function(n){return on.current.useState(n)};Ce.useSyncExternalStore=function(n,e,t){return on.current.useSyncExternalStore(n,e,t)};Ce.useTransition=function(){return on.current.useTransition()};Ce.version="18.3.1";Uw.exports=Ce;var q=Uw.exports;const t1=Ww(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=q,iE=Symbol.for("react.element"),sE=Symbol.for("react.fragment"),rE=Object.prototype.hasOwnProperty,aE=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oE={key:!0,ref:!0,__self:!0,__source:!0};function n1(n,e,t){var i,s={},r=null,a=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)rE.call(e,i)&&!oE.hasOwnProperty(i)&&(s[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:iE,type:n,key:r,ref:a,props:s,_owner:aE.current}}mh.Fragment=sE;mh.jsx=n1;mh.jsxs=n1;Yw.exports=mh;var R=Yw.exports,Mf={},i1={exports:{}},kn={},s1={exports:{}},r1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(V,X){var G=V.length;V.push(X);e:for(;0<G;){var J=G-1>>>1,re=V[J];if(0<s(re,X))V[J]=X,V[G]=re,G=J;else break e}}function t(V){return V.length===0?null:V[0]}function i(V){if(V.length===0)return null;var X=V[0],G=V.pop();if(G!==X){V[0]=G;e:for(var J=0,re=V.length,ke=re>>>1;J<ke;){var oe=2*(J+1)-1,Ee=V[oe],de=oe+1,fe=V[de];if(0>s(Ee,G))de<re&&0>s(fe,Ee)?(V[J]=fe,V[de]=G,J=de):(V[J]=Ee,V[oe]=G,J=oe);else if(de<re&&0>s(fe,G))V[J]=fe,V[de]=G,J=de;else break e}}return X}function s(V,X){var G=V.sortIndex-X.sortIndex;return G!==0?G:V.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,h=null,d=3,f=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var X=t(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=V)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function _(V){if(g=!1,b(V),!m)if(t(l)!==null)m=!0,$(k);else{var X=t(c);X!==null&&Y(_,X.startTime-V)}}function k(V,X){m=!1,g&&(g=!1,x(w),w=-1),f=!0;var G=d;try{for(b(X),h=t(l);h!==null&&(!(h.expirationTime>X)||V&&!I());){var J=h.callback;if(typeof J=="function"){h.callback=null,d=h.priorityLevel;var re=J(h.expirationTime<=X);X=n.unstable_now(),typeof re=="function"?h.callback=re:h===t(l)&&i(l),b(X)}else i(l);h=t(l)}if(h!==null)var ke=!0;else{var oe=t(c);oe!==null&&Y(_,oe.startTime-X),ke=!1}return ke}finally{h=null,d=G,f=!1}}var P=!1,A=null,w=-1,C=5,E=-1;function I(){return!(n.unstable_now()-E<C)}function L(){if(A!==null){var V=n.unstable_now();E=V;var X=!0;try{X=A(!0,V)}finally{X?M():(P=!1,A=null)}}else P=!1}var M;if(typeof y=="function")M=function(){y(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=L,M=function(){B.postMessage(null)}}else M=function(){v(L,0)};function $(V){A=V,P||(P=!0,M())}function Y(V,X){w=v(function(){V(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(V){V.callback=null},n.unstable_continueExecution=function(){m||f||(m=!0,$(k))},n.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<V?Math.floor(1e3/V):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(V){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var G=d;d=X;try{return V()}finally{d=G}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=d;d=V;try{return X()}finally{d=G}},n.unstable_scheduleCallback=function(V,X,G){var J=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?J+G:J):G=J,V){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=G+re,V={id:u++,callback:X,priorityLevel:V,startTime:G,expirationTime:re,sortIndex:-1},G>J?(V.sortIndex=G,e(c,V),t(l)===null&&V===t(c)&&(g?(x(w),w=-1):g=!0,Y(_,G-J))):(V.sortIndex=re,e(l,V),m||f||(m=!0,$(k))),V},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(V){var X=d;return function(){var G=d;d=X;try{return V.apply(this,arguments)}finally{d=G}}}})(r1);s1.exports=r1;var lE=s1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE=q,An=lE;function Q(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a1=new Set,Jo={};function pr(n,e){ua(n,e),ua(n+"Capture",e)}function ua(n,e){for(Jo[n]=e,n=0;n<e.length;n++)a1.add(e[n])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=Object.prototype.hasOwnProperty,uE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xy={},Wy={};function hE(n){return Lf.call(Wy,n)?!0:Lf.call(Xy,n)?!1:uE.test(n)?Wy[n]=!0:(Xy[n]=!0,!1)}function dE(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function fE(n,e,t,i){if(e===null||typeof e>"u"||dE(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(n,e,t,i,s,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){zt[n]=new ln(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];zt[e]=new ln(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){zt[n]=new ln(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){zt[n]=new ln(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){zt[n]=new ln(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){zt[n]=new ln(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){zt[n]=new ln(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){zt[n]=new ln(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){zt[n]=new ln(n,5,!1,n.toLowerCase(),null,!1,!1)});var Lg=/[\-:]([a-z])/g;function Ng(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Lg,Ng);zt[e]=new ln(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Lg,Ng);zt[e]=new ln(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Lg,Ng);zt[e]=new ln(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){zt[n]=new ln(n,1,!1,n.toLowerCase(),null,!1,!1)});zt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){zt[n]=new ln(n,1,!1,n.toLowerCase(),null,!0,!0)});function Dg(n,e,t,i){var s=zt.hasOwnProperty(e)?zt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fE(e,t,s,i)&&(t=null),i||s===null?hE(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,i=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Fi=cE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yc=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),o1=Symbol.for("react.provider"),l1=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),Fg=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),c1=Symbol.for("react.offscreen"),Yy=Symbol.iterator;function ao(n){return n===null||typeof n!="object"?null:(n=Yy&&n[Yy]||n["@@iterator"],typeof n=="function"?n:null)}var rt=Object.assign,md;function bo(n){if(md===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);md=e&&e[1]||""}return`
`+md+n}var xd=!1;function yd(n,e){if(!n||xd)return"";xd=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==r[o]){var l=`
`+s[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{xd=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?bo(n):""}function pE(n){switch(n.tag){case 5:return bo(n.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 2:case 15:return n=yd(n.type,!1),n;case 11:return n=yd(n.type.render,!1),n;case 1:return n=yd(n.type,!0),n;default:return""}}function Vf(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Or:return"Fragment";case Dr:return"Portal";case Nf:return"Profiler";case Og:return"StrictMode";case Df:return"Suspense";case Of:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case l1:return(n.displayName||"Context")+".Consumer";case o1:return(n._context.displayName||"Context")+".Provider";case Vg:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Fg:return e=n.displayName||null,e!==null?e:Vf(n.type)||"Memo";case Ki:e=n._payload,n=n._init;try{return Vf(n(e))}catch{}}return null}function gE(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(e);case 8:return e===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function u1(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mE(n){var e=u1(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function vc(n){n._valueTracker||(n._valueTracker=mE(n))}function h1(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=u1(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function xu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ff(n,e){var t=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Uy(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=xs(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d1(n,e){e=e.checked,e!=null&&Dg(n,"checked",e,!1)}function zf(n,e){d1(n,e);var t=xs(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?jf(n,e.type,t):e.hasOwnProperty("defaultValue")&&jf(n,e.type,xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function $y(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function jf(n,e,t){(e!=="number"||xu(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var wo=Array.isArray;function ea(n,e,t,i){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&i&&(n[t].defaultSelected=!0)}else{for(t=""+xs(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,i&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function Bf(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Gy(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Q(92));if(wo(t)){if(1<t.length)throw Error(Q(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:xs(t)}}function f1(n,e){var t=xs(e.value),i=xs(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function qy(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function p1(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hf(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?p1(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var bc,g1=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(bc=bc||document.createElement("div"),bc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bc.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function el(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xE=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(n){xE.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Mo[e]=Mo[n]})});function m1(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Mo.hasOwnProperty(n)&&Mo[n]?(""+e).trim():e+"px"}function x1(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,s=m1(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,s):n[t]=s}}var yE=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xf(n,e){if(e){if(yE[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function Wf(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=null;function zg(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Uf=null,ta=null,na=null;function Ky(n){if(n=Bl(n)){if(typeof Uf!="function")throw Error(Q(280));var e=n.stateNode;e&&(e=wh(e),Uf(n.stateNode,n.type,e))}}function y1(n){ta?na?na.push(n):na=[n]:ta=n}function v1(){if(ta){var n=ta,e=na;if(na=ta=null,Ky(n),e)for(n=0;n<e.length;n++)Ky(e[n])}}function b1(n,e){return n(e)}function w1(){}var vd=!1;function A1(n,e,t){if(vd)return n(e,t);vd=!0;try{return b1(n,e,t)}finally{vd=!1,(ta!==null||na!==null)&&(w1(),v1())}}function tl(n,e){var t=n.stateNode;if(t===null)return null;var i=wh(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Q(231,e,typeof t));return t}var $f=!1;if(Ii)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){$f=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{$f=!1}function vE(n,e,t,i,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Lo=!1,yu=null,vu=!1,Gf=null,bE={onError:function(n){Lo=!0,yu=n}};function wE(n,e,t,i,s,r,a,o,l){Lo=!1,yu=null,vE.apply(bE,arguments)}function AE(n,e,t,i,s,r,a,o,l){if(wE.apply(this,arguments),Lo){if(Lo){var c=yu;Lo=!1,yu=null}else throw Error(Q(198));vu||(vu=!0,Gf=c)}}function gr(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function S1(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Qy(n){if(gr(n)!==n)throw Error(Q(188))}function SE(n){var e=n.alternate;if(!e){if(e=gr(n),e===null)throw Error(Q(188));return e!==n?null:n}for(var t=n,i=e;;){var s=t.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){t=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===t)return Qy(s),n;if(r===i)return Qy(s),e;r=r.sibling}throw Error(Q(188))}if(t.return!==i.return)t=s,i=r;else{for(var a=!1,o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(t.alternate!==i)throw Error(Q(190))}if(t.tag!==3)throw Error(Q(188));return t.stateNode.current===t?n:e}function k1(n){return n=SE(n),n!==null?C1(n):null}function C1(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=C1(n);if(e!==null)return e;n=n.sibling}return null}var _1=An.unstable_scheduleCallback,Zy=An.unstable_cancelCallback,kE=An.unstable_shouldYield,CE=An.unstable_requestPaint,gt=An.unstable_now,_E=An.unstable_getCurrentPriorityLevel,jg=An.unstable_ImmediatePriority,T1=An.unstable_UserBlockingPriority,bu=An.unstable_NormalPriority,TE=An.unstable_LowPriority,E1=An.unstable_IdlePriority,xh=null,hi=null;function EE(n){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(xh,n,void 0,(n.current.flags&128)===128)}catch{}}var ei=Math.clz32?Math.clz32:RE,PE=Math.log,IE=Math.LN2;function RE(n){return n>>>=0,n===0?32:31-(PE(n)/IE|0)|0}var wc=64,Ac=4194304;function Ao(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function wu(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,s=n.suspendedLanes,r=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~s;o!==0?i=Ao(o):(r&=a,r!==0&&(i=Ao(r)))}else a=t&~s,a!==0?i=Ao(a):r!==0&&(i=Ao(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-ei(e),s=1<<t,i|=n[t],e&=~s;return i}function ME(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LE(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,s=n.expirationTimes,r=n.pendingLanes;0<r;){var a=31-ei(r),o=1<<a,l=s[a];l===-1?(!(o&t)||o&i)&&(s[a]=ME(o,e)):l<=e&&(n.expiredLanes|=o),r&=~o}}function qf(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function P1(){var n=wc;return wc<<=1,!(wc&4194240)&&(wc=64),n}function bd(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function zl(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-ei(e),n[e]=t}function NE(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-ei(t),r=1<<s;e[s]=0,i[s]=-1,n[s]=-1,t&=~r}}function Bg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-ei(t),s=1<<i;s&e|n[i]&e&&(n[i]|=e),t&=~s}}var ze=0;function I1(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var R1,Hg,M1,L1,N1,Kf=!1,Sc=[],ss=null,rs=null,as=null,nl=new Map,il=new Map,Zi=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jy(n,e){switch(n){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(e.pointerId)}}function lo(n,e,t,i,s,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Bl(e),e!==null&&Hg(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function OE(n,e,t,i,s){switch(e){case"focusin":return ss=lo(ss,n,e,t,i,s),!0;case"dragenter":return rs=lo(rs,n,e,t,i,s),!0;case"mouseover":return as=lo(as,n,e,t,i,s),!0;case"pointerover":var r=s.pointerId;return nl.set(r,lo(nl.get(r)||null,n,e,t,i,s)),!0;case"gotpointercapture":return r=s.pointerId,il.set(r,lo(il.get(r)||null,n,e,t,i,s)),!0}return!1}function D1(n){var e=Us(n.target);if(e!==null){var t=gr(e);if(t!==null){if(e=t.tag,e===13){if(e=S1(t),e!==null){n.blockedOn=e,N1(n.priority,function(){M1(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $c(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Qf(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Yf=i,t.target.dispatchEvent(i),Yf=null}else return e=Bl(t),e!==null&&Hg(e),n.blockedOn=t,!1;e.shift()}return!0}function ev(n,e,t){$c(n)&&t.delete(e)}function VE(){Kf=!1,ss!==null&&$c(ss)&&(ss=null),rs!==null&&$c(rs)&&(rs=null),as!==null&&$c(as)&&(as=null),nl.forEach(ev),il.forEach(ev)}function co(n,e){n.blockedOn===e&&(n.blockedOn=null,Kf||(Kf=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,VE)))}function sl(n){function e(s){return co(s,n)}if(0<Sc.length){co(Sc[0],n);for(var t=1;t<Sc.length;t++){var i=Sc[t];i.blockedOn===n&&(i.blockedOn=null)}}for(ss!==null&&co(ss,n),rs!==null&&co(rs,n),as!==null&&co(as,n),nl.forEach(e),il.forEach(e),t=0;t<Zi.length;t++)i=Zi[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Zi.length&&(t=Zi[0],t.blockedOn===null);)D1(t),t.blockedOn===null&&Zi.shift()}var ia=Fi.ReactCurrentBatchConfig,Au=!0;function FE(n,e,t,i){var s=ze,r=ia.transition;ia.transition=null;try{ze=1,Xg(n,e,t,i)}finally{ze=s,ia.transition=r}}function zE(n,e,t,i){var s=ze,r=ia.transition;ia.transition=null;try{ze=4,Xg(n,e,t,i)}finally{ze=s,ia.transition=r}}function Xg(n,e,t,i){if(Au){var s=Qf(n,e,t,i);if(s===null)Id(n,e,i,Su,t),Jy(n,i);else if(OE(s,n,e,t,i))i.stopPropagation();else if(Jy(n,i),e&4&&-1<DE.indexOf(n)){for(;s!==null;){var r=Bl(s);if(r!==null&&R1(r),r=Qf(n,e,t,i),r===null&&Id(n,e,i,Su,t),r===s)break;s=r}s!==null&&i.stopPropagation()}else Id(n,e,i,null,t)}}var Su=null;function Qf(n,e,t,i){if(Su=null,n=zg(i),n=Us(n),n!==null)if(e=gr(n),e===null)n=null;else if(t=e.tag,t===13){if(n=S1(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Su=n,null}function O1(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_E()){case jg:return 1;case T1:return 4;case bu:case TE:return 16;case E1:return 536870912;default:return 16}default:return 16}}var ts=null,Wg=null,Gc=null;function V1(){if(Gc)return Gc;var n,e=Wg,t=e.length,i,s="value"in ts?ts.value:ts.textContent,r=s.length;for(n=0;n<t&&e[n]===s[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===s[r-i];i++);return Gc=s.slice(n,1<i?1-i:void 0)}function qc(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function kc(){return!0}function tv(){return!1}function Cn(n){function e(t,i,s,r,a){this._reactName=t,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?kc:tv,this.isPropagationStopped=tv,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yg=Cn(Ia),jl=rt({},Ia,{view:0,detail:0}),jE=Cn(jl),wd,Ad,uo,yh=rt({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==uo&&(uo&&n.type==="mousemove"?(wd=n.screenX-uo.screenX,Ad=n.screenY-uo.screenY):Ad=wd=0,uo=n),wd)},movementY:function(n){return"movementY"in n?n.movementY:Ad}}),nv=Cn(yh),BE=rt({},yh,{dataTransfer:0}),HE=Cn(BE),XE=rt({},jl,{relatedTarget:0}),Sd=Cn(XE),WE=rt({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),YE=Cn(WE),UE=rt({},Ia,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$E=Cn(UE),GE=rt({},Ia,{data:0}),iv=Cn(GE),qE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZE(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=QE[n])?!!e[n]:!1}function Ug(){return ZE}var JE=rt({},jl,{key:function(n){if(n.key){var e=qE[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=qc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?KE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(n){return n.type==="keypress"?qc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),e2=Cn(JE),t2=rt({},yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sv=Cn(t2),n2=rt({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),i2=Cn(n2),s2=rt({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),r2=Cn(s2),a2=rt({},yh,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),o2=Cn(a2),l2=[9,13,27,32],$g=Ii&&"CompositionEvent"in window,No=null;Ii&&"documentMode"in document&&(No=document.documentMode);var c2=Ii&&"TextEvent"in window&&!No,F1=Ii&&(!$g||No&&8<No&&11>=No),rv=" ",av=!1;function z1(n,e){switch(n){case"keyup":return l2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j1(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Vr=!1;function u2(n,e){switch(n){case"compositionend":return j1(e);case"keypress":return e.which!==32?null:(av=!0,rv);case"textInput":return n=e.data,n===rv&&av?null:n;default:return null}}function h2(n,e){if(Vr)return n==="compositionend"||!$g&&z1(n,e)?(n=V1(),Gc=Wg=ts=null,Vr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return F1&&e.locale!=="ko"?null:e.data;default:return null}}var d2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!d2[n.type]:e==="textarea"}function B1(n,e,t,i){y1(i),e=ku(e,"onChange"),0<e.length&&(t=new Yg("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Do=null,rl=null;function f2(n){Z1(n,0)}function vh(n){var e=jr(n);if(h1(e))return n}function p2(n,e){if(n==="change")return e}var H1=!1;if(Ii){var kd;if(Ii){var Cd="oninput"in document;if(!Cd){var lv=document.createElement("div");lv.setAttribute("oninput","return;"),Cd=typeof lv.oninput=="function"}kd=Cd}else kd=!1;H1=kd&&(!document.documentMode||9<document.documentMode)}function cv(){Do&&(Do.detachEvent("onpropertychange",X1),rl=Do=null)}function X1(n){if(n.propertyName==="value"&&vh(rl)){var e=[];B1(e,rl,n,zg(n)),A1(f2,e)}}function g2(n,e,t){n==="focusin"?(cv(),Do=e,rl=t,Do.attachEvent("onpropertychange",X1)):n==="focusout"&&cv()}function m2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vh(rl)}function x2(n,e){if(n==="click")return vh(e)}function y2(n,e){if(n==="input"||n==="change")return vh(e)}function v2(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var si=typeof Object.is=="function"?Object.is:v2;function al(n,e){if(si(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var s=t[i];if(!Lf.call(e,s)||!si(n[s],e[s]))return!1}return!0}function uv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hv(n,e){var t=uv(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=uv(t)}}function W1(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?W1(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Y1(){for(var n=window,e=xu();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=xu(n.document)}return e}function Gg(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function b2(n){var e=Y1(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&W1(t.ownerDocument.documentElement,t)){if(i!==null&&Gg(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!n.extend&&r>i&&(s=i,i=r,r=s),s=hv(t,r);var a=hv(t,i);s&&a&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),r>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var w2=Ii&&"documentMode"in document&&11>=document.documentMode,Fr=null,Zf=null,Oo=null,Jf=!1;function dv(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Jf||Fr==null||Fr!==xu(i)||(i=Fr,"selectionStart"in i&&Gg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oo&&al(Oo,i)||(Oo=i,i=ku(Zf,"onSelect"),0<i.length&&(e=new Yg("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Fr)))}function Cc(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var zr={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},_d={},U1={};Ii&&(U1=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function bh(n){if(_d[n])return _d[n];if(!zr[n])return n;var e=zr[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in U1)return _d[n]=e[t];return n}var $1=bh("animationend"),G1=bh("animationiteration"),q1=bh("animationstart"),K1=bh("transitionend"),Q1=new Map,fv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(n,e){Q1.set(n,e),pr(e,[n])}for(var Td=0;Td<fv.length;Td++){var Ed=fv[Td],A2=Ed.toLowerCase(),S2=Ed[0].toUpperCase()+Ed.slice(1);Ps(A2,"on"+S2)}Ps($1,"onAnimationEnd");Ps(G1,"onAnimationIteration");Ps(q1,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(K1,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k2=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function pv(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,AE(i,e,void 0,n),n.currentTarget=null}function Z1(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;pv(s,o,c),r=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;pv(s,o,c),r=l}}}if(vu)throw n=Gf,vu=!1,Gf=null,n}function Ke(n,e){var t=e[sp];t===void 0&&(t=e[sp]=new Set);var i=n+"__bubble";t.has(i)||(J1(e,n,2,!1),t.add(i))}function Pd(n,e,t){var i=0;e&&(i|=4),J1(t,n,i,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function ol(n){if(!n[_c]){n[_c]=!0,a1.forEach(function(t){t!=="selectionchange"&&(k2.has(t)||Pd(t,!1,n),Pd(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[_c]||(e[_c]=!0,Pd("selectionchange",!1,e))}}function J1(n,e,t,i){switch(O1(e)){case 1:var s=FE;break;case 4:s=zE;break;default:s=Xg}t=s.bind(null,e,t,n),s=void 0,!$f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Id(n,e,t,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Us(o),a===null)return;if(l=a.tag,l===5||l===6){i=r=a;continue e}o=o.parentNode}}i=i.return}A1(function(){var c=r,u=zg(t),h=[];e:{var d=Q1.get(n);if(d!==void 0){var f=Yg,m=n;switch(n){case"keypress":if(qc(t)===0)break e;case"keydown":case"keyup":f=e2;break;case"focusin":m="focus",f=Sd;break;case"focusout":m="blur",f=Sd;break;case"beforeblur":case"afterblur":f=Sd;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=HE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=i2;break;case $1:case G1:case q1:f=YE;break;case K1:f=r2;break;case"scroll":f=jE;break;case"wheel":f=o2;break;case"copy":case"cut":case"paste":f=$E;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sv}var g=(e&4)!==0,v=!g&&n==="scroll",x=g?d!==null?d+"Capture":null:d;g=[];for(var y=c,b;y!==null;){b=y;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,x!==null&&(_=tl(y,x),_!=null&&g.push(ll(y,_,b)))),v)break;y=y.return}0<g.length&&(d=new f(d,m,null,t,u),h.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",d&&t!==Yf&&(m=t.relatedTarget||t.fromElement)&&(Us(m)||m[Ri]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=t.relatedTarget||t.toElement,f=c,m=m?Us(m):null,m!==null&&(v=gr(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=nv,_="onMouseLeave",x="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(g=sv,_="onPointerLeave",x="onPointerEnter",y="pointer"),v=f==null?d:jr(f),b=m==null?d:jr(m),d=new g(_,y+"leave",f,t,u),d.target=v,d.relatedTarget=b,_=null,Us(u)===c&&(g=new g(x,y+"enter",m,t,u),g.target=b,g.relatedTarget=v,_=g),v=_,f&&m)t:{for(g=f,x=m,y=0,b=g;b;b=Er(b))y++;for(b=0,_=x;_;_=Er(_))b++;for(;0<y-b;)g=Er(g),y--;for(;0<b-y;)x=Er(x),b--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=Er(g),x=Er(x)}g=null}else g=null;f!==null&&gv(h,d,f,g,!1),m!==null&&v!==null&&gv(h,v,m,g,!0)}}e:{if(d=c?jr(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var k=p2;else if(ov(d))if(H1)k=y2;else{k=m2;var P=g2}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=x2);if(k&&(k=k(n,c))){B1(h,k,t,u);break e}P&&P(n,d,c),n==="focusout"&&(P=d._wrapperState)&&P.controlled&&d.type==="number"&&jf(d,"number",d.value)}switch(P=c?jr(c):window,n){case"focusin":(ov(P)||P.contentEditable==="true")&&(Fr=P,Zf=c,Oo=null);break;case"focusout":Oo=Zf=Fr=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,dv(h,t,u);break;case"selectionchange":if(w2)break;case"keydown":case"keyup":dv(h,t,u)}var A;if($g)e:{switch(n){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Vr?z1(n,t)&&(w="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(w="onCompositionStart");w&&(F1&&t.locale!=="ko"&&(Vr||w!=="onCompositionStart"?w==="onCompositionEnd"&&Vr&&(A=V1()):(ts=u,Wg="value"in ts?ts.value:ts.textContent,Vr=!0)),P=ku(c,w),0<P.length&&(w=new iv(w,n,null,t,u),h.push({event:w,listeners:P}),A?w.data=A:(A=j1(t),A!==null&&(w.data=A)))),(A=c2?u2(n,t):h2(n,t))&&(c=ku(c,"onBeforeInput"),0<c.length&&(u=new iv("onBeforeInput","beforeinput",null,t,u),h.push({event:u,listeners:c}),u.data=A))}Z1(h,e)})}function ll(n,e,t){return{instance:n,listener:e,currentTarget:t}}function ku(n,e){for(var t=e+"Capture",i=[];n!==null;){var s=n,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=tl(n,t),r!=null&&i.unshift(ll(n,r,s)),r=tl(n,e),r!=null&&i.push(ll(n,r,s))),n=n.return}return i}function Er(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gv(n,e,t,i,s){for(var r=e._reactName,a=[];t!==null&&t!==i;){var o=t,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,s?(l=tl(t,r),l!=null&&a.unshift(ll(t,l,o))):s||(l=tl(t,r),l!=null&&a.push(ll(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var C2=/\r\n?/g,_2=/\u0000|\uFFFD/g;function mv(n){return(typeof n=="string"?n:""+n).replace(C2,`
`).replace(_2,"")}function Tc(n,e,t){if(e=mv(e),mv(n)!==e&&t)throw Error(Q(425))}function Cu(){}var ep=null,tp=null;function np(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ip=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,xv=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof xv<"u"?function(n){return xv.resolve(null).then(n).catch(P2)}:ip;function P2(n){setTimeout(function(){throw n})}function Rd(n,e){var t=e,i=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(i===0){n.removeChild(s),sl(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=s}while(t);sl(e)}function os(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function yv(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),ui="__reactFiber$"+Ra,cl="__reactProps$"+Ra,Ri="__reactContainer$"+Ra,sp="__reactEvents$"+Ra,I2="__reactListeners$"+Ra,R2="__reactHandles$"+Ra;function Us(n){var e=n[ui];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ri]||t[ui]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=yv(n);n!==null;){if(t=n[ui])return t;n=yv(n)}return e}n=t,t=n.parentNode}return null}function Bl(n){return n=n[ui]||n[Ri],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function jr(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Q(33))}function wh(n){return n[cl]||null}var rp=[],Br=-1;function Is(n){return{current:n}}function Ze(n){0>Br||(n.current=rp[Br],rp[Br]=null,Br--)}function Ye(n,e){Br++,rp[Br]=n.current,n.current=e}var ys={},Zt=Is(ys),fn=Is(!1),rr=ys;function ha(n,e){var t=n.type.contextTypes;if(!t)return ys;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in t)s[r]=e[r];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function pn(n){return n=n.childContextTypes,n!=null}function _u(){Ze(fn),Ze(Zt)}function vv(n,e,t){if(Zt.current!==ys)throw Error(Q(168));Ye(Zt,e),Ye(fn,t)}function eA(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(Q(108,gE(n)||"Unknown",s));return rt({},t,i)}function Tu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ys,rr=Zt.current,Ye(Zt,n),Ye(fn,fn.current),!0}function bv(n,e,t){var i=n.stateNode;if(!i)throw Error(Q(169));t?(n=eA(n,e,rr),i.__reactInternalMemoizedMergedChildContext=n,Ze(fn),Ze(Zt),Ye(Zt,n)):Ze(fn),Ye(fn,t)}var Ai=null,Ah=!1,Md=!1;function tA(n){Ai===null?Ai=[n]:Ai.push(n)}function M2(n){Ah=!0,tA(n)}function Rs(){if(!Md&&Ai!==null){Md=!0;var n=0,e=ze;try{var t=Ai;for(ze=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Ai=null,Ah=!1}catch(s){throw Ai!==null&&(Ai=Ai.slice(n+1)),_1(jg,Rs),s}finally{ze=e,Md=!1}}return null}var Hr=[],Xr=0,Eu=null,Pu=0,Mn=[],Ln=0,ar=null,Si=1,ki="";function Fs(n,e){Hr[Xr++]=Pu,Hr[Xr++]=Eu,Eu=n,Pu=e}function nA(n,e,t){Mn[Ln++]=Si,Mn[Ln++]=ki,Mn[Ln++]=ar,ar=n;var i=Si;n=ki;var s=32-ei(i)-1;i&=~(1<<s),t+=1;var r=32-ei(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Si=1<<32-ei(e)+s|t<<s|i,ki=r+n}else Si=1<<r|t<<s|i,ki=n}function qg(n){n.return!==null&&(Fs(n,1),nA(n,1,0))}function Kg(n){for(;n===Eu;)Eu=Hr[--Xr],Hr[Xr]=null,Pu=Hr[--Xr],Hr[Xr]=null;for(;n===ar;)ar=Mn[--Ln],Mn[Ln]=null,ki=Mn[--Ln],Mn[Ln]=null,Si=Mn[--Ln],Mn[Ln]=null}var vn=null,yn=null,et=!1,Kn=null;function iA(n,e){var t=On(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function wv(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,vn=n,yn=os(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,vn=n,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=ar!==null?{id:Si,overflow:ki}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=On(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,vn=n,yn=null,!0):!1;default:return!1}}function ap(n){return(n.mode&1)!==0&&(n.flags&128)===0}function op(n){if(et){var e=yn;if(e){var t=e;if(!wv(n,e)){if(ap(n))throw Error(Q(418));e=os(t.nextSibling);var i=vn;e&&wv(n,e)?iA(i,t):(n.flags=n.flags&-4097|2,et=!1,vn=n)}}else{if(ap(n))throw Error(Q(418));n.flags=n.flags&-4097|2,et=!1,vn=n}}}function Av(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;vn=n}function Ec(n){if(n!==vn)return!1;if(!et)return Av(n),et=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!np(n.type,n.memoizedProps)),e&&(e=yn)){if(ap(n))throw sA(),Error(Q(418));for(;e;)iA(n,e),e=os(e.nextSibling)}if(Av(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Q(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){yn=os(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}yn=null}}else yn=vn?os(n.stateNode.nextSibling):null;return!0}function sA(){for(var n=yn;n;)n=os(n.nextSibling)}function da(){yn=vn=null,et=!1}function Qg(n){Kn===null?Kn=[n]:Kn.push(n)}var L2=Fi.ReactCurrentBatchConfig;function ho(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Q(309));var i=t.stateNode}if(!i)throw Error(Q(147,n));var s=i,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var o=s.refs;a===null?delete o[r]:o[r]=a},e._stringRef=r,e)}if(typeof n!="string")throw Error(Q(284));if(!t._owner)throw Error(Q(290,n))}return n}function Pc(n,e){throw n=Object.prototype.toString.call(e),Error(Q(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Sv(n){var e=n._init;return e(n._payload)}function rA(n){function e(x,y){if(n){var b=x.deletions;b===null?(x.deletions=[y],x.flags|=16):b.push(y)}}function t(x,y){if(!n)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function i(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=hs(x,y),x.index=0,x.sibling=null,x}function r(x,y,b){return x.index=b,n?(b=x.alternate,b!==null?(b=b.index,b<y?(x.flags|=2,y):b):(x.flags|=2,y)):(x.flags|=1048576,y)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function o(x,y,b,_){return y===null||y.tag!==6?(y=zd(b,x.mode,_),y.return=x,y):(y=s(y,b),y.return=x,y)}function l(x,y,b,_){var k=b.type;return k===Or?u(x,y,b.props.children,_,b.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ki&&Sv(k)===y.type)?(_=s(y,b.props),_.ref=ho(x,y,b),_.return=x,_):(_=nu(b.type,b.key,b.props,null,x.mode,_),_.ref=ho(x,y,b),_.return=x,_)}function c(x,y,b,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=jd(b,x.mode,_),y.return=x,y):(y=s(y,b.children||[]),y.return=x,y)}function u(x,y,b,_,k){return y===null||y.tag!==7?(y=tr(b,x.mode,_,k),y.return=x,y):(y=s(y,b),y.return=x,y)}function h(x,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=zd(""+y,x.mode,b),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yc:return b=nu(y.type,y.key,y.props,null,x.mode,b),b.ref=ho(x,null,y),b.return=x,b;case Dr:return y=jd(y,x.mode,b),y.return=x,y;case Ki:var _=y._init;return h(x,_(y._payload),b)}if(wo(y)||ao(y))return y=tr(y,x.mode,b,null),y.return=x,y;Pc(x,y)}return null}function d(x,y,b,_){var k=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(x,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yc:return b.key===k?l(x,y,b,_):null;case Dr:return b.key===k?c(x,y,b,_):null;case Ki:return k=b._init,d(x,y,k(b._payload),_)}if(wo(b)||ao(b))return k!==null?null:u(x,y,b,_,null);Pc(x,b)}return null}function f(x,y,b,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(b)||null,o(y,x,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yc:return x=x.get(_.key===null?b:_.key)||null,l(y,x,_,k);case Dr:return x=x.get(_.key===null?b:_.key)||null,c(y,x,_,k);case Ki:var P=_._init;return f(x,y,b,P(_._payload),k)}if(wo(_)||ao(_))return x=x.get(b)||null,u(y,x,_,k,null);Pc(y,_)}return null}function m(x,y,b,_){for(var k=null,P=null,A=y,w=y=0,C=null;A!==null&&w<b.length;w++){A.index>w?(C=A,A=null):C=A.sibling;var E=d(x,A,b[w],_);if(E===null){A===null&&(A=C);break}n&&A&&E.alternate===null&&e(x,A),y=r(E,y,w),P===null?k=E:P.sibling=E,P=E,A=C}if(w===b.length)return t(x,A),et&&Fs(x,w),k;if(A===null){for(;w<b.length;w++)A=h(x,b[w],_),A!==null&&(y=r(A,y,w),P===null?k=A:P.sibling=A,P=A);return et&&Fs(x,w),k}for(A=i(x,A);w<b.length;w++)C=f(A,x,w,b[w],_),C!==null&&(n&&C.alternate!==null&&A.delete(C.key===null?w:C.key),y=r(C,y,w),P===null?k=C:P.sibling=C,P=C);return n&&A.forEach(function(I){return e(x,I)}),et&&Fs(x,w),k}function g(x,y,b,_){var k=ao(b);if(typeof k!="function")throw Error(Q(150));if(b=k.call(b),b==null)throw Error(Q(151));for(var P=k=null,A=y,w=y=0,C=null,E=b.next();A!==null&&!E.done;w++,E=b.next()){A.index>w?(C=A,A=null):C=A.sibling;var I=d(x,A,E.value,_);if(I===null){A===null&&(A=C);break}n&&A&&I.alternate===null&&e(x,A),y=r(I,y,w),P===null?k=I:P.sibling=I,P=I,A=C}if(E.done)return t(x,A),et&&Fs(x,w),k;if(A===null){for(;!E.done;w++,E=b.next())E=h(x,E.value,_),E!==null&&(y=r(E,y,w),P===null?k=E:P.sibling=E,P=E);return et&&Fs(x,w),k}for(A=i(x,A);!E.done;w++,E=b.next())E=f(A,x,w,E.value,_),E!==null&&(n&&E.alternate!==null&&A.delete(E.key===null?w:E.key),y=r(E,y,w),P===null?k=E:P.sibling=E,P=E);return n&&A.forEach(function(L){return e(x,L)}),et&&Fs(x,w),k}function v(x,y,b,_){if(typeof b=="object"&&b!==null&&b.type===Or&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yc:e:{for(var k=b.key,P=y;P!==null;){if(P.key===k){if(k=b.type,k===Or){if(P.tag===7){t(x,P.sibling),y=s(P,b.props.children),y.return=x,x=y;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ki&&Sv(k)===P.type){t(x,P.sibling),y=s(P,b.props),y.ref=ho(x,P,b),y.return=x,x=y;break e}t(x,P);break}else e(x,P);P=P.sibling}b.type===Or?(y=tr(b.props.children,x.mode,_,b.key),y.return=x,x=y):(_=nu(b.type,b.key,b.props,null,x.mode,_),_.ref=ho(x,y,b),_.return=x,x=_)}return a(x);case Dr:e:{for(P=b.key;y!==null;){if(y.key===P)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){t(x,y.sibling),y=s(y,b.children||[]),y.return=x,x=y;break e}else{t(x,y);break}else e(x,y);y=y.sibling}y=jd(b,x.mode,_),y.return=x,x=y}return a(x);case Ki:return P=b._init,v(x,y,P(b._payload),_)}if(wo(b))return m(x,y,b,_);if(ao(b))return g(x,y,b,_);Pc(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(t(x,y.sibling),y=s(y,b),y.return=x,x=y):(t(x,y),y=zd(b,x.mode,_),y.return=x,x=y),a(x)):t(x,y)}return v}var fa=rA(!0),aA=rA(!1),Iu=Is(null),Ru=null,Wr=null,Zg=null;function Jg(){Zg=Wr=Ru=null}function em(n){var e=Iu.current;Ze(Iu),n._currentValue=e}function lp(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function sa(n,e){Ru=n,Zg=Wr=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(dn=!0),n.firstContext=null)}function jn(n){var e=n._currentValue;if(Zg!==n)if(n={context:n,memoizedValue:e,next:null},Wr===null){if(Ru===null)throw Error(Q(308));Wr=n,Ru.dependencies={lanes:0,firstContext:n}}else Wr=Wr.next=n;return e}var $s=null;function tm(n){$s===null?$s=[n]:$s.push(n)}function oA(n,e,t,i){var s=e.interleaved;return s===null?(t.next=t,tm(e)):(t.next=s.next,s.next=t),e.interleaved=t,Mi(n,i)}function Mi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Qi=!1;function nm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lA(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _i(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ls(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Le&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Mi(n,t)}return s=i.interleaved,s===null?(e.next=e,tm(i)):(e.next=s.next,s.next=e),i.interleaved=e,Mi(n,t)}function Kc(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Bg(n,t)}}function kv(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var s=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?s=r=a:r=r.next=a,t=t.next}while(t!==null);r===null?s=r=e:r=r.next=e}else s=r=e;t={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Mu(n,e,t,i){var s=n.updateQueue;Qi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;a=0,u=c=l=null,o=r;do{var d=o.lane,f=o.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=n,g=o;switch(d=e,f=t,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=rt({},h,d);break e;case 2:Qi=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,d=s.effects,d===null?s.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;d=o,o=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);lr|=a,n.lanes=a,n.memoizedState=h}}function Cv(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],s=i.callback;if(s!==null){if(i.callback=null,i=t,typeof s!="function")throw Error(Q(191,s));s.call(i)}}}var Hl={},di=Is(Hl),ul=Is(Hl),hl=Is(Hl);function Gs(n){if(n===Hl)throw Error(Q(174));return n}function im(n,e){switch(Ye(hl,e),Ye(ul,n),Ye(di,Hl),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hf(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Hf(e,n)}Ze(di),Ye(di,e)}function pa(){Ze(di),Ze(ul),Ze(hl)}function cA(n){Gs(hl.current);var e=Gs(di.current),t=Hf(e,n.type);e!==t&&(Ye(ul,n),Ye(di,t))}function sm(n){ul.current===n&&(Ze(di),Ze(ul))}var tt=Is(0);function Lu(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ld=[];function rm(){for(var n=0;n<Ld.length;n++)Ld[n]._workInProgressVersionPrimary=null;Ld.length=0}var Qc=Fi.ReactCurrentDispatcher,Nd=Fi.ReactCurrentBatchConfig,or=0,st=null,At=null,Pt=null,Nu=!1,Vo=!1,dl=0,N2=0;function Wt(){throw Error(Q(321))}function am(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!si(n[t],e[t]))return!1;return!0}function om(n,e,t,i,s,r){if(or=r,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qc.current=n===null||n.memoizedState===null?F2:z2,n=t(i,s),Vo){r=0;do{if(Vo=!1,dl=0,25<=r)throw Error(Q(301));r+=1,Pt=At=null,e.updateQueue=null,Qc.current=j2,n=t(i,s)}while(Vo)}if(Qc.current=Du,e=At!==null&&At.next!==null,or=0,Pt=At=st=null,Nu=!1,e)throw Error(Q(300));return n}function lm(){var n=dl!==0;return dl=0,n}function li(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?st.memoizedState=Pt=n:Pt=Pt.next=n,Pt}function Bn(){if(At===null){var n=st.alternate;n=n!==null?n.memoizedState:null}else n=At.next;var e=Pt===null?st.memoizedState:Pt.next;if(e!==null)Pt=e,At=n;else{if(n===null)throw Error(Q(310));At=n,n={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Pt===null?st.memoizedState=Pt=n:Pt=Pt.next=n}return Pt}function fl(n,e){return typeof e=="function"?e(n):e}function Dd(n){var e=Bn(),t=e.queue;if(t===null)throw Error(Q(311));t.lastRenderedReducer=n;var i=At,s=i.baseQueue,r=t.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}i.baseQueue=s=r,t.pending=null}if(s!==null){r=s.next,i=i.baseState;var o=a=null,l=null,c=r;do{var u=c.lane;if((or&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=i):l=l.next=h,st.lanes|=u,lr|=u}c=c.next}while(c!==null&&c!==r);l===null?a=i:l.next=o,si(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){s=n;do r=s.lane,st.lanes|=r,lr|=r,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Od(n){var e=Bn(),t=e.queue;if(t===null)throw Error(Q(311));t.lastRenderedReducer=n;var i=t.dispatch,s=t.pending,r=e.memoizedState;if(s!==null){t.pending=null;var a=s=s.next;do r=n(r,a.action),a=a.next;while(a!==s);si(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,i]}function uA(){}function hA(n,e){var t=st,i=Bn(),s=e(),r=!si(i.memoizedState,s);if(r&&(i.memoizedState=s,dn=!0),i=i.queue,cm(pA.bind(null,t,i,n),[n]),i.getSnapshot!==e||r||Pt!==null&&Pt.memoizedState.tag&1){if(t.flags|=2048,pl(9,fA.bind(null,t,i,s,e),void 0,null),Rt===null)throw Error(Q(349));or&30||dA(t,e,s)}return s}function dA(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function fA(n,e,t,i){e.value=t,e.getSnapshot=i,gA(e)&&mA(n)}function pA(n,e,t){return t(function(){gA(e)&&mA(n)})}function gA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!si(n,t)}catch{return!0}}function mA(n){var e=Mi(n,1);e!==null&&ti(e,n,1,-1)}function _v(n){var e=li();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:n},e.queue=n,n=n.dispatch=V2.bind(null,st,n),[e.memoizedState,n]}function pl(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function xA(){return Bn().memoizedState}function Zc(n,e,t,i){var s=li();st.flags|=n,s.memoizedState=pl(1|e,t,void 0,i===void 0?null:i)}function Sh(n,e,t,i){var s=Bn();i=i===void 0?null:i;var r=void 0;if(At!==null){var a=At.memoizedState;if(r=a.destroy,i!==null&&am(i,a.deps)){s.memoizedState=pl(e,t,r,i);return}}st.flags|=n,s.memoizedState=pl(1|e,t,r,i)}function Tv(n,e){return Zc(8390656,8,n,e)}function cm(n,e){return Sh(2048,8,n,e)}function yA(n,e){return Sh(4,2,n,e)}function vA(n,e){return Sh(4,4,n,e)}function bA(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function wA(n,e,t){return t=t!=null?t.concat([n]):null,Sh(4,4,bA.bind(null,e,n),t)}function um(){}function AA(n,e){var t=Bn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&am(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function SA(n,e){var t=Bn();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&am(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function kA(n,e,t){return or&21?(si(t,e)||(t=P1(),st.lanes|=t,lr|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,dn=!0),n.memoizedState=t)}function D2(n,e){var t=ze;ze=t!==0&&4>t?t:4,n(!0);var i=Nd.transition;Nd.transition={};try{n(!1),e()}finally{ze=t,Nd.transition=i}}function CA(){return Bn().memoizedState}function O2(n,e,t){var i=us(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},_A(n))TA(e,t);else if(t=oA(n,e,t,i),t!==null){var s=an();ti(t,n,i,s),EA(t,e,i)}}function V2(n,e,t){var i=us(n),s={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(_A(n))TA(e,s);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,t);if(s.hasEagerState=!0,s.eagerState=o,si(o,a)){var l=e.interleaved;l===null?(s.next=s,tm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=oA(n,e,s,i),t!==null&&(s=an(),ti(t,n,i,s),EA(t,e,i))}}function _A(n){var e=n.alternate;return n===st||e!==null&&e===st}function TA(n,e){Vo=Nu=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function EA(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Bg(n,t)}}var Du={readContext:jn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},F2={readContext:jn,useCallback:function(n,e){return li().memoizedState=[n,e===void 0?null:e],n},useContext:jn,useEffect:Tv,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Zc(4194308,4,bA.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Zc(4194308,4,n,e)},useInsertionEffect:function(n,e){return Zc(4,2,n,e)},useMemo:function(n,e){var t=li();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=li();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=O2.bind(null,st,n),[i.memoizedState,n]},useRef:function(n){var e=li();return n={current:n},e.memoizedState=n},useState:_v,useDebugValue:um,useDeferredValue:function(n){return li().memoizedState=n},useTransition:function(){var n=_v(!1),e=n[0];return n=D2.bind(null,n[1]),li().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=st,s=li();if(et){if(t===void 0)throw Error(Q(407));t=t()}else{if(t=e(),Rt===null)throw Error(Q(349));or&30||dA(i,e,t)}s.memoizedState=t;var r={value:t,getSnapshot:e};return s.queue=r,Tv(pA.bind(null,i,r,n),[n]),i.flags|=2048,pl(9,fA.bind(null,i,r,t,e),void 0,null),t},useId:function(){var n=li(),e=Rt.identifierPrefix;if(et){var t=ki,i=Si;t=(i&~(1<<32-ei(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=dl++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=N2++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},z2={readContext:jn,useCallback:AA,useContext:jn,useEffect:cm,useImperativeHandle:wA,useInsertionEffect:yA,useLayoutEffect:vA,useMemo:SA,useReducer:Dd,useRef:xA,useState:function(){return Dd(fl)},useDebugValue:um,useDeferredValue:function(n){var e=Bn();return kA(e,At.memoizedState,n)},useTransition:function(){var n=Dd(fl)[0],e=Bn().memoizedState;return[n,e]},useMutableSource:uA,useSyncExternalStore:hA,useId:CA,unstable_isNewReconciler:!1},j2={readContext:jn,useCallback:AA,useContext:jn,useEffect:cm,useImperativeHandle:wA,useInsertionEffect:yA,useLayoutEffect:vA,useMemo:SA,useReducer:Od,useRef:xA,useState:function(){return Od(fl)},useDebugValue:um,useDeferredValue:function(n){var e=Bn();return At===null?e.memoizedState=n:kA(e,At.memoizedState,n)},useTransition:function(){var n=Od(fl)[0],e=Bn().memoizedState;return[n,e]},useMutableSource:uA,useSyncExternalStore:hA,useId:CA,unstable_isNewReconciler:!1};function Gn(n,e){if(n&&n.defaultProps){e=rt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function cp(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:rt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var kh={isMounted:function(n){return(n=n._reactInternals)?gr(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=an(),s=us(n),r=_i(i,s);r.payload=e,t!=null&&(r.callback=t),e=ls(n,r,s),e!==null&&(ti(e,n,s,i),Kc(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=an(),s=us(n),r=_i(i,s);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=ls(n,r,s),e!==null&&(ti(e,n,s,i),Kc(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=an(),i=us(n),s=_i(t,i);s.tag=2,e!=null&&(s.callback=e),e=ls(n,s,i),e!==null&&(ti(e,n,i,t),Kc(e,n,i))}};function Ev(n,e,t,i,s,r,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!al(t,i)||!al(s,r):!0}function PA(n,e,t){var i=!1,s=ys,r=e.contextType;return typeof r=="object"&&r!==null?r=jn(r):(s=pn(e)?rr:Zt.current,i=e.contextTypes,r=(i=i!=null)?ha(n,s):ys),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=r),e}function Pv(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&kh.enqueueReplaceState(e,e.state,null)}function up(n,e,t,i){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},nm(n);var r=e.contextType;typeof r=="object"&&r!==null?s.context=jn(r):(r=pn(e)?rr:Zt.current,s.context=ha(n,r)),s.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(cp(n,e,r,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&kh.enqueueReplaceState(s,s.state,null),Mu(n,t,s,i),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function ga(n,e){try{var t="",i=e;do t+=pE(i),i=i.return;while(i);var s=t}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:s,digest:null}}function Vd(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function hp(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var B2=typeof WeakMap=="function"?WeakMap:Map;function IA(n,e,t){t=_i(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Vu||(Vu=!0,wp=i),hp(n,e)},t}function RA(n,e,t){t=_i(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;t.payload=function(){return i(s)},t.callback=function(){hp(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){hp(n,e),typeof i!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function Iv(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new B2;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(t)||(s.add(t),n=tP.bind(null,n,e,t),e.then(n,n))}function Rv(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Mv(n,e,t,i,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=_i(-1,1),e.tag=2,ls(t,e,1))),t.lanes|=1),n)}var H2=Fi.ReactCurrentOwner,dn=!1;function nn(n,e,t,i){e.child=n===null?aA(e,null,t,i):fa(e,n.child,t,i)}function Lv(n,e,t,i,s){t=t.render;var r=e.ref;return sa(e,s),i=om(n,e,t,i,r,s),t=lm(),n!==null&&!dn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Li(n,e,s)):(et&&t&&qg(e),e.flags|=1,nn(n,e,i,s),e.child)}function Nv(n,e,t,i,s){if(n===null){var r=t.type;return typeof r=="function"&&!ym(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,MA(n,e,r,i,s)):(n=nu(t.type,null,i,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&s)){var a=r.memoizedProps;if(t=t.compare,t=t!==null?t:al,t(a,i)&&n.ref===e.ref)return Li(n,e,s)}return e.flags|=1,n=hs(r,i),n.ref=e.ref,n.return=e,e.child=n}function MA(n,e,t,i,s){if(n!==null){var r=n.memoizedProps;if(al(r,i)&&n.ref===e.ref)if(dn=!1,e.pendingProps=i=r,(n.lanes&s)!==0)n.flags&131072&&(dn=!0);else return e.lanes=n.lanes,Li(n,e,s)}return dp(n,e,t,i,s)}function LA(n,e,t){var i=e.pendingProps,s=i.children,r=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ur,xn),xn|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ye(Ur,xn),xn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:t,Ye(Ur,xn),xn|=i}else r!==null?(i=r.baseLanes|t,e.memoizedState=null):i=t,Ye(Ur,xn),xn|=i;return nn(n,e,s,t),e.child}function NA(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function dp(n,e,t,i,s){var r=pn(t)?rr:Zt.current;return r=ha(e,r),sa(e,s),t=om(n,e,t,i,r,s),i=lm(),n!==null&&!dn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,Li(n,e,s)):(et&&i&&qg(e),e.flags|=1,nn(n,e,t,s),e.child)}function Dv(n,e,t,i,s){if(pn(t)){var r=!0;Tu(e)}else r=!1;if(sa(e,s),e.stateNode===null)Jc(n,e),PA(e,t,i),up(e,t,i,s),i=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=t.contextType;typeof c=="object"&&c!==null?c=jn(c):(c=pn(t)?rr:Zt.current,c=ha(e,c));var u=t.getDerivedStateFromProps,h=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&Pv(e,a,i,c),Qi=!1;var d=e.memoizedState;a.state=d,Mu(e,i,a,s),l=e.memoizedState,o!==i||d!==l||fn.current||Qi?(typeof u=="function"&&(cp(e,t,u,i),l=e.memoizedState),(o=Qi||Ev(e,t,o,i,d,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,lA(n,e),o=e.memoizedProps,c=e.type===e.elementType?o:Gn(e.type,o),a.props=c,h=e.pendingProps,d=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=jn(l):(l=pn(t)?rr:Zt.current,l=ha(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&Pv(e,a,i,l),Qi=!1,d=e.memoizedState,a.state=d,Mu(e,i,a,s);var m=e.memoizedState;o!==h||d!==m||fn.current||Qi?(typeof f=="function"&&(cp(e,t,f,i),m=e.memoizedState),(c=Qi||Ev(e,t,c,i,d,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&d===n.memoizedState||(e.flags|=1024),i=!1)}return fp(n,e,t,i,r,s)}function fp(n,e,t,i,s,r){NA(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&bv(e,t,!1),Li(n,e,r);i=e.stateNode,H2.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=fa(e,n.child,null,r),e.child=fa(e,null,o,r)):nn(n,e,o,r),e.memoizedState=i.state,s&&bv(e,t,!0),e.child}function DA(n){var e=n.stateNode;e.pendingContext?vv(n,e.pendingContext,e.pendingContext!==e.context):e.context&&vv(n,e.context,!1),im(n,e.containerInfo)}function Ov(n,e,t,i,s){return da(),Qg(s),e.flags|=256,nn(n,e,t,i),e.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function gp(n){return{baseLanes:n,cachePool:null,transitions:null}}function OA(n,e,t){var i=e.pendingProps,s=tt.current,r=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(s&2)!==0),o?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Ye(tt,s&1),n===null)return op(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,r?(i=e.mode,r=e.child,a={mode:"hidden",children:a},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Th(a,i,0,null),n=tr(n,i,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=gp(t),e.memoizedState=pp,n):hm(e,a));if(s=n.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return X2(n,e,a,i,o,s,t);if(r){r=i.fallback,a=e.mode,s=n.child,o=s.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=hs(s,l),i.subtreeFlags=s.subtreeFlags&14680064),o!==null?r=hs(o,r):(r=tr(r,a,t,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,a=n.child.memoizedState,a=a===null?gp(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=n.childLanes&~t,e.memoizedState=pp,i}return r=n.child,n=r.sibling,i=hs(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function hm(n,e){return e=Th({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ic(n,e,t,i){return i!==null&&Qg(i),fa(e,n.child,null,t),n=hm(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function X2(n,e,t,i,s,r,a){if(t)return e.flags&256?(e.flags&=-257,i=Vd(Error(Q(422))),Ic(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Th({mode:"visible",children:i.children},s,0,null),r=tr(r,s,a,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&fa(e,n.child,null,a),e.child.memoizedState=gp(a),e.memoizedState=pp,r);if(!(e.mode&1))return Ic(n,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var o=i.dgst;return i=o,r=Error(Q(419)),i=Vd(r,i,void 0),Ic(n,e,a,i)}if(o=(a&n.childLanes)!==0,dn||o){if(i=Rt,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Mi(n,s),ti(i,n,s,-1))}return xm(),i=Vd(Error(Q(421))),Ic(n,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=nP.bind(null,n),s._reactRetry=e,null):(n=r.treeContext,yn=os(s.nextSibling),vn=e,et=!0,Kn=null,n!==null&&(Mn[Ln++]=Si,Mn[Ln++]=ki,Mn[Ln++]=ar,Si=n.id,ki=n.overflow,ar=e),e=hm(e,i.children),e.flags|=4096,e)}function Vv(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),lp(n.return,e,t)}function Fd(n,e,t,i,s){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=t,r.tailMode=s)}function VA(n,e,t){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(nn(n,e,i.children,t),i=tt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vv(n,t,e);else if(n.tag===19)Vv(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ye(tt,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&Lu(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Fd(e,!1,s,t,r);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&Lu(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Fd(e,!0,t,null,r);break;case"together":Fd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Li(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),lr|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Q(153));if(e.child!==null){for(n=e.child,t=hs(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=hs(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function W2(n,e,t){switch(e.tag){case 3:DA(e),da();break;case 5:cA(e);break;case 1:pn(e.type)&&Tu(e);break;case 4:im(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Ye(Iu,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ye(tt,tt.current&1),e.flags|=128,null):t&e.child.childLanes?OA(n,e,t):(Ye(tt,tt.current&1),n=Li(n,e,t),n!==null?n.sibling:null);Ye(tt,tt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return VA(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ye(tt,tt.current),i)break;return null;case 22:case 23:return e.lanes=0,LA(n,e,t)}return Li(n,e,t)}var FA,mp,zA,jA;FA=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};mp=function(){};zA=function(n,e,t,i){var s=n.memoizedProps;if(s!==i){n=e.stateNode,Gs(di.current);var r=null;switch(t){case"input":s=Ff(n,s),i=Ff(n,i),r=[];break;case"select":s=rt({},s,{value:void 0}),i=rt({},i,{value:void 0}),r=[];break;case"textarea":s=Bf(n,s),i=Bf(n,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Cu)}Xf(t,i);var a;t=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Jo.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(o=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(r||(r=[]),r.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Jo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ke("scroll",n),r||o===l||(r=[])):(r=r||[]).push(c,l))}t&&(r=r||[]).push("style",t);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};jA=function(n,e,t,i){t!==i&&(e.flags|=4)};function fo(n,e){if(!et)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Yt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function Y2(n,e,t){var i=e.pendingProps;switch(Kg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return pn(e.type)&&_u(),Yt(e),null;case 3:return i=e.stateNode,pa(),Ze(fn),Ze(Zt),rm(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Ec(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(kp(Kn),Kn=null))),mp(n,e),Yt(e),null;case 5:sm(e);var s=Gs(hl.current);if(t=e.type,n!==null&&e.stateNode!=null)zA(n,e,t,i,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Q(166));return Yt(e),null}if(n=Gs(di.current),Ec(e)){i=e.stateNode,t=e.type;var r=e.memoizedProps;switch(i[ui]=e,i[cl]=r,n=(e.mode&1)!==0,t){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(s=0;s<So.length;s++)Ke(So[s],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Uy(i,r),Ke("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Ke("invalid",i);break;case"textarea":Gy(i,r),Ke("invalid",i)}Xf(t,r),s=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];a==="children"?typeof o=="string"?i.textContent!==o&&(r.suppressHydrationWarning!==!0&&Tc(i.textContent,o,n),s=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&Tc(i.textContent,o,n),s=["children",""+o]):Jo.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ke("scroll",i)}switch(t){case"input":vc(i),$y(i,r,!0);break;case"textarea":vc(i),qy(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Cu)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=p1(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[ui]=e,n[cl]=i,FA(n,e,!1,!1),e.stateNode=n;e:{switch(a=Wf(t,i),t){case"dialog":Ke("cancel",n),Ke("close",n),s=i;break;case"iframe":case"object":case"embed":Ke("load",n),s=i;break;case"video":case"audio":for(s=0;s<So.length;s++)Ke(So[s],n);s=i;break;case"source":Ke("error",n),s=i;break;case"img":case"image":case"link":Ke("error",n),Ke("load",n),s=i;break;case"details":Ke("toggle",n),s=i;break;case"input":Uy(n,i),s=Ff(n,i),Ke("invalid",n);break;case"option":s=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},s=rt({},i,{value:void 0}),Ke("invalid",n);break;case"textarea":Gy(n,i),s=Bf(n,i),Ke("invalid",n);break;default:s=i}Xf(t,s),o=s;for(r in o)if(o.hasOwnProperty(r)){var l=o[r];r==="style"?x1(n,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g1(n,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&el(n,l):typeof l=="number"&&el(n,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Jo.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Ke("scroll",n):l!=null&&Dg(n,r,l,a))}switch(t){case"input":vc(n),$y(n,i,!1);break;case"textarea":vc(n),qy(n);break;case"option":i.value!=null&&n.setAttribute("value",""+xs(i.value));break;case"select":n.multiple=!!i.multiple,r=i.value,r!=null?ea(n,!!i.multiple,r,!1):i.defaultValue!=null&&ea(n,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Cu)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(n&&e.stateNode!=null)jA(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Q(166));if(t=Gs(hl.current),Gs(di.current),Ec(e)){if(i=e.stateNode,t=e.memoizedProps,i[ui]=e,(r=i.nodeValue!==t)&&(n=vn,n!==null))switch(n.tag){case 3:Tc(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Tc(i.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ui]=e,e.stateNode=i}return Yt(e),null;case 13:if(Ze(tt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(et&&yn!==null&&e.mode&1&&!(e.flags&128))sA(),da(),e.flags|=98560,r=!1;else if(r=Ec(e),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(Q(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Q(317));r[ui]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),r=!1}else Kn!==null&&(kp(Kn),Kn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||tt.current&1?kt===0&&(kt=3):xm())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return pa(),mp(n,e),n===null&&ol(e.stateNode.containerInfo),Yt(e),null;case 10:return em(e.type._context),Yt(e),null;case 17:return pn(e.type)&&_u(),Yt(e),null;case 19:if(Ze(tt),r=e.memoizedState,r===null)return Yt(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)fo(r,!1);else{if(kt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Lu(n),a!==null){for(e.flags|=128,fo(r,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)r=t,n=i,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,n=a.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ye(tt,tt.current&1|2),e.child}n=n.sibling}r.tail!==null&&gt()>ma&&(e.flags|=128,i=!0,fo(r,!1),e.lanes=4194304)}else{if(!i)if(n=Lu(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),fo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!et)return Yt(e),null}else 2*gt()-r.renderingStartTime>ma&&t!==1073741824&&(e.flags|=128,i=!0,fo(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=gt(),e.sibling=null,t=tt.current,Ye(tt,i?t&1|2:t&1),e):(Yt(e),null);case 22:case 23:return mm(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?xn&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function U2(n,e){switch(Kg(e),e.tag){case 1:return pn(e.type)&&_u(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return pa(),Ze(fn),Ze(Zt),rm(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return sm(e),null;case 13:if(Ze(tt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));da()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Ze(tt),null;case 4:return pa(),null;case 10:return em(e.type._context),null;case 22:case 23:return mm(),null;case 24:return null;default:return null}}var Rc=!1,qt=!1,$2=typeof WeakSet=="function"?WeakSet:Set,se=null;function Yr(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){ut(n,e,i)}else t.current=null}function xp(n,e,t){try{t()}catch(i){ut(n,e,i)}}var Fv=!1;function G2(n,e){if(ep=Au,n=Y1(),Gg(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,c=0,u=0,h=n,d=null;t:for(;;){for(var f;h!==t||s!==0&&h.nodeType!==3||(o=a+s),h!==r||i!==0&&h.nodeType!==3||(l=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===n)break t;if(d===t&&++c===s&&(o=a),d===r&&++u===i&&(l=a),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(tp={focusedElem:n,selectionRange:t},Au=!1,se=e;se!==null;)if(e=se,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,se=n;else for(;se!==null;){e=se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?g:Gn(e.type,g),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(_){ut(e,e.return,_)}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}return m=Fv,Fv=!1,m}function Fo(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&n)===n){var r=s.destroy;s.destroy=void 0,r!==void 0&&xp(e,t,r)}s=s.next}while(s!==i)}}function Ch(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function yp(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function BA(n){var e=n.alternate;e!==null&&(n.alternate=null,BA(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ui],delete e[cl],delete e[sp],delete e[I2],delete e[R2])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function HA(n){return n.tag===5||n.tag===3||n.tag===4}function zv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||HA(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vp(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Cu));else if(i!==4&&(n=n.child,n!==null))for(vp(n,e,t),n=n.sibling;n!==null;)vp(n,e,t),n=n.sibling}function bp(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(bp(n,e,t),n=n.sibling;n!==null;)bp(n,e,t),n=n.sibling}var Mt=null,qn=!1;function $i(n,e,t){for(t=t.child;t!==null;)XA(n,e,t),t=t.sibling}function XA(n,e,t){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(xh,t)}catch{}switch(t.tag){case 5:qt||Yr(t,e);case 6:var i=Mt,s=qn;Mt=null,$i(n,e,t),Mt=i,qn=s,Mt!==null&&(qn?(n=Mt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Mt.removeChild(t.stateNode));break;case 18:Mt!==null&&(qn?(n=Mt,t=t.stateNode,n.nodeType===8?Rd(n.parentNode,t):n.nodeType===1&&Rd(n,t),sl(n)):Rd(Mt,t.stateNode));break;case 4:i=Mt,s=qn,Mt=t.stateNode.containerInfo,qn=!0,$i(n,e,t),Mt=i,qn=s;break;case 0:case 11:case 14:case 15:if(!qt&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&xp(t,e,a),s=s.next}while(s!==i)}$i(n,e,t);break;case 1:if(!qt&&(Yr(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){ut(t,e,o)}$i(n,e,t);break;case 21:$i(n,e,t);break;case 22:t.mode&1?(qt=(i=qt)||t.memoizedState!==null,$i(n,e,t),qt=i):$i(n,e,t);break;default:$i(n,e,t)}}function jv(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new $2),e.forEach(function(i){var s=iP.bind(null,n,i);t.has(i)||(t.add(i),i.then(s,s))})}}function Wn(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];try{var r=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Mt=o.stateNode,qn=!1;break e;case 3:Mt=o.stateNode.containerInfo,qn=!0;break e;case 4:Mt=o.stateNode.containerInfo,qn=!0;break e}o=o.return}if(Mt===null)throw Error(Q(160));XA(r,a,s),Mt=null,qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ut(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WA(e,n),e=e.sibling}function WA(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Wn(e,n),oi(n),i&4){try{Fo(3,n,n.return),Ch(3,n)}catch(g){ut(n,n.return,g)}try{Fo(5,n,n.return)}catch(g){ut(n,n.return,g)}}break;case 1:Wn(e,n),oi(n),i&512&&t!==null&&Yr(t,t.return);break;case 5:if(Wn(e,n),oi(n),i&512&&t!==null&&Yr(t,t.return),n.flags&32){var s=n.stateNode;try{el(s,"")}catch(g){ut(n,n.return,g)}}if(i&4&&(s=n.stateNode,s!=null)){var r=n.memoizedProps,a=t!==null?t.memoizedProps:r,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&d1(s,r),Wf(o,a);var c=Wf(o,r);for(a=0;a<l.length;a+=2){var u=l[a],h=l[a+1];u==="style"?x1(s,h):u==="dangerouslySetInnerHTML"?g1(s,h):u==="children"?el(s,h):Dg(s,u,h,c)}switch(o){case"input":zf(s,r);break;case"textarea":f1(s,r);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?ea(s,!!r.multiple,f,!1):d!==!!r.multiple&&(r.defaultValue!=null?ea(s,!!r.multiple,r.defaultValue,!0):ea(s,!!r.multiple,r.multiple?[]:"",!1))}s[cl]=r}catch(g){ut(n,n.return,g)}}break;case 6:if(Wn(e,n),oi(n),i&4){if(n.stateNode===null)throw Error(Q(162));s=n.stateNode,r=n.memoizedProps;try{s.nodeValue=r}catch(g){ut(n,n.return,g)}}break;case 3:if(Wn(e,n),oi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{sl(e.containerInfo)}catch(g){ut(n,n.return,g)}break;case 4:Wn(e,n),oi(n);break;case 13:Wn(e,n),oi(n),s=n.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(pm=gt())),i&4&&jv(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(qt=(c=qt)||u,Wn(e,n),qt=c):Wn(e,n),oi(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(se=n,u=n.child;u!==null;){for(h=se=u;se!==null;){switch(d=se,f=d.child,d.tag){case 0:case 11:case 14:case 15:Fo(4,d,d.return);break;case 1:Yr(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){i=d,t=d.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ut(i,t,g)}}break;case 5:Yr(d,d.return);break;case 22:if(d.memoizedState!==null){Hv(h);continue}}f!==null?(f.return=d,se=f):Hv(h)}u=u.sibling}e:for(u=null,h=n;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=m1("display",a))}catch(g){ut(n,n.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ut(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wn(e,n),oi(n),i&4&&jv(n);break;case 21:break;default:Wn(e,n),oi(n)}}function oi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(HA(t)){var i=t;break e}t=t.return}throw Error(Q(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(el(s,""),i.flags&=-33);var r=zv(n);bp(n,r,s);break;case 3:case 4:var a=i.stateNode.containerInfo,o=zv(n);vp(n,o,a);break;default:throw Error(Q(161))}}catch(l){ut(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function q2(n,e,t){se=n,YA(n)}function YA(n,e,t){for(var i=(n.mode&1)!==0;se!==null;){var s=se,r=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||Rc;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||qt;o=Rc;var c=qt;if(Rc=a,(qt=l)&&!c)for(se=s;se!==null;)a=se,l=a.child,a.tag===22&&a.memoizedState!==null?Xv(s):l!==null?(l.return=a,se=l):Xv(s);for(;r!==null;)se=r,YA(r),r=r.sibling;se=s,Rc=o,qt=c}Bv(n)}else s.subtreeFlags&8772&&r!==null?(r.return=s,se=r):Bv(n)}}function Bv(n){for(;se!==null;){var e=se;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||Ch(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!qt)if(t===null)i.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Gn(e.type,t.memoizedProps);i.componentDidUpdate(s,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Cv(e,r,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Cv(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&sl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}qt||e.flags&512&&yp(e)}catch(d){ut(e,e.return,d)}}if(e===n){se=null;break}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}}function Hv(n){for(;se!==null;){var e=se;if(e===n){se=null;break}var t=e.sibling;if(t!==null){t.return=e.return,se=t;break}se=e.return}}function Xv(n){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Ch(4,e)}catch(l){ut(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){ut(e,s,l)}}var r=e.return;try{yp(e)}catch(l){ut(e,r,l)}break;case 5:var a=e.return;try{yp(e)}catch(l){ut(e,a,l)}}}catch(l){ut(e,e.return,l)}if(e===n){se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,se=o;break}se=e.return}}var K2=Math.ceil,Ou=Fi.ReactCurrentDispatcher,dm=Fi.ReactCurrentOwner,Fn=Fi.ReactCurrentBatchConfig,Le=0,Rt=null,yt=null,Ft=0,xn=0,Ur=Is(0),kt=0,gl=null,lr=0,_h=0,fm=0,zo=null,hn=null,pm=0,ma=1/0,wi=null,Vu=!1,wp=null,cs=null,Mc=!1,ns=null,Fu=0,jo=0,Ap=null,eu=-1,tu=0;function an(){return Le&6?gt():eu!==-1?eu:eu=gt()}function us(n){return n.mode&1?Le&2&&Ft!==0?Ft&-Ft:L2.transition!==null?(tu===0&&(tu=P1()),tu):(n=ze,n!==0||(n=window.event,n=n===void 0?16:O1(n.type)),n):1}function ti(n,e,t,i){if(50<jo)throw jo=0,Ap=null,Error(Q(185));zl(n,t,i),(!(Le&2)||n!==Rt)&&(n===Rt&&(!(Le&2)&&(_h|=t),kt===4&&Ji(n,Ft)),gn(n,i),t===1&&Le===0&&!(e.mode&1)&&(ma=gt()+500,Ah&&Rs()))}function gn(n,e){var t=n.callbackNode;LE(n,e);var i=wu(n,n===Rt?Ft:0);if(i===0)t!==null&&Zy(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&Zy(t),e===1)n.tag===0?M2(Wv.bind(null,n)):tA(Wv.bind(null,n)),E2(function(){!(Le&6)&&Rs()}),t=null;else{switch(I1(i)){case 1:t=jg;break;case 4:t=T1;break;case 16:t=bu;break;case 536870912:t=E1;break;default:t=bu}t=JA(t,UA.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function UA(n,e){if(eu=-1,tu=0,Le&6)throw Error(Q(327));var t=n.callbackNode;if(ra()&&n.callbackNode!==t)return null;var i=wu(n,n===Rt?Ft:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=zu(n,i);else{e=i;var s=Le;Le|=2;var r=GA();(Rt!==n||Ft!==e)&&(wi=null,ma=gt()+500,er(n,e));do try{J2();break}catch(o){$A(n,o)}while(!0);Jg(),Ou.current=r,Le=s,yt!==null?e=0:(Rt=null,Ft=0,e=kt)}if(e!==0){if(e===2&&(s=qf(n),s!==0&&(i=s,e=Sp(n,s))),e===1)throw t=gl,er(n,0),Ji(n,i),gn(n,gt()),t;if(e===6)Ji(n,i);else{if(s=n.current.alternate,!(i&30)&&!Q2(s)&&(e=zu(n,i),e===2&&(r=qf(n),r!==0&&(i=r,e=Sp(n,r))),e===1))throw t=gl,er(n,0),Ji(n,i),gn(n,gt()),t;switch(n.finishedWork=s,n.finishedLanes=i,e){case 0:case 1:throw Error(Q(345));case 2:zs(n,hn,wi);break;case 3:if(Ji(n,i),(i&130023424)===i&&(e=pm+500-gt(),10<e)){if(wu(n,0)!==0)break;if(s=n.suspendedLanes,(s&i)!==i){an(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=ip(zs.bind(null,n,hn,wi),e);break}zs(n,hn,wi);break;case 4:if(Ji(n,i),(i&4194240)===i)break;for(e=n.eventTimes,s=-1;0<i;){var a=31-ei(i);r=1<<a,a=e[a],a>s&&(s=a),i&=~r}if(i=s,i=gt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*K2(i/1960))-i,10<i){n.timeoutHandle=ip(zs.bind(null,n,hn,wi),i);break}zs(n,hn,wi);break;case 5:zs(n,hn,wi);break;default:throw Error(Q(329))}}}return gn(n,gt()),n.callbackNode===t?UA.bind(null,n):null}function Sp(n,e){var t=zo;return n.current.memoizedState.isDehydrated&&(er(n,e).flags|=256),n=zu(n,e),n!==2&&(e=hn,hn=t,e!==null&&kp(e)),n}function kp(n){hn===null?hn=n:hn.push.apply(hn,n)}function Q2(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var s=t[i],r=s.getSnapshot;s=s.value;try{if(!si(r(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ji(n,e){for(e&=~fm,e&=~_h,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-ei(e),i=1<<t;n[t]=-1,e&=~i}}function Wv(n){if(Le&6)throw Error(Q(327));ra();var e=wu(n,0);if(!(e&1))return gn(n,gt()),null;var t=zu(n,e);if(n.tag!==0&&t===2){var i=qf(n);i!==0&&(e=i,t=Sp(n,i))}if(t===1)throw t=gl,er(n,0),Ji(n,e),gn(n,gt()),t;if(t===6)throw Error(Q(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,zs(n,hn,wi),gn(n,gt()),null}function gm(n,e){var t=Le;Le|=1;try{return n(e)}finally{Le=t,Le===0&&(ma=gt()+500,Ah&&Rs())}}function cr(n){ns!==null&&ns.tag===0&&!(Le&6)&&ra();var e=Le;Le|=1;var t=Fn.transition,i=ze;try{if(Fn.transition=null,ze=1,n)return n()}finally{ze=i,Fn.transition=t,Le=e,!(Le&6)&&Rs()}}function mm(){xn=Ur.current,Ze(Ur)}function er(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,T2(t)),yt!==null)for(t=yt.return;t!==null;){var i=t;switch(Kg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&_u();break;case 3:pa(),Ze(fn),Ze(Zt),rm();break;case 5:sm(i);break;case 4:pa();break;case 13:Ze(tt);break;case 19:Ze(tt);break;case 10:em(i.type._context);break;case 22:case 23:mm()}t=t.return}if(Rt=n,yt=n=hs(n.current,null),Ft=xn=e,kt=0,gl=null,fm=_h=lr=0,hn=zo=null,$s!==null){for(e=0;e<$s.length;e++)if(t=$s[e],i=t.interleaved,i!==null){t.interleaved=null;var s=i.next,r=t.pending;if(r!==null){var a=r.next;r.next=s,i.next=a}t.pending=i}$s=null}return n}function $A(n,e){do{var t=yt;try{if(Jg(),Qc.current=Du,Nu){for(var i=st.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Nu=!1}if(or=0,Pt=At=st=null,Vo=!1,dl=0,dm.current=null,t===null||t.return===null){kt=1,gl=e,yt=null;break}e:{var r=n,a=t.return,o=t,l=e;if(e=Ft,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Rv(a);if(f!==null){f.flags&=-257,Mv(f,a,o,r,e),f.mode&1&&Iv(r,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Iv(r,c,e),xm();break e}l=Error(Q(426))}}else if(et&&o.mode&1){var v=Rv(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Mv(v,a,o,r,e),Qg(ga(l,o));break e}}r=l=ga(l,o),kt!==4&&(kt=2),zo===null?zo=[r]:zo.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var x=IA(r,l,e);kv(r,x);break e;case 1:o=l;var y=r.type,b=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(cs===null||!cs.has(b)))){r.flags|=65536,e&=-e,r.lanes|=e;var _=RA(r,o,e);kv(r,_);break e}}r=r.return}while(r!==null)}KA(t)}catch(k){e=k,yt===t&&t!==null&&(yt=t=t.return);continue}break}while(!0)}function GA(){var n=Ou.current;return Ou.current=Du,n===null?Du:n}function xm(){(kt===0||kt===3||kt===2)&&(kt=4),Rt===null||!(lr&268435455)&&!(_h&268435455)||Ji(Rt,Ft)}function zu(n,e){var t=Le;Le|=2;var i=GA();(Rt!==n||Ft!==e)&&(wi=null,er(n,e));do try{Z2();break}catch(s){$A(n,s)}while(!0);if(Jg(),Le=t,Ou.current=i,yt!==null)throw Error(Q(261));return Rt=null,Ft=0,kt}function Z2(){for(;yt!==null;)qA(yt)}function J2(){for(;yt!==null&&!kE();)qA(yt)}function qA(n){var e=ZA(n.alternate,n,xn);n.memoizedProps=n.pendingProps,e===null?KA(n):yt=e,dm.current=null}function KA(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=U2(t,e),t!==null){t.flags&=32767,yt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{kt=6,yt=null;return}}else if(t=Y2(t,e,xn),t!==null){yt=t;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=n}while(e!==null);kt===0&&(kt=5)}function zs(n,e,t){var i=ze,s=Fn.transition;try{Fn.transition=null,ze=1,eP(n,e,t,i)}finally{Fn.transition=s,ze=i}return null}function eP(n,e,t,i){do ra();while(ns!==null);if(Le&6)throw Error(Q(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Q(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(NE(n,r),n===Rt&&(yt=Rt=null,Ft=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Mc||(Mc=!0,JA(bu,function(){return ra(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=Fn.transition,Fn.transition=null;var a=ze;ze=1;var o=Le;Le|=4,dm.current=null,G2(n,t),WA(t,n),b2(tp),Au=!!ep,tp=ep=null,n.current=t,q2(t),CE(),Le=o,ze=a,Fn.transition=r}else n.current=t;if(Mc&&(Mc=!1,ns=n,Fu=s),r=n.pendingLanes,r===0&&(cs=null),EE(t.stateNode),gn(n,gt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],i(s.value,{componentStack:s.stack,digest:s.digest});if(Vu)throw Vu=!1,n=wp,wp=null,n;return Fu&1&&n.tag!==0&&ra(),r=n.pendingLanes,r&1?n===Ap?jo++:(jo=0,Ap=n):jo=0,Rs(),null}function ra(){if(ns!==null){var n=I1(Fu),e=Fn.transition,t=ze;try{if(Fn.transition=null,ze=16>n?16:n,ns===null)var i=!1;else{if(n=ns,ns=null,Fu=0,Le&6)throw Error(Q(331));var s=Le;for(Le|=4,se=n.current;se!==null;){var r=se,a=r.child;if(se.flags&16){var o=r.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(se=c;se!==null;){var u=se;switch(u.tag){case 0:case 11:case 15:Fo(8,u,r)}var h=u.child;if(h!==null)h.return=u,se=h;else for(;se!==null;){u=se;var d=u.sibling,f=u.return;if(BA(u),u===c){se=null;break}if(d!==null){d.return=f,se=d;break}se=f}}}var m=r.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}se=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,se=a;else e:for(;se!==null;){if(r=se,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Fo(9,r,r.return)}var x=r.sibling;if(x!==null){x.return=r.return,se=x;break e}se=r.return}}var y=n.current;for(se=y;se!==null;){a=se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,se=b;else e:for(a=y;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ch(9,o)}}catch(k){ut(o,o.return,k)}if(o===a){se=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,se=_;break e}se=o.return}}if(Le=s,Rs(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(xh,n)}catch{}i=!0}return i}finally{ze=t,Fn.transition=e}}return!1}function Yv(n,e,t){e=ga(t,e),e=IA(n,e,1),n=ls(n,e,1),e=an(),n!==null&&(zl(n,1,e),gn(n,e))}function ut(n,e,t){if(n.tag===3)Yv(n,n,t);else for(;e!==null;){if(e.tag===3){Yv(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(cs===null||!cs.has(i))){n=ga(t,n),n=RA(e,n,1),e=ls(e,n,1),n=an(),e!==null&&(zl(e,1,n),gn(e,n));break}}e=e.return}}function tP(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=an(),n.pingedLanes|=n.suspendedLanes&t,Rt===n&&(Ft&t)===t&&(kt===4||kt===3&&(Ft&130023424)===Ft&&500>gt()-pm?er(n,0):fm|=t),gn(n,e)}function QA(n,e){e===0&&(n.mode&1?(e=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):e=1);var t=an();n=Mi(n,e),n!==null&&(zl(n,e,t),gn(n,t))}function nP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),QA(n,t)}function iP(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Q(314))}i!==null&&i.delete(e),QA(n,t)}var ZA;ZA=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||fn.current)dn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return dn=!1,W2(n,e,t);dn=!!(n.flags&131072)}else dn=!1,et&&e.flags&1048576&&nA(e,Pu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Jc(n,e),n=e.pendingProps;var s=ha(e,Zt.current);sa(e,t),s=om(null,e,i,n,s,t);var r=lm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(i)?(r=!0,Tu(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nm(e),s.updater=kh,e.stateNode=s,s._reactInternals=e,up(e,i,n,t),e=fp(null,e,i,!0,r,t)):(e.tag=0,et&&r&&qg(e),nn(null,e,s,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Jc(n,e),n=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=rP(i),n=Gn(i,n),s){case 0:e=dp(null,e,i,n,t);break e;case 1:e=Dv(null,e,i,n,t);break e;case 11:e=Lv(null,e,i,n,t);break e;case 14:e=Nv(null,e,i,Gn(i.type,n),t);break e}throw Error(Q(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Gn(i,s),dp(n,e,i,s,t);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Gn(i,s),Dv(n,e,i,s,t);case 3:e:{if(DA(e),n===null)throw Error(Q(387));i=e.pendingProps,r=e.memoizedState,s=r.element,lA(n,e),Mu(e,i,null,t);var a=e.memoizedState;if(i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=ga(Error(Q(423)),e),e=Ov(n,e,i,t,s);break e}else if(i!==s){s=ga(Error(Q(424)),e),e=Ov(n,e,i,t,s);break e}else for(yn=os(e.stateNode.containerInfo.firstChild),vn=e,et=!0,Kn=null,t=aA(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(da(),i===s){e=Li(n,e,t);break e}nn(n,e,i,t)}e=e.child}return e;case 5:return cA(e),n===null&&op(e),i=e.type,s=e.pendingProps,r=n!==null?n.memoizedProps:null,a=s.children,np(i,s)?a=null:r!==null&&np(i,r)&&(e.flags|=32),NA(n,e),nn(n,e,a,t),e.child;case 6:return n===null&&op(e),null;case 13:return OA(n,e,t);case 4:return im(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=fa(e,null,i,t):nn(n,e,i,t),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Gn(i,s),Lv(n,e,i,s,t);case 7:return nn(n,e,e.pendingProps,t),e.child;case 8:return nn(n,e,e.pendingProps.children,t),e.child;case 12:return nn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,a=s.value,Ye(Iu,i._currentValue),i._currentValue=a,r!==null)if(si(r.value,a)){if(r.children===s.children&&!fn.current){e=Li(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){a=r.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=_i(-1,t&-t),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),lp(r.return,t,e),o.lanes|=t;break}l=l.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(Q(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),lp(a,t,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}nn(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,sa(e,t),s=jn(s),i=i(s),e.flags|=1,nn(n,e,i,t),e.child;case 14:return i=e.type,s=Gn(i,e.pendingProps),s=Gn(i.type,s),Nv(n,e,i,s,t);case 15:return MA(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Gn(i,s),Jc(n,e),e.tag=1,pn(i)?(n=!0,Tu(e)):n=!1,sa(e,t),PA(e,i,s),up(e,i,s,t),fp(null,e,i,!0,n,t);case 19:return VA(n,e,t);case 22:return LA(n,e,t)}throw Error(Q(156,e.tag))};function JA(n,e){return _1(n,e)}function sP(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,e,t,i){return new sP(n,e,t,i)}function ym(n){return n=n.prototype,!(!n||!n.isReactComponent)}function rP(n){if(typeof n=="function")return ym(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Vg)return 11;if(n===Fg)return 14}return 2}function hs(n,e){var t=n.alternate;return t===null?(t=On(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function nu(n,e,t,i,s,r){var a=2;if(i=n,typeof n=="function")ym(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Or:return tr(t.children,s,r,e);case Og:a=8,s|=8;break;case Nf:return n=On(12,t,e,s|2),n.elementType=Nf,n.lanes=r,n;case Df:return n=On(13,t,e,s),n.elementType=Df,n.lanes=r,n;case Of:return n=On(19,t,e,s),n.elementType=Of,n.lanes=r,n;case c1:return Th(t,s,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case o1:a=10;break e;case l1:a=9;break e;case Vg:a=11;break e;case Fg:a=14;break e;case Ki:a=16,i=null;break e}throw Error(Q(130,n==null?n:typeof n,""))}return e=On(a,t,e,s),e.elementType=n,e.type=i,e.lanes=r,e}function tr(n,e,t,i){return n=On(7,n,i,e),n.lanes=t,n}function Th(n,e,t,i){return n=On(22,n,i,e),n.elementType=c1,n.lanes=t,n.stateNode={isHidden:!1},n}function zd(n,e,t){return n=On(6,n,null,e),n.lanes=t,n}function jd(n,e,t){return e=On(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function aP(n,e,t,i,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bd(0),this.expirationTimes=bd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bd(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vm(n,e,t,i,s,r,a,o,l){return n=new aP(n,e,t,o,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=On(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},nm(r),n}function oP(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function eS(n){if(!n)return ys;n=n._reactInternals;e:{if(gr(n)!==n||n.tag!==1)throw Error(Q(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(n.tag===1){var t=n.type;if(pn(t))return eA(n,t,e)}return e}function tS(n,e,t,i,s,r,a,o,l){return n=vm(t,i,!0,n,s,r,a,o,l),n.context=eS(null),t=n.current,i=an(),s=us(t),r=_i(i,s),r.callback=e??null,ls(t,r,s),n.current.lanes=s,zl(n,s,i),gn(n,i),n}function Eh(n,e,t,i){var s=e.current,r=an(),a=us(s);return t=eS(t),e.context===null?e.context=t:e.pendingContext=t,e=_i(r,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=ls(s,e,a),n!==null&&(ti(n,s,a,r),Kc(n,s,a)),a}function ju(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Uv(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function bm(n,e){Uv(n,e),(n=n.alternate)&&Uv(n,e)}function lP(){return null}var nS=typeof reportError=="function"?reportError:function(n){console.error(n)};function wm(n){this._internalRoot=n}Ph.prototype.render=wm.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Q(409));Eh(n,e,null,null)};Ph.prototype.unmount=wm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;cr(function(){Eh(null,n,null,null)}),e[Ri]=null}};function Ph(n){this._internalRoot=n}Ph.prototype.unstable_scheduleHydration=function(n){if(n){var e=L1();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Zi.length&&e!==0&&e<Zi[t].priority;t++);Zi.splice(t,0,n),t===0&&D1(n)}};function Am(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ih(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $v(){}function cP(n,e,t,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=ju(a);r.call(c)}}var a=tS(e,i,n,0,null,!1,!1,"",$v);return n._reactRootContainer=a,n[Ri]=a.current,ol(n.nodeType===8?n.parentNode:n),cr(),a}for(;s=n.lastChild;)n.removeChild(s);if(typeof i=="function"){var o=i;i=function(){var c=ju(l);o.call(c)}}var l=vm(n,0,!1,null,null,!1,!1,"",$v);return n._reactRootContainer=l,n[Ri]=l.current,ol(n.nodeType===8?n.parentNode:n),cr(function(){Eh(e,l,t,i)}),l}function Rh(n,e,t,i,s){var r=t._reactRootContainer;if(r){var a=r;if(typeof s=="function"){var o=s;s=function(){var l=ju(a);o.call(l)}}Eh(e,a,n,s)}else a=cP(t,e,n,s,i);return ju(a)}R1=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ao(e.pendingLanes);t!==0&&(Bg(e,t|1),gn(e,gt()),!(Le&6)&&(ma=gt()+500,Rs()))}break;case 13:cr(function(){var i=Mi(n,1);if(i!==null){var s=an();ti(i,n,1,s)}}),bm(n,1)}};Hg=function(n){if(n.tag===13){var e=Mi(n,134217728);if(e!==null){var t=an();ti(e,n,134217728,t)}bm(n,134217728)}};M1=function(n){if(n.tag===13){var e=us(n),t=Mi(n,e);if(t!==null){var i=an();ti(t,n,e,i)}bm(n,e)}};L1=function(){return ze};N1=function(n,e){var t=ze;try{return ze=n,e()}finally{ze=t}};Uf=function(n,e,t){switch(e){case"input":if(zf(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var s=wh(i);if(!s)throw Error(Q(90));h1(i),zf(i,s)}}}break;case"textarea":f1(n,t);break;case"select":e=t.value,e!=null&&ea(n,!!t.multiple,e,!1)}};b1=gm;w1=cr;var uP={usingClientEntryPoint:!1,Events:[Bl,jr,wh,y1,v1,gm]},po={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hP={bundleType:po.bundleType,version:po.version,rendererPackageName:po.rendererPackageName,rendererConfig:po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=k1(n),n===null?null:n.stateNode},findFiberByHostInstance:po.findFiberByHostInstance||lP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{xh=Lc.inject(hP),hi=Lc}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uP;kn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(e))throw Error(Q(200));return oP(n,e,null,t)};kn.createRoot=function(n,e){if(!Am(n))throw Error(Q(299));var t=!1,i="",s=nS;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=vm(n,1,!1,null,null,t,!1,i,s),n[Ri]=e.current,ol(n.nodeType===8?n.parentNode:n),new wm(e)};kn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Q(188)):(n=Object.keys(n).join(","),Error(Q(268,n)));return n=k1(e),n=n===null?null:n.stateNode,n};kn.flushSync=function(n){return cr(n)};kn.hydrate=function(n,e,t){if(!Ih(e))throw Error(Q(200));return Rh(null,n,e,!0,t)};kn.hydrateRoot=function(n,e,t){if(!Am(n))throw Error(Q(405));var i=t!=null&&t.hydratedSources||null,s=!1,r="",a=nS;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=tS(e,null,n,1,t??null,s,!1,r,a),n[Ri]=e.current,ol(n),i)for(n=0;n<i.length;n++)t=i[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Ph(e)};kn.render=function(n,e,t){if(!Ih(e))throw Error(Q(200));return Rh(null,n,e,!1,t)};kn.unmountComponentAtNode=function(n){if(!Ih(n))throw Error(Q(40));return n._reactRootContainer?(cr(function(){Rh(null,null,n,!1,function(){n._reactRootContainer=null,n[Ri]=null})}),!0):!1};kn.unstable_batchedUpdates=gm;kn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Ih(t))throw Error(Q(200));if(n==null||n._reactInternals===void 0)throw Error(Q(38));return Rh(n,e,t,!1,i)};kn.version="18.3.1-next-f1338f8080-20240426";function iS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iS)}catch(n){console.error(n)}}iS(),i1.exports=kn;var dP=i1.exports,Gv=dP;Mf.createRoot=Gv.createRoot,Mf.hydrateRoot=Gv.hydrateRoot;const Sm=q.createContext({});function km(n){const e=q.useRef(null);return e.current===null&&(e.current=n()),e.current}const Mh=q.createContext(null),Cm=q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class fP extends q.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function pP({children:n,isPresent:e}){const t=q.useId(),i=q.useRef(null),s=q.useRef({width:0,height:0,top:0,left:0}),{nonce:r}=q.useContext(Cm);return q.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:c}=s.current;if(e||!i.current||!a||!o)return;i.current.dataset.motionPopId=t;const u=document.createElement("style");return r&&(u.nonce=r),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),R.jsx(fP,{isPresent:e,childRef:i,sizeRef:s,children:q.cloneElement(n,{ref:i})})}const gP=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:r,mode:a})=>{const o=km(mP),l=q.useId(),c=q.useCallback(h=>{o.set(h,!0);for(const d of o.values())if(!d)return;i&&i()},[o,i]),u=q.useMemo(()=>({id:l,initial:e,isPresent:t,custom:s,onExitComplete:c,register:h=>(o.set(h,!1),()=>o.delete(h))}),r?[Math.random(),c]:[t,c]);return q.useMemo(()=>{o.forEach((h,d)=>o.set(d,!1))},[t]),q.useEffect(()=>{!t&&!o.size&&i&&i()},[t]),a==="popLayout"&&(n=R.jsx(pP,{isPresent:t,children:n})),R.jsx(Mh.Provider,{value:u,children:n})};function mP(){return new Map}function sS(n=!0){const e=q.useContext(Mh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,r=q.useId();q.useEffect(()=>{n&&s(r)},[n]);const a=q.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,a]:[!0]}const Nc=n=>n.key||"";function qv(n){const e=[];return q.Children.forEach(n,t=>{q.isValidElement(t)&&e.push(t)}),e}const _m=typeof window<"u",rS=_m?q.useLayoutEffect:q.useEffect,xP=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:r="sync",propagate:a=!1})=>{const[o,l]=sS(a),c=q.useMemo(()=>qv(n),[n]),u=a&&!o?[]:c.map(Nc),h=q.useRef(!0),d=q.useRef(c),f=km(()=>new Map),[m,g]=q.useState(c),[v,x]=q.useState(c);rS(()=>{h.current=!1,d.current=c;for(let _=0;_<v.length;_++){const k=Nc(v[_]);u.includes(k)?f.delete(k):f.get(k)!==!0&&f.set(k,!1)}},[v,u.length,u.join("-")]);const y=[];if(c!==m){let _=[...c];for(let k=0;k<v.length;k++){const P=v[k],A=Nc(P);u.includes(A)||(_.splice(k,0,P),y.push(P))}r==="wait"&&y.length&&(_=y),x(qv(_)),g(c);return}const{forceRender:b}=q.useContext(Sm);return R.jsx(R.Fragment,{children:v.map(_=>{const k=Nc(_),P=a&&!o?!1:c===v||u.includes(k),A=()=>{if(f.has(k))f.set(k,!0);else return;let w=!0;f.forEach(C=>{C||(w=!1)}),w&&(b==null||b(),x(d.current),a&&(l==null||l()),i&&i())};return R.jsx(gP,{isPresent:P,initial:!h.current||t?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:s,mode:r,onExitComplete:P?void 0:A,children:_},k)})})},bn=n=>n;let aS=bn;function Tm(n){let e;return()=>(e===void 0&&(e=n()),e)}const xa=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Ti=n=>n*1e3,Ei=n=>n/1e3,yP={useManualTiming:!1};function vP(n){let e=new Set,t=new Set,i=!1,s=!1;const r=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(c){r.has(c)&&(l.schedule(c),n()),c(a)}const l={schedule:(c,u=!1,h=!1)=>{const f=h&&i?e:t;return u&&r.add(c),f.has(c)||f.add(c),c},cancel:c=>{t.delete(c),r.delete(c)},process:c=>{if(a=c,i){s=!0;return}i=!0,[e,t]=[t,e],e.forEach(o),e.clear(),i=!1,s&&(s=!1,l.process(c))}};return l}const Dc=["read","resolveKeyframes","update","preRender","render","postRender"],bP=40;function oS(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=Dc.reduce((x,y)=>(x[y]=vP(r),x),{}),{read:o,resolveKeyframes:l,update:c,preRender:u,render:h,postRender:d}=a,f=()=>{const x=performance.now();t=!1,s.delta=i?1e3/60:Math.max(Math.min(x-s.timestamp,bP),1),s.timestamp=x,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),h.process(s),d.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(f))},m=()=>{t=!0,i=!0,s.isProcessing||n(f)};return{schedule:Dc.reduce((x,y)=>{const b=a[y];return x[y]=(_,k=!1,P=!1)=>(t||m(),b.schedule(_,k,P)),x},{}),cancel:x=>{for(let y=0;y<Dc.length;y++)a[Dc[y]].cancel(x)},state:s,steps:a}}const{schedule:Je,cancel:vs,state:Lt,steps:Bd}=oS(typeof requestAnimationFrame<"u"?requestAnimationFrame:bn,!0),lS=q.createContext({strict:!1}),Kv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ya={};for(const n in Kv)ya[n]={isEnabled:e=>Kv[n].some(t=>!!e[t])};function wP(n){for(const e in n)ya[e]={...ya[e],...n[e]}}const AP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bu(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||AP.has(n)}let cS=n=>!Bu(n);function SP(n){n&&(cS=e=>e.startsWith("on")?!Bu(e):n(e))}try{SP(require("@emotion/is-prop-valid").default)}catch{}function kP(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(cS(s)||t===!0&&Bu(s)||!e&&!Bu(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function CP(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Lh=q.createContext({});function ml(n){return typeof n=="string"||Array.isArray(n)}function Nh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Em=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pm=["initial",...Em];function Dh(n){return Nh(n.animate)||Pm.some(e=>ml(n[e]))}function uS(n){return!!(Dh(n)||n.variants)}function _P(n,e){if(Dh(n)){const{initial:t,animate:i}=n;return{initial:t===!1||ml(t)?t:void 0,animate:ml(i)?i:void 0}}return n.inherit!==!1?e:{}}function TP(n){const{initial:e,animate:t}=_P(n,q.useContext(Lh));return q.useMemo(()=>({initial:e,animate:t}),[Qv(e),Qv(t)])}function Qv(n){return Array.isArray(n)?n.join(" "):n}const EP=Symbol.for("motionComponentSymbol");function $r(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function PP(n,e,t){return q.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):$r(t)&&(t.current=i))},[e])}const Im=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IP="framerAppearId",hS="data-"+Im(IP),{schedule:Rm}=oS(queueMicrotask,!1),dS=q.createContext({});function RP(n,e,t,i,s){var r,a;const{visualElement:o}=q.useContext(Lh),l=q.useContext(lS),c=q.useContext(Mh),u=q.useContext(Cm).reducedMotion,h=q.useRef(null);i=i||l.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:o,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const d=h.current,f=q.useContext(dS);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&MP(h.current,t,s,f);const m=q.useRef(!1);q.useInsertionEffect(()=>{d&&m.current&&d.update(t,c)});const g=t[hS],v=q.useRef(!!g&&!(!((r=window.MotionHandoffIsComplete)===null||r===void 0)&&r.call(window,g))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,g)));return rS(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Rm.render(d.render),v.current&&d.animationState&&d.animationState.animateChanges())}),q.useEffect(()=>{d&&(!v.current&&d.animationState&&d.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,g)}),v.current=!1))}),d}function MP(n,e,t,i){const{layoutId:s,layout:r,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:fS(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||o&&$r(o),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function fS(n){if(n)return n.options.allowProjection!==!1?n.projection:fS(n.parent)}function LP({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){var r,a;n&&wP(n);function o(c,u){let h;const d={...q.useContext(Cm),...c,layoutId:NP(c)},{isStatic:f}=d,m=TP(c),g=i(c,f);if(!f&&_m){DP();const v=OP(d);h=v.MeasureLayout,m.visualElement=RP(s,g,d,e,v.ProjectionNode)}return R.jsxs(Lh.Provider,{value:m,children:[h&&m.visualElement?R.jsx(h,{visualElement:m.visualElement,...d}):null,t(s,c,PP(g,m.visualElement,u),g,f,m.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${(a=(r=s.displayName)!==null&&r!==void 0?r:s.name)!==null&&a!==void 0?a:""})`}`;const l=q.forwardRef(o);return l[EP]=s,l}function NP({layoutId:n}){const e=q.useContext(Sm).id;return e&&n!==void 0?e+"-"+n:n}function DP(n,e){q.useContext(lS).strict}function OP(n){const{drag:e,layout:t}=ya;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const VP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mm(n){return typeof n!="string"||n.includes("-")?!1:!!(VP.indexOf(n)>-1||/[A-Z]/u.test(n))}function Zv(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function Lm(n,e,t,i){if(typeof e=="function"){const[s,r]=Zv(i);e=e(t!==void 0?t:n.custom,s,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,r]=Zv(i);e=e(t!==void 0?t:n.custom,s,r)}return e}const Cp=n=>Array.isArray(n),FP=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),zP=n=>Cp(n)?n[n.length-1]||0:n,Qt=n=>!!(n&&n.getVelocity);function iu(n){const e=Qt(n)?n.get():n;return FP(e)?e.toValue():e}function jP({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,s,r){const a={latestValues:BP(i,s,r,n),renderState:e()};return t&&(a.onMount=o=>t({props:i,current:o,...a}),a.onUpdate=o=>t(o)),a}const pS=n=>(e,t)=>{const i=q.useContext(Lh),s=q.useContext(Mh),r=()=>jP(n,e,i,s);return t?r():km(r)};function BP(n,e,t,i){const s={},r=i(n,{});for(const d in r)s[d]=iu(r[d]);let{initial:a,animate:o}=n;const l=Dh(n),c=uS(n);e&&c&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=t?t.initial===!1:!1;u=u||a===!1;const h=u?o:a;if(h&&typeof h!="boolean"&&!Nh(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const m=Lm(n,d[f]);if(m){const{transitionEnd:g,transition:v,...x}=m;for(const y in x){let b=x[y];if(Array.isArray(b)){const _=u?b.length-1:0;b=b[_]}b!==null&&(s[y]=b)}for(const y in g)s[y]=g[y]}}}return s}const Ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mr=new Set(Ma),gS=n=>e=>typeof e=="string"&&e.startsWith(n),mS=gS("--"),HP=gS("var(--"),Nm=n=>HP(n)?XP.test(n.split("/*")[0].trim()):!1,XP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xS=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ni=(n,e,t)=>t>e?e:t<n?n:t,La={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},xl={...La,transform:n=>Ni(0,1,n)},Oc={...La,default:1},Xl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),qi=Xl("deg"),fi=Xl("%"),pe=Xl("px"),WP=Xl("vh"),YP=Xl("vw"),Jv={...fi,parse:n=>fi.parse(n)/100,transform:n=>fi.transform(n*100)},UP={borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,backgroundPositionX:pe,backgroundPositionY:pe},$P={rotate:qi,rotateX:qi,rotateY:qi,rotateZ:qi,scale:Oc,scaleX:Oc,scaleY:Oc,scaleZ:Oc,skew:qi,skewX:qi,skewY:qi,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:xl,originX:Jv,originY:Jv,originZ:pe},e0={...La,transform:Math.round},Dm={...UP,...$P,zIndex:e0,size:pe,fillOpacity:xl,strokeOpacity:xl,numOctaves:e0},GP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qP=Ma.length;function KP(n,e,t){let i="",s=!0;for(let r=0;r<qP;r++){const a=Ma[r],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const c=xS(o,Dm[a]);if(!l){s=!1;const u=GP[a]||a;i+=`${u}(${c}) `}t&&(e[a]=c)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function Om(n,e,t){const{style:i,vars:s,transformOrigin:r}=n;let a=!1,o=!1;for(const l in e){const c=e[l];if(mr.has(l)){a=!0;continue}else if(mS(l)){s[l]=c;continue}else{const u=xS(c,Dm[l]);l.startsWith("origin")?(o=!0,r[l]=u):i[l]=u}}if(e.transform||(a||t?i.transform=KP(e,n.transform,t):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;i.transformOrigin=`${l} ${c} ${u}`}}const QP={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZP={offset:"strokeDashoffset",array:"strokeDasharray"};function JP(n,e,t=1,i=0,s=!0){n.pathLength=1;const r=s?QP:ZP;n[r.offset]=pe.transform(-i);const a=pe.transform(e),o=pe.transform(t);n[r.array]=`${a} ${o}`}function t0(n,e,t){return typeof n=="string"?n:pe.transform(e+t*n)}function eI(n,e,t){const i=t0(e,n.x,n.width),s=t0(t,n.y,n.height);return`${i} ${s}`}function Vm(n,{attrX:e,attrY:t,attrScale:i,originX:s,originY:r,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,h){if(Om(n,c,h),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:f,dimensions:m}=n;d.transform&&(m&&(f.transform=d.transform),delete d.transform),m&&(s!==void 0||r!==void 0||f.transform)&&(f.transformOrigin=eI(m,s!==void 0?s:.5,r!==void 0?r:.5)),e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),i!==void 0&&(d.scale=i),a!==void 0&&JP(d,a,o,l,!1)}const Fm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yS=()=>({...Fm(),attrs:{}}),zm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function vS(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const r in t)n.style.setProperty(r,t[r])}const bS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wS(n,e,t,i){vS(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(bS.has(s)?s:Im(s),e.attrs[s])}const Hu={};function tI(n){Object.assign(Hu,n)}function AS(n,{layout:e,layoutId:t}){return mr.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Hu[n]||n==="opacity")}function jm(n,e,t){var i;const{style:s}=n,r={};for(const a in s)(Qt(s[a])||e.style&&Qt(e.style[a])||AS(a,n)||((i=t==null?void 0:t.getValue(a))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(r[a]=s[a]);return r}function SS(n,e,t){const i=jm(n,e,t);for(const s in n)if(Qt(n[s])||Qt(e[s])){const r=Ma.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}function nI(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const n0=["x","y","width","height","cx","cy","r"],iI={useVisualState:pS({scrapeMotionValuesFromProps:SS,createRenderState:yS,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:s})=>{if(!t)return;let r=!!n.drag;if(!r){for(const o in s)if(mr.has(o)){r=!0;break}}if(!r)return;let a=!e;if(e)for(let o=0;o<n0.length;o++){const l=n0[o];n[l]!==e[l]&&(a=!0)}a&&Je.read(()=>{nI(t,i),Je.render(()=>{Vm(i,s,zm(t.tagName),n.transformTemplate),wS(t,i)})})}})},sI={useVisualState:pS({scrapeMotionValuesFromProps:jm,createRenderState:Fm})};function kS(n,e,t){for(const i in e)!Qt(e[i])&&!AS(i,t)&&(n[i]=e[i])}function rI({transformTemplate:n},e){return q.useMemo(()=>{const t=Fm();return Om(t,e,n),Object.assign({},t.vars,t.style)},[e])}function aI(n,e){const t=n.style||{},i={};return kS(i,t,n),Object.assign(i,rI(n,e)),i}function oI(n,e){const t={},i=aI(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function lI(n,e,t,i){const s=q.useMemo(()=>{const r=yS();return Vm(r,e,zm(i),n.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};kS(r,n.style,n),s.style={...r,...s.style}}return s}function cI(n=!1){return(t,i,s,{latestValues:r},a)=>{const l=(Mm(t)?lI:oI)(i,r,a,t),c=kP(i,typeof t=="string",n),u=t!==q.Fragment?{...c,...l,ref:s}:{},{children:h}=i,d=q.useMemo(()=>Qt(h)?h.get():h,[h]);return q.createElement(t,{...u,children:d})}}function uI(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Mm(i)?iI:sI,preloadedFeatures:n,useRender:cI(s),createVisualElement:e,Component:i};return LP(a)}}function CS(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Oh(n,e,t){const i=n.getProps();return Lm(i,e,t!==void 0?t:i.custom,n)}const hI=Tm(()=>window.ScrollTimeline!==void 0);class dI{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(s=>{if(hI()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{i.forEach((s,r)=>{s&&s(),this.animations[r].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class fI extends dI{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Bm(n,e){return n?n[e]||n.default||n:void 0}const _p=2e4;function _S(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<_p;)e+=t,i=n.next(e);return e>=_p?1/0:e}function Hm(n){return typeof n=="function"}function i0(n,e){n.timeline=e,n.onfinish=null}const Xm=n=>Array.isArray(n)&&typeof n[0]=="number",pI={linearEasing:void 0};function gI(n,e){const t=Tm(n);return()=>{var i;return(i=pI[e])!==null&&i!==void 0?i:t()}}const Xu=gI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),TS=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let r=0;r<s;r++)i+=n(xa(0,s-1,r))+", ";return`linear(${i.substring(0,i.length-2)})`};function ES(n){return!!(typeof n=="function"&&Xu()||!n||typeof n=="string"&&(n in Tp||Xu())||Xm(n)||Array.isArray(n)&&n.every(ES))}const ko=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Tp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ko([0,.65,.55,1]),circOut:ko([.55,0,1,.45]),backIn:ko([.31,.01,.66,-.59]),backOut:ko([.33,1.53,.69,.99])};function PS(n,e){if(n)return typeof n=="function"&&Xu()?TS(n,e):Xm(n)?ko(n):Array.isArray(n)?n.map(t=>PS(t,e)||Tp.easeOut):Tp[n]}const $n={x:!1,y:!1};function IS(){return $n.x||$n.y}function mI(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const r=(i=void 0)!==null&&i!==void 0?i:s.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}function RS(n,e){const t=mI(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function s0(n){return e=>{e.pointerType==="touch"||IS()||n(e)}}function xI(n,e,t={}){const[i,s,r]=RS(n,t),a=s0(o=>{const{target:l}=o,c=e(o);if(typeof c!="function"||!l)return;const u=s0(h=>{c(h),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,s)});return i.forEach(o=>{o.addEventListener("pointerenter",a,s)}),r}const MS=(n,e)=>e?n===e?!0:MS(n,e.parentElement):!1,Wm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,yI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vI(n){return yI.has(n.tagName)||n.tabIndex!==-1}const Co=new WeakSet;function r0(n){return e=>{e.key==="Enter"&&n(e)}}function Hd(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bI=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=r0(()=>{if(Co.has(t))return;Hd(t,"down");const s=r0(()=>{Hd(t,"up")}),r=()=>Hd(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function a0(n){return Wm(n)&&!IS()}function wI(n,e,t={}){const[i,s,r]=RS(n,t),a=o=>{const l=o.currentTarget;if(!a0(o)||Co.has(l))return;Co.add(l);const c=e(o),u=(f,m)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),!(!a0(f)||!Co.has(l))&&(Co.delete(l),typeof c=="function"&&c(f,{success:m}))},h=f=>{u(f,t.useGlobalTarget||MS(l,f.target))},d=f=>{u(f,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",d,s)};return i.forEach(o=>{!vI(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,s),o.addEventListener("focus",c=>bI(c,s),s)}),r}function AI(n){return n==="x"||n==="y"?$n[n]?null:($n[n]=!0,()=>{$n[n]=!1}):$n.x||$n.y?null:($n.x=$n.y=!0,()=>{$n.x=$n.y=!1})}const LS=new Set(["width","height","top","left","right","bottom",...Ma]);let su;function SI(){su=void 0}const pi={now:()=>(su===void 0&&pi.set(Lt.isProcessing||yP.useManualTiming?Lt.timestamp:performance.now()),su),set:n=>{su=n,queueMicrotask(SI)}};function Ym(n,e){n.indexOf(e)===-1&&n.push(e)}function Um(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class $m{constructor(){this.subscriptions=[]}add(e){return Ym(this.subscriptions,e),()=>Um(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function NS(n,e){return e?n*(1e3/e):0}const o0=30,kI=n=>!isNaN(parseFloat(n));class CI{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{const r=pi.now();this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new $m);const i=this.events[e].add(t);return e==="change"?()=>{i(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>o0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,o0);return NS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(n,e){return new CI(n,e)}function _I(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,yl(t))}function TI(n,e){const t=Oh(n,e);let{transitionEnd:i={},transition:s={},...r}=t||{};r={...r,...i};for(const a in r){const o=zP(r[a]);_I(n,a,o)}}function EI(n){return!!(Qt(n)&&n.add)}function Ep(n,e){const t=n.getValue("willChange");if(EI(t))return t.add(e)}function DS(n){return n.props[hS]}const OS=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,PI=1e-7,II=12;function RI(n,e,t,i,s){let r,a,o=0;do a=e+(t-e)/2,r=OS(a,i,s)-n,r>0?t=a:e=a;while(Math.abs(r)>PI&&++o<II);return a}function Wl(n,e,t,i){if(n===e&&t===i)return bn;const s=r=>RI(r,0,1,n,t);return r=>r===0||r===1?r:OS(s(r),e,i)}const VS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,FS=n=>e=>1-n(1-e),zS=Wl(.33,1.53,.69,.99),Gm=FS(zS),jS=VS(Gm),BS=n=>(n*=2)<1?.5*Gm(n):.5*(2-Math.pow(2,-10*(n-1))),qm=n=>1-Math.sin(Math.acos(n)),HS=FS(qm),XS=VS(qm),WS=n=>/^0[^.\s]+$/u.test(n);function MI(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||WS(n):!0}const Bo=n=>Math.round(n*1e5)/1e5,Km=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LI(n){return n==null}const NI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qm=(n,e)=>t=>!!(typeof t=="string"&&NI.test(t)&&t.startsWith(n)||e&&!LI(t)&&Object.prototype.hasOwnProperty.call(t,e)),YS=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,r,a,o]=i.match(Km);return{[n]:parseFloat(s),[e]:parseFloat(r),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},DI=n=>Ni(0,255,n),Xd={...La,transform:n=>Math.round(DI(n))},qs={test:Qm("rgb","red"),parse:YS("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Xd.transform(n)+", "+Xd.transform(e)+", "+Xd.transform(t)+", "+Bo(xl.transform(i))+")"};function OI(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Pp={test:Qm("#"),parse:OI,transform:qs.transform},Gr={test:Qm("hsl","hue"),parse:YS("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+fi.transform(Bo(e))+", "+fi.transform(Bo(t))+", "+Bo(xl.transform(i))+")"},$t={test:n=>qs.test(n)||Pp.test(n)||Gr.test(n),parse:n=>qs.test(n)?qs.parse(n):Gr.test(n)?Gr.parse(n):Pp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?qs.transform(n):Gr.transform(n)},VI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FI(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Km))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(VI))===null||t===void 0?void 0:t.length)||0)>0}const US="number",$S="color",zI="var",jI="var(",l0="${}",BI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vl(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let r=0;const o=e.replace(BI,l=>($t.test(l)?(i.color.push(r),s.push($S),t.push($t.parse(l))):l.startsWith(jI)?(i.var.push(r),s.push(zI),t.push(l)):(i.number.push(r),s.push(US),t.push(parseFloat(l))),++r,l0)).split(l0);return{values:t,split:o,indexes:i,types:s}}function GS(n){return vl(n).values}function qS(n){const{split:e,types:t}=vl(n),i=e.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=e[a],s[a]!==void 0){const o=t[a];o===US?r+=Bo(s[a]):o===$S?r+=$t.transform(s[a]):r+=s[a]}return r}}const HI=n=>typeof n=="number"?0:n;function XI(n){const e=GS(n);return qS(n)(e.map(HI))}const bs={test:FI,parse:GS,createTransformer:qS,getAnimatableNone:XI},WI=new Set(["brightness","contrast","saturate","opacity"]);function YI(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Km)||[];if(!i)return n;const s=t.replace(i,"");let r=WI.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+s+")"}const UI=/\b([a-z-]*)\(.*?\)/gu,Ip={...bs,getAnimatableNone:n=>{const e=n.match(UI);return e?e.map(YI).join(" "):n}},$I={...Dm,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Ip,WebkitFilter:Ip},Zm=n=>$I[n];function KS(n,e){let t=Zm(n);return t!==Ip&&(t=bs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const GI=new Set(["auto","none","0"]);function qI(n,e,t){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!GI.has(r)&&vl(r).values.length&&(s=n[i]),i++}if(s&&t)for(const r of e)n[r]=KS(t,s)}const c0=n=>n===La||n===pe,u0=(n,e)=>parseFloat(n.split(", ")[e]),h0=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const s=i.match(/^matrix3d\((.+)\)$/u);if(s)return u0(s[1],e);{const r=i.match(/^matrix\((.+)\)$/u);return r?u0(r[1],n):0}},KI=new Set(["x","y","z"]),QI=Ma.filter(n=>!KI.has(n));function ZI(n){const e=[];return QI.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const va={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:h0(4,13),y:h0(5,14)};va.translateX=va.x;va.translateY=va.y;const nr=new Set;let Rp=!1,Mp=!1;function QS(){if(Mp){const n=Array.from(nr).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=ZI(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([r,a])=>{var o;(o=i.getValue(r))===null||o===void 0||o.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Mp=!1,Rp=!1,nr.forEach(n=>n.complete()),nr.clear()}function ZS(){nr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Mp=!0)})}function JI(){ZS(),QS()}class Jm{constructor(e,t,i,s,r,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(nr.add(this),Rp||(Rp=!0,Je.read(ZS),Je.resolveKeyframes(QS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;for(let r=0;r<e.length;r++)if(e[r]===null)if(r===0){const a=s==null?void 0:s.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(i&&t){const l=i.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&a===void 0&&s.set(e[0])}else e[r]=e[r-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),nr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,nr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const JS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),eR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tR(n){const e=eR.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function ek(n,e,t=1){const[i,s]=tR(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const a=r.trim();return JS(a)?parseFloat(a):a}return Nm(s)?ek(s,e,t+1):s}const tk=n=>e=>e.test(n),nR={test:n=>n==="auto",parse:n=>n},nk=[La,pe,fi,qi,YP,WP,nR],d0=n=>nk.find(tk(n));class ik extends Jm{constructor(e,t,i,s,r){super(e,t,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Nm(c))){const u=ek(c,t.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!LS.has(i)||e.length!==2)return;const[s,r]=e,a=d0(s),o=d0(r);if(a!==o)if(c0(a)&&c0(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)MI(e[s])&&i.push(s);i.length&&qI(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=va[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(i);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=va[i](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const f0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(bs.test(n)||n==="0")&&!n.startsWith("url("));function iR(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function sR(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],a=f0(s,e),o=f0(r,e);return!a||!o?!1:iR(n)||(t==="spring"||Hm(t))&&i}const rR=n=>n!==null;function Vh(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(rR),r=e&&t!=="loop"&&e%2===1?0:s.length-1;return!r||i===void 0?s[r]:i}const aR=40;class sk{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pi.now(),this.options={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:r,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aR?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&JI(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=pi.now(),this.hasAttemptedResolve=!0;const{name:i,type:s,velocity:r,delay:a,onComplete:o,onUpdate:l,isGenerator:c}=this.options;if(!c&&!sR(e,i,s,r))if(a)this.options.duration=0;else{l&&l(Vh(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,t);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...u},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const it=(n,e,t)=>n+(e-n)*t;function Wd(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function oR({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,r=0,a=0;if(!e)s=r=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;s=Wd(l,o,n+1/3),r=Wd(l,o,n),a=Wd(l,o,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function Wu(n,e){return t=>t>0?e:n}const Yd=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},lR=[Pp,qs,Gr],cR=n=>lR.find(e=>e.test(n));function p0(n){const e=cR(n);if(!e)return!1;let t=e.parse(n);return e===Gr&&(t=oR(t)),t}const g0=(n,e)=>{const t=p0(n),i=p0(e);if(!t||!i)return Wu(n,e);const s={...t};return r=>(s.red=Yd(t.red,i.red,r),s.green=Yd(t.green,i.green,r),s.blue=Yd(t.blue,i.blue,r),s.alpha=it(t.alpha,i.alpha,r),qs.transform(s))},uR=(n,e)=>t=>e(n(t)),Yl=(...n)=>n.reduce(uR),Lp=new Set(["none","hidden"]);function hR(n,e){return Lp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function dR(n,e){return t=>it(n,e,t)}function ex(n){return typeof n=="number"?dR:typeof n=="string"?Nm(n)?Wu:$t.test(n)?g0:gR:Array.isArray(n)?rk:typeof n=="object"?$t.test(n)?g0:fR:Wu}function rk(n,e){const t=[...n],i=t.length,s=n.map((r,a)=>ex(r)(r,e[a]));return r=>{for(let a=0;a<i;a++)t[a]=s[a](r);return t}}function fR(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=ex(n[s])(n[s],e[s]));return s=>{for(const r in i)t[r]=i[r](s);return t}}function pR(n,e){var t;const i=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],o=n.indexes[a][s[a]],l=(t=n.values[o])!==null&&t!==void 0?t:0;i[r]=l,s[a]++}return i}const gR=(n,e)=>{const t=bs.createTransformer(e),i=vl(n),s=vl(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?Lp.has(n)&&!s.values.length||Lp.has(e)&&!i.values.length?hR(n,e):Yl(rk(pR(i,s),s.values),t):Wu(n,e)};function ak(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?it(n,e,t):ex(n)(n,e)}const mR=5;function ok(n,e,t){const i=Math.max(e-mR,0);return NS(t-n(i),e-i)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ud=.001;function xR({duration:n=ct.duration,bounce:e=ct.bounce,velocity:t=ct.velocity,mass:i=ct.mass}){let s,r,a=1-e;a=Ni(ct.minDamping,ct.maxDamping,a),n=Ni(ct.minDuration,ct.maxDuration,Ei(n)),a<1?(s=c=>{const u=c*a,h=u*n,d=u-t,f=Np(c,a),m=Math.exp(-h);return Ud-d/f*m},r=c=>{const h=c*a*n,d=h*t+t,f=Math.pow(a,2)*Math.pow(c,2)*n,m=Math.exp(-h),g=Np(Math.pow(c,2),a);return(-s(c)+Ud>0?-1:1)*((d-f)*m)/g}):(s=c=>{const u=Math.exp(-c*n),h=(c-t)*n+1;return-Ud+u*h},r=c=>{const u=Math.exp(-c*n),h=(t-c)*(n*n);return u*h});const o=5/n,l=vR(s,r,o);if(n=Ti(n),isNaN(l))return{stiffness:ct.stiffness,damping:ct.damping,duration:n};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:a*2*Math.sqrt(i*c),duration:n}}}const yR=12;function vR(n,e,t){let i=t;for(let s=1;s<yR;s++)i=i-n(i)/e(i);return i}function Np(n,e){return n*Math.sqrt(1-e*e)}const bR=["duration","bounce"],wR=["stiffness","damping","mass"];function m0(n,e){return e.some(t=>n[t]!==void 0)}function AR(n){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...n};if(!m0(n,wR)&&m0(n,bR))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,r=2*Ni(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ct.mass,stiffness:s,damping:r}}else{const t=xR(n);e={...e,...t,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function lk(n=ct.visualDuration,e=ct.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:h,velocity:d,isResolvedFromDuration:f}=AR({...t,velocity:-Ei(t.velocity||0)}),m=d||0,g=c/(2*Math.sqrt(l*u)),v=a-r,x=Ei(Math.sqrt(l/u)),y=Math.abs(v)<5;i||(i=y?ct.restSpeed.granular:ct.restSpeed.default),s||(s=y?ct.restDelta.granular:ct.restDelta.default);let b;if(g<1){const k=Np(x,g);b=P=>{const A=Math.exp(-g*x*P);return a-A*((m+g*x*v)/k*Math.sin(k*P)+v*Math.cos(k*P))}}else if(g===1)b=k=>a-Math.exp(-x*k)*(v+(m+x*v)*k);else{const k=x*Math.sqrt(g*g-1);b=P=>{const A=Math.exp(-g*x*P),w=Math.min(k*P,300);return a-A*((m+g*x*v)*Math.sinh(w)+k*v*Math.cosh(w))/k}}const _={calculatedDuration:f&&h||null,next:k=>{const P=b(k);if(f)o.done=k>=h;else{let A=0;g<1&&(A=k===0?Ti(m):ok(b,k,P));const w=Math.abs(A)<=i,C=Math.abs(a-P)<=s;o.done=w&&C}return o.value=o.done?a:P,o},toString:()=>{const k=Math.min(_S(_),_p),P=TS(A=>_.next(k*A).value,k,30);return k+"ms "+P}};return _}function x0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const h=n[0],d={done:!1,value:h},f=w=>o!==void 0&&w<o||l!==void 0&&w>l,m=w=>o===void 0?l:l===void 0||Math.abs(o-w)<Math.abs(l-w)?o:l;let g=t*e;const v=h+g,x=a===void 0?v:a(v);x!==v&&(g=x-h);const y=w=>-g*Math.exp(-w/i),b=w=>x+y(w),_=w=>{const C=y(w),E=b(w);d.done=Math.abs(C)<=c,d.value=d.done?x:E};let k,P;const A=w=>{f(d.value)&&(k=w,P=lk({keyframes:[d.value,m(d.value)],velocity:ok(b,w,d.value),damping:s,stiffness:r,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:w=>{let C=!1;return!P&&k===void 0&&(C=!0,_(w),A(w)),k!==void 0&&w>=k?P.next(w-k):(!C&&_(w),d)}}}const SR=Wl(.42,0,1,1),kR=Wl(0,0,.58,1),ck=Wl(.42,0,.58,1),CR=n=>Array.isArray(n)&&typeof n[0]!="number",_R={linear:bn,easeIn:SR,easeInOut:ck,easeOut:kR,circIn:qm,circInOut:XS,circOut:HS,backIn:Gm,backInOut:jS,backOut:zS,anticipate:BS},y0=n=>{if(Xm(n)){aS(n.length===4);const[e,t,i,s]=n;return Wl(e,t,i,s)}else if(typeof n=="string")return _R[n];return n};function TR(n,e,t){const i=[],s=t||ak,r=n.length-1;for(let a=0;a<r;a++){let o=s(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||bn:e;o=Yl(l,o)}i.push(o)}return i}function ER(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const r=n.length;if(aS(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=TR(e,i,s),l=o.length,c=u=>{if(a&&u<n[0])return e[0];let h=0;if(l>1)for(;h<n.length-2&&!(u<n[h+1]);h++);const d=xa(n[h],n[h+1],u);return o[h](d)};return t?u=>c(Ni(n[0],n[r-1],u)):c}function PR(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=xa(0,e,i);n.push(it(t,1,s))}}function IR(n){const e=[0];return PR(e,n.length-1),e}function RR(n,e){return n.map(t=>t*e)}function MR(n,e){return n.map(()=>e||ck).splice(0,n.length-1)}function Yu({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=CR(i)?i.map(y0):y0(i),r={done:!1,value:e[0]},a=RR(t&&t.length===e.length?t:IR(e),n),o=ER(a,e,{ease:Array.isArray(s)?s:MR(e,s)});return{calculatedDuration:n,next:l=>(r.value=o(l),r.done=l>=n,r)}}const LR=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Je.update(e,!0),stop:()=>vs(e),now:()=>Lt.isProcessing?Lt.timestamp:pi.now()}},NR={decay:x0,inertia:x0,tween:Yu,keyframes:Yu,spring:lk},DR=n=>n/100;class tx extends sk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:i,element:s,keyframes:r}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Jm,o=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new a(r,o,t,i,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=this.options,o=Hm(t)?t:NR[t]||Yu;let l,c;o!==Yu&&typeof e[0]!="number"&&(l=Yl(DR,ak(e[0],e[1])),e=[0,100]);const u=o({...this.options,keyframes:e});r==="mirror"&&(c=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=_S(u));const{calculatedDuration:h}=u,d=h+s,f=d*(i+1)-s;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:d,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:s,generator:r,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:h}=i;if(this.startTime===null)return r.next(0);const{delay:d,repeat:f,repeatType:m,repeatDelay:g,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-d*(this.speed>=0?1:-1),y=this.speed>=0?x<0:x>u;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let b=this.currentTime,_=r;if(f){const w=Math.min(this.currentTime,u)/h;let C=Math.floor(w),E=w%1;!E&&w>=1&&(E=1),E===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(m==="reverse"?(E=1-E,g&&(E-=g/h)):m==="mirror"&&(_=a)),b=Ni(0,1,E)*h}const k=y?{done:!1,value:l[0]}:_.next(b);o&&(k.value=o(k.value));let{done:P}=k;!y&&c!==null&&(P=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return A&&s!==void 0&&(k.value=Vh(l,this.options,s)),v&&v(k.value),A&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Ei(e.calculatedDuration):0}get time(){return Ei(this.currentTime)}set time(e){e=Ti(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ei(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=LR,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const OR=new Set(["opacity","clipPath","filter","transform"]);function VR(n,e,t,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const c={[e]:t};l&&(c.offset=l);const u=PS(o,s);return Array.isArray(u)&&(c.easing=u),n.animate(c,{delay:i,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"})}const FR=Tm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Uu=10,zR=2e4;function jR(n){return Hm(n.type)||n.type==="spring"||!ES(n.ease)}function BR(n,e){const t=new tx({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const s=[];let r=0;for(;!i.done&&r<zR;)i=t.sample(r),s.push(i.value),r+=Uu;return{times:void 0,keyframes:s,duration:r-Uu,ease:"linear"}}const uk={anticipate:BS,backInOut:jS,circInOut:XS};function HR(n){return n in uk}class v0 extends sk{constructor(e){super(e);const{name:t,motionValue:i,element:s,keyframes:r}=this.options;this.resolver=new ik(r,(a,o)=>this.onKeyframesResolved(a,o),t,i,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:s,ease:r,type:a,motionValue:o,name:l,startTime:c}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof r=="string"&&Xu()&&HR(r)&&(r=uk[r]),jR(this.options)){const{onComplete:h,onUpdate:d,motionValue:f,element:m,...g}=this.options,v=BR(e,g);e=v.keyframes,e.length===1&&(e[1]=e[0]),i=v.duration,s=v.times,r=v.ease,a="keyframes"}const u=VR(o.owner.current,l,e,{...this.options,duration:i,times:s,ease:r});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(i0(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;o.set(Vh(e,this.options,t)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:s,type:a,ease:r,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ei(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ei(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Ti(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return bn;const{animation:i}=t;i0(i,e)}return bn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:s,type:r,ease:a,times:o}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:h,element:d,...f}=this.options,m=new tx({...f,keyframes:i,duration:s,type:r,ease:a,times:o,isGenerator:!0}),g=Ti(this.time);c.setWithVelocity(m.sample(g-Uu).value,m.sample(g).value,Uu)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:s,repeatType:r,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return FR()&&i&&OR.has(i)&&!l&&!c&&!s&&r!=="mirror"&&a!==0&&o!=="inertia"}}const XR={type:"spring",stiffness:500,damping:25,restSpeed:10},WR=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),YR={type:"keyframes",duration:.8},UR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$R=(n,{keyframes:e})=>e.length>2?YR:mr.has(n)?n.startsWith("scale")?WR(e[1]):XR:UR;function GR({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const nx=(n,e,t,i={},s,r)=>a=>{const o=Bm(i,n)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Ti(l);let u={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:r?void 0:s};GR(o)||(u={...u,...$R(n,u)}),u.duration&&(u.duration=Ti(u.duration)),u.repeatDelay&&(u.repeatDelay=Ti(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!r&&e.get()!==void 0){const d=Vh(u.keyframes,o);if(d!==void 0)return Je.update(()=>{u.onUpdate(d),u.onComplete()}),new fI([])}return!r&&v0.supports(u)?new v0(u):new tx(u)};function qR({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function hk(n,e,{delay:t=0,transitionOverride:i,type:s}={}){var r;let{transition:a=n.getDefaultTransition(),transitionEnd:o,...l}=e;i&&(a=i);const c=[],u=s&&n.animationState&&n.animationState.getState()[s];for(const h in l){const d=n.getValue(h,(r=n.latestValues[h])!==null&&r!==void 0?r:null),f=l[h];if(f===void 0||u&&qR(u,h))continue;const m={delay:t,...Bm(a||{},h)};let g=!1;if(window.MotionHandoffAnimation){const x=DS(n);if(x){const y=window.MotionHandoffAnimation(x,h,Je);y!==null&&(m.startTime=y,g=!0)}}Ep(n,h),d.start(nx(h,d,f,n.shouldReduceMotion&&LS.has(h)?{type:!1}:m,n,g));const v=d.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{Je.update(()=>{o&&TI(n,o)})}),c}function Dp(n,e,t={}){var i;const s=Oh(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(r=t.transitionOverride);const a=s?()=>Promise.all(hk(n,s,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:d}=r;return KR(n,e,u+c,h,d,t)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[a,o]:[o,a];return c().then(()=>u())}else return Promise.all([a(),o(t.delay)])}function KR(n,e,t=0,i=0,s=1,r){const a=[],o=(n.variantChildren.size-1)*i,l=s===1?(c=0)=>c*i:(c=0)=>o-c*i;return Array.from(n.variantChildren).sort(QR).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(Dp(c,e,{...r,delay:t+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function QR(n,e){return n.sortNodePosition(e)}function ZR(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>Dp(n,r,t));i=Promise.all(s)}else if(typeof e=="string")i=Dp(n,e,t);else{const s=typeof e=="function"?Oh(n,e,t.custom):e;i=Promise.all(hk(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const JR=Pm.length;function dk(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?dk(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<JR;t++){const i=Pm[t],s=n.props[i];(ml(s)||s===!1)&&(e[i]=s)}return e}const eM=[...Em].reverse(),tM=Em.length;function nM(n){return e=>Promise.all(e.map(({animation:t,options:i})=>ZR(n,t,i)))}function iM(n){let e=nM(n),t=b0(),i=!0;const s=l=>(c,u)=>{var h;const d=Oh(n,u,l==="exit"?(h=n.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:m,...g}=d;c={...c,...g,...m}}return c};function r(l){e=l(n)}function a(l){const{props:c}=n,u=dk(n.parent)||{},h=[],d=new Set;let f={},m=1/0;for(let v=0;v<tM;v++){const x=eM[v],y=t[x],b=c[x]!==void 0?c[x]:u[x],_=ml(b),k=x===l?y.isActive:null;k===!1&&(m=v);let P=b===u[x]&&b!==c[x]&&_;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),y.protectedKeys={...f},!y.isActive&&k===null||!b&&!y.prevProp||Nh(b)||typeof b=="boolean")continue;const A=sM(y.prevProp,b);let w=A||x===l&&y.isActive&&!P&&_||v>m&&_,C=!1;const E=Array.isArray(b)?b:[b];let I=E.reduce(s(x),{});k===!1&&(I={});const{prevResolvedValues:L={}}=y,M={...L,...I},F=Y=>{w=!0,d.has(Y)&&(C=!0,d.delete(Y)),y.needsAnimating[Y]=!0;const V=n.getValue(Y);V&&(V.liveStyle=!1)};for(const Y in M){const V=I[Y],X=L[Y];if(f.hasOwnProperty(Y))continue;let G=!1;Cp(V)&&Cp(X)?G=!CS(V,X):G=V!==X,G?V!=null?F(Y):d.add(Y):V!==void 0&&d.has(Y)?F(Y):y.protectedKeys[Y]=!0}y.prevProp=b,y.prevResolvedValues=I,y.isActive&&(f={...f,...I}),i&&n.blockInitialAnimation&&(w=!1),w&&(!(P&&A)||C)&&h.push(...E.map(Y=>({animation:Y,options:{type:x}})))}if(d.size){const v={};d.forEach(x=>{const y=n.getBaseTarget(x),b=n.getValue(x);b&&(b.liveStyle=!0),v[x]=y??null}),h.push({animation:v})}let g=!!h.length;return i&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(g=!1),i=!1,g?e(h):Promise.resolve()}function o(l,c){var u;if(t[l].isActive===c)return Promise.resolve();(u=n.variantChildren)===null||u===void 0||u.forEach(d=>{var f;return(f=d.animationState)===null||f===void 0?void 0:f.setActive(l,c)}),t[l].isActive=c;const h=a(l);for(const d in t)t[d].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>t,reset:()=>{t=b0(),i=!0}}}function sM(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!CS(e,n):!1}function Vs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b0(){return{animate:Vs(!0),whileInView:Vs(),whileHover:Vs(),whileTap:Vs(),whileDrag:Vs(),whileFocus:Vs(),exit:Vs()}}class Ms{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rM extends Ms{constructor(e){super(e),e.animationState||(e.animationState=iM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let aM=0;class oM extends Ms{constructor(){super(...arguments),this.id=aM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lM={animation:{Feature:rM},exit:{Feature:oM}};function bl(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Ul(n){return{point:{x:n.pageX,y:n.pageY}}}const cM=n=>e=>Wm(e)&&n(e,Ul(e));function Ho(n,e,t,i){return bl(n,e,cM(t),i)}const w0=(n,e)=>Math.abs(n-e);function uM(n,e){const t=w0(n.x,e.x),i=w0(n.y,e.y);return Math.sqrt(t**2+i**2)}class fk{constructor(e,t,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Gd(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=uM(h.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:m}=h,{timestamp:g}=Lt;this.history.push({...m,timestamp:g});const{onStart:v,onMove:x}=this.handlers;d||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=$d(d,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Gd(h.type==="pointercancel"?this.lastMoveEventInfo:$d(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,v),m&&m(h,v)},!Wm(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=s||window;const a=Ul(e),o=$d(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=Lt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,Gd(o,this.history)),this.removeListeners=Yl(Ho(this.contextWindow,"pointermove",this.handlePointerMove),Ho(this.contextWindow,"pointerup",this.handlePointerUp),Ho(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vs(this.updatePoint)}}function $d(n,e){return e?{point:e(n.point)}:n}function A0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Gd({point:n},e){return{point:n,delta:A0(n,pk(e)),offset:A0(n,hM(e)),velocity:dM(e,.1)}}function hM(n){return n[0]}function pk(n){return n[n.length-1]}function dM(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=pk(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>Ti(e)));)t--;if(!i)return{x:0,y:0};const r=Ei(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const gk=1e-4,fM=1-gk,pM=1+gk,mk=.01,gM=0-mk,mM=0+mk;function Sn(n){return n.max-n.min}function xM(n,e,t){return Math.abs(n-e)<=t}function S0(n,e,t,i=.5){n.origin=i,n.originPoint=it(e.min,e.max,n.origin),n.scale=Sn(t)/Sn(e),n.translate=it(t.min,t.max,n.origin)-n.originPoint,(n.scale>=fM&&n.scale<=pM||isNaN(n.scale))&&(n.scale=1),(n.translate>=gM&&n.translate<=mM||isNaN(n.translate))&&(n.translate=0)}function Xo(n,e,t,i){S0(n.x,e.x,t.x,i?i.originX:void 0),S0(n.y,e.y,t.y,i?i.originY:void 0)}function k0(n,e,t){n.min=t.min+e.min,n.max=n.min+Sn(e)}function yM(n,e,t){k0(n.x,e.x,t.x),k0(n.y,e.y,t.y)}function C0(n,e,t){n.min=e.min-t.min,n.max=n.min+Sn(e)}function Wo(n,e,t){C0(n.x,e.x,t.x),C0(n.y,e.y,t.y)}function vM(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?it(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?it(t,n,i.max):Math.min(n,t)),n}function _0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function bM(n,{top:e,left:t,bottom:i,right:s}){return{x:_0(n.x,t,s),y:_0(n.y,e,i)}}function T0(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function wM(n,e){return{x:T0(n.x,e.x),y:T0(n.y,e.y)}}function AM(n,e){let t=.5;const i=Sn(n),s=Sn(e);return s>i?t=xa(e.min,e.max-i,n.min):i>s&&(t=xa(n.min,n.max-s,e.min)),Ni(0,1,t)}function SM(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Op=.35;function kM(n=Op){return n===!1?n=0:n===!0&&(n=Op),{x:E0(n,"left","right"),y:E0(n,"top","bottom")}}function E0(n,e,t){return{min:P0(n,e),max:P0(n,t)}}function P0(n,e){return typeof n=="number"?n:n[e]||0}const I0=()=>({translate:0,scale:1,origin:0,originPoint:0}),qr=()=>({x:I0(),y:I0()}),R0=()=>({min:0,max:0}),ft=()=>({x:R0(),y:R0()});function In(n){return[n("x"),n("y")]}function xk({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function CM({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function _M(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function qd(n){return n===void 0||n===1}function Vp({scale:n,scaleX:e,scaleY:t}){return!qd(n)||!qd(e)||!qd(t)}function js(n){return Vp(n)||yk(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function yk(n){return M0(n.x)||M0(n.y)}function M0(n){return n&&n!=="0%"}function $u(n,e,t){const i=n-t,s=e*i;return t+s}function L0(n,e,t,i,s){return s!==void 0&&(n=$u(n,s,i)),$u(n,t,i)+e}function Fp(n,e=0,t=1,i,s){n.min=L0(n.min,e,t,i,s),n.max=L0(n.max,e,t,i,s)}function vk(n,{x:e,y:t}){Fp(n.x,e.translate,e.scale,e.originPoint),Fp(n.y,t.translate,t.scale,t.originPoint)}const N0=.999999999999,D0=1.0000000000001;function TM(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let r,a;for(let o=0;o<s;o++){r=t[o],a=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Qr(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,vk(n,a)),i&&js(r.latestValues)&&Qr(n,r.latestValues))}e.x<D0&&e.x>N0&&(e.x=1),e.y<D0&&e.y>N0&&(e.y=1)}function Kr(n,e){n.min=n.min+e,n.max=n.max+e}function O0(n,e,t,i,s=.5){const r=it(n.min,n.max,s);Fp(n,e,t,r,i)}function Qr(n,e){O0(n.x,e.x,e.scaleX,e.scale,e.originX),O0(n.y,e.y,e.scaleY,e.scale,e.originY)}function bk(n,e){return xk(_M(n.getBoundingClientRect(),e))}function EM(n,e,t){const i=bk(n,t),{scroll:s}=e;return s&&(Kr(i.x,s.offset.x),Kr(i.y,s.offset.y)),i}const wk=({current:n})=>n?n.ownerDocument.defaultView:null,PM=new WeakMap;class IM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Ul(u).point)},r=(u,h)=>{const{drag:d,dragPropagation:f,onDragStart:m}=this.getProps();if(d&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AI(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(v=>{let x=this.getAxisMotionValue(v).get()||0;if(fi.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[v];b&&(x=Sn(b)*(parseFloat(x)/100))}}this.originPoint[v]=x}),m&&Je.postRender(()=>m(u,h)),Ep(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(u,h)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:m,onDrag:g}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:v}=h;if(f&&this.currentDirection===null){this.currentDirection=RM(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),g&&g(u,h)},o=(u,h)=>this.stop(u,h),l=()=>In(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new fk(e,{onSessionStart:s,onStart:r,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:wk(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&Je.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!Vc(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=vM(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,r=this.constraints;t&&$r(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=bM(s.layoutBox,t):this.constraints=!1,this.elastic=kM(i),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&In(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=SM(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!$r(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=EM(i,s.root,this.visualElement.getTransformPagePoint());let a=wM(s.layout.layoutBox,r);if(t){const o=t(CM(a));this.hasMutatedConstraints=!!o,o&&(a=xk(o))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=In(u=>{if(!Vc(u,t,this.currentDirection))return;let h=l&&l[u]||{};a&&(h={min:0,max:0});const d=s?200:1e6,f=s?40:1e7,m={type:"inertia",velocity:i?e[u]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...r,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Ep(this.visualElement,e),i.start(nx(e,i,0,t,this.visualElement,!1))}stopAnimation(){In(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){In(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){In(t=>{const{drag:i}=this.getProps();if(!Vc(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[t];r.set(e[t]-it(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!$r(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};In(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();s[a]=AM({min:l,max:l},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),In(a=>{if(!Vc(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(it(l,c,s[a]))})}addListeners(){if(!this.visualElement.current)return;PM.set(this.visualElement,this);const e=this.visualElement.current,t=Ho(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();$r(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Je.read(i);const a=bl(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(In(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=Op,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function Vc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function RM(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class MM extends Ms{constructor(e){super(e),this.removeGroupControls=bn,this.removeListeners=bn,this.controls=new IM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const V0=n=>(e,t)=>{n&&Je.postRender(()=>n(e,t))};class LM extends Ms{constructor(){super(...arguments),this.removePointerDownListener=bn}onPointerDown(e){this.session=new fk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:V0(e),onStart:V0(t),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Je.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=Ho(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ru={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const go={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(pe.test(n))n=parseFloat(n);else return n;const t=F0(n,e.target.x),i=F0(n,e.target.y);return`${t}% ${i}%`}},NM={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=bs.parse(n);if(s.length>5)return i;const r=bs.createTransformer(n),a=typeof s[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;s[0+a]/=o,s[1+a]/=l;const c=it(o,l,.5);return typeof s[2+a]=="number"&&(s[2+a]/=c),typeof s[3+a]=="number"&&(s[3+a]/=c),r(s)}};class DM extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;tI(OM),r&&(t.group&&t.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),ru.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:r}=this.props,a=i.projection;return a&&(a.isPresent=r,s||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Je.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ak(n){const[e,t]=sS(),i=q.useContext(Sm);return R.jsx(DM,{...n,layoutGroup:i,switchLayoutGroup:q.useContext(dS),isPresent:e,safeToRemove:t})}const OM={borderRadius:{...go,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:go,borderTopRightRadius:go,borderBottomLeftRadius:go,borderBottomRightRadius:go,boxShadow:NM};function VM(n,e,t){const i=Qt(n)?n:yl(n);return i.start(nx("",i,e,t)),i.animation}function FM(n){return n instanceof SVGElement&&n.tagName!=="svg"}const zM=(n,e)=>n.depth-e.depth;class jM{constructor(){this.children=[],this.isDirty=!1}add(e){Ym(this.children,e),this.isDirty=!0}remove(e){Um(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zM),this.isDirty=!1,this.children.forEach(e)}}function BM(n,e){const t=pi.now(),i=({timestamp:s})=>{const r=s-t;r>=e&&(vs(i),n(r-e))};return Je.read(i,!0),()=>vs(i)}const Sk=["TopLeft","TopRight","BottomLeft","BottomRight"],HM=Sk.length,z0=n=>typeof n=="string"?parseFloat(n):n,j0=n=>typeof n=="number"||pe.test(n);function XM(n,e,t,i,s,r){s?(n.opacity=it(0,t.opacity!==void 0?t.opacity:1,WM(i)),n.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,YM(i))):r&&(n.opacity=it(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let a=0;a<HM;a++){const o=`border${Sk[a]}Radius`;let l=B0(e,o),c=B0(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||j0(l)===j0(c)?(n[o]=Math.max(it(z0(l),z0(c),i),0),(fi.test(c)||fi.test(l))&&(n[o]+="%")):n[o]=c}(e.rotate||t.rotate)&&(n.rotate=it(e.rotate||0,t.rotate||0,i))}function B0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const WM=kk(0,.5,HS),YM=kk(.5,.95,bn);function kk(n,e,t){return i=>i<n?0:i>e?1:t(xa(n,e,i))}function H0(n,e){n.min=e.min,n.max=e.max}function En(n,e){H0(n.x,e.x),H0(n.y,e.y)}function X0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function W0(n,e,t,i,s){return n-=e,n=$u(n,1/t,i),s!==void 0&&(n=$u(n,1/s,i)),n}function UM(n,e=0,t=1,i=.5,s,r=n,a=n){if(fi.test(e)&&(e=parseFloat(e),e=it(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=it(r.min,r.max,i);n===r&&(o-=e),n.min=W0(n.min,e,t,o,s),n.max=W0(n.max,e,t,o,s)}function Y0(n,e,[t,i,s],r,a){UM(n,e[t],e[i],e[s],e.scale,r,a)}const $M=["x","scaleX","originX"],GM=["y","scaleY","originY"];function U0(n,e,t,i){Y0(n.x,e,$M,t?t.x:void 0,i?i.x:void 0),Y0(n.y,e,GM,t?t.y:void 0,i?i.y:void 0)}function $0(n){return n.translate===0&&n.scale===1}function Ck(n){return $0(n.x)&&$0(n.y)}function G0(n,e){return n.min===e.min&&n.max===e.max}function qM(n,e){return G0(n.x,e.x)&&G0(n.y,e.y)}function q0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function _k(n,e){return q0(n.x,e.x)&&q0(n.y,e.y)}function K0(n){return Sn(n.x)/Sn(n.y)}function Q0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class KM{constructor(){this.members=[]}add(e){Ym(this.members,e),e.scheduleRender()}remove(e){if(Um(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QM(n,e,t){let i="";const s=n.x.translate/e.x,r=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:d,skewX:f,skewY:m}=t;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),h&&(i+=`rotateX(${h}deg) `),d&&(i+=`rotateY(${d}deg) `),f&&(i+=`skewX(${f}deg) `),m&&(i+=`skewY(${m}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const Bs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_o=typeof window<"u"&&window.MotionDebug!==void 0,Kd=["","X","Y","Z"],ZM={visibility:"hidden"},Z0=1e3;let JM=0;function Qd(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Tk(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=DS(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Je,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Tk(i)}function Ek({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},o=e==null?void 0:e()){this.id=JM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_o&&(Bs.totalNodes=Bs.resolvedTargetDeltas=Bs.recalculatedProjection=0),this.nodes.forEach(nL),this.nodes.forEach(oL),this.nodes.forEach(lL),this.nodes.forEach(iL),_o&&window.MotionDebug.record(Bs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new jM)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new $m),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FM(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),n){let h;const d=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=BM(d,250),ru.hasAnimatedSinceResize&&(ru.hasAnimatedSinceResize=!1,this.nodes.forEach(eb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||fL,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!_k(this.targetLayout,m)||f,b=!d&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const _={...Bm(g,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else d||eb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cL),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J0);return}this.isUpdating||this.nodes.forEach(rL),this.isUpdating=!1,this.nodes.forEach(aL),this.nodes.forEach(eL),this.nodes.forEach(tL),this.clearAllSnapshots();const o=pi.now();Lt.delta=Ni(0,1e3/60,o-Lt.timestamp),Lt.timestamp=o,Lt.isProcessing=!0,Bd.update.process(Lt),Bd.preRender.process(Lt),Bd.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sL),this.sharedNodes.forEach(uL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Ck(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||js(this.latestValues)||u)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),pL(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return ft();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(gL))){const{scroll:u}=this.root;u&&(Kr(l.x,u.offset.x),Kr(l.y,u.offset.y))}return l}removeElementScroll(a){var o;const l=ft();if(En(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:d}=u;u!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&En(l,a),Kr(l.x,h.offset.x),Kr(l.y,h.offset.y))}return l}applyTransform(a,o=!1){const l=ft();En(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Qr(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),js(u.latestValues)&&Qr(l,u.latestValues)}return js(this.latestValues)&&Qr(l,this.latestValues),l}removeTransform(a){const o=ft();En(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!js(c.latestValues))continue;Vp(c.latestValues)&&c.updateSnapshot();const u=ft(),h=c.measurePageBox();En(u,h),U0(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return js(this.latestValues)&&U0(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Wo(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),vk(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Wo(this.relativeTargetOrigin,this.target,f.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_o&&Bs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vp(this.parent.latestValues)||yk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;En(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;TM(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ft());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X0(this.prevProjectionDelta.x,this.projectionDelta.x),X0(this.prevProjectionDelta.y,this.projectionDelta.y)),Xo(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Q0(this.projectionDelta.x,this.prevProjectionDelta.x)||!Q0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),_o&&Bs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qr(),this.projectionDelta=qr(),this.projectionDeltaWithTransform=qr()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=ft(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=f!==m,v=this.getStack(),x=!v||v.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(dL));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const k=_/1e3;tb(h.x,a.x,k),tb(h.y,a.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wo(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hL(this.relativeTarget,this.relativeTargetOrigin,d,k),b&&qM(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=ft()),En(b,this.relativeTarget)),g&&(this.animationValues=u,XM(u,c,this.latestValues,k,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{ru.hasAnimatedSinceResize=!0,this.currentAnimation=VM(0,Z0,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Pk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ft();const h=Sn(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const d=Sn(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}En(o,l),Qr(o,u),Xo(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new KM),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Qd("z",a,c,this.animationValues);for(let u=0;u<Kd.length;u++)Qd(`rotate${Kd[u]}`,a,c,this.animationValues),Qd(`skew${Kd[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZM;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=iu(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=iu(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=QM(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:f,y:m}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(o=d.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Hu){if(d[g]===void 0)continue;const{correct:v,applyTo:x}=Hu[g],y=c.transform==="none"?d[g]:v(d[g],h);if(x){const b=x.length;for(let _=0;_<b;_++)c[x[_]]=y}else c[g]=y}return this.options.layoutId&&(c.pointerEvents=h===this?iu(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(J0),this.root.sharedNodes.clear()}}}function eL(n){n.updateLayout()}function tL(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,a=t.source!==n.layout.source;r==="size"?In(h=>{const d=a?t.measuredBox[h]:t.layoutBox[h],f=Sn(d);d.min=i[h].min,d.max=d.min+f}):Pk(r,t.layoutBox,i)&&In(h=>{const d=a?t.measuredBox[h]:t.layoutBox[h],f=Sn(i[h]);d.max=d.min+f,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+f)});const o=qr();Xo(o,i,t.layoutBox);const l=qr();a?Xo(l,n.applyTransform(s,!0),t.measuredBox):Xo(l,i,t.layoutBox);const c=!Ck(o);let u=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const m=ft();Wo(m,t.layoutBox,d.layoutBox);const g=ft();Wo(g,i,f.layoutBox),_k(m,g)||(u=!0),h.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=m,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function nL(n){_o&&Bs.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function iL(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function sL(n){n.clearSnapshot()}function J0(n){n.clearMeasurements()}function rL(n){n.isLayoutDirty=!1}function aL(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function eb(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function oL(n){n.resolveTargetDelta()}function lL(n){n.calcProjection()}function cL(n){n.resetSkewAndRotation()}function uL(n){n.removeLeadSnapshot()}function tb(n,e,t){n.translate=it(e.translate,0,t),n.scale=it(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function nb(n,e,t,i){n.min=it(e.min,t.min,i),n.max=it(e.max,t.max,i)}function hL(n,e,t,i){nb(n.x,e.x,t.x,i),nb(n.y,e.y,t.y,i)}function dL(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const fL={duration:.45,ease:[.4,0,.1,1]},ib=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),sb=ib("applewebkit/")&&!ib("chrome/")?Math.round:bn;function rb(n){n.min=sb(n.min),n.max=sb(n.max)}function pL(n){rb(n.x),rb(n.y)}function Pk(n,e,t){return n==="position"||n==="preserve-aspect"&&!xM(K0(e),K0(t),.2)}function gL(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const mL=Ek({attachResizeListener:(n,e)=>bl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zd={current:void 0},Ik=Ek({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Zd.current){const n=new mL({});n.mount(window),n.setOptions({layoutScroll:!0}),Zd.current=n}return Zd.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xL={pan:{Feature:LM},drag:{Feature:MM,ProjectionNode:Ik,MeasureLayout:Ak}};function ab(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,r=i[s];r&&Je.postRender(()=>r(e,Ul(e)))}class yL extends Ms{mount(){const{current:e}=this.node;e&&(this.unmount=xI(e,t=>(ab(this.node,t,"Start"),i=>ab(this.node,i,"End"))))}unmount(){}}class vL extends Ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yl(bl(this.node.current,"focus",()=>this.onFocus()),bl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ob(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),r=i[s];r&&Je.postRender(()=>r(e,Ul(e)))}class bL extends Ms{mount(){const{current:e}=this.node;e&&(this.unmount=wI(e,t=>(ob(this.node,t,"Start"),(i,{success:s})=>ob(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zp=new WeakMap,Jd=new WeakMap,wL=n=>{const e=zp.get(n.target);e&&e(n)},AL=n=>{n.forEach(wL)};function SL({root:n,...e}){const t=n||document;Jd.has(t)||Jd.set(t,{});const i=Jd.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(AL,{root:n,...e})),i[s]}function kL(n,e,t){const i=SL(e);return zp.set(n,t),i.observe(n),()=>{zp.delete(n),i.unobserve(n)}}const CL={some:0,all:1};class _L extends Ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:CL[s]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),d=c?u:h;d&&d(l)};return kL(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(TL(e,t))&&this.startObserver()}unmount(){}}function TL({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const EL={inView:{Feature:_L},tap:{Feature:bL},focus:{Feature:vL},hover:{Feature:yL}},PL={layout:{ProjectionNode:Ik,MeasureLayout:Ak}},jp={current:null},Rk={current:!1};function IL(){if(Rk.current=!0,!!_m)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>jp.current=n.matches;n.addListener(e),e()}else jp.current=!1}const RL=[...nk,$t,bs],ML=n=>RL.find(tk(n)),lb=new WeakMap;function LL(n,e,t){for(const i in e){const s=e[i],r=t[i];if(Qt(s))n.addValue(i,s);else if(Qt(r))n.addValue(i,yl(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,yl(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const cb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NL{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Jm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=pi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Je.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=a;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=Dh(t),this.isVariantNode=uS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&Qt(m)&&m.set(l[f],!1)}}mount(e){this.current=e,lb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),Rk.current||IL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lb.delete(this.current),this.projection&&this.projection.unmount(),vs(this.notifyUpdate),vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=mr.has(e),s=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Je.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ya){const t=ya[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<cb.length;i++){const s=cb[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=e[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=LL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=yl(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(JS(s)||WS(s))?s=parseFloat(s):!ML(s)&&bs.test(t)&&(s=KS(e,t)),this.setBaseTarget(e,Qt(s)?s.get():s)),Qt(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const a=Lm(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(s=a[e])}if(i&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Qt(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new $m),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class Mk extends NL{constructor(){super(...arguments),this.KeyframeResolver=ik}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function DL(n){return window.getComputedStyle(n)}class OL extends Mk{constructor(){super(...arguments),this.type="html",this.renderInstance=vS}readValueFromInstance(e,t){if(mr.has(t)){const i=Zm(t);return i&&i.default||0}else{const i=DL(e),s=(mS(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return bk(e,t)}build(e,t,i){Om(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return jm(e,t,i)}}class VL extends Mk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mr.has(t)){const i=Zm(t);return i&&i.default||0}return t=bS.has(t)?t:Im(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return SS(e,t,i)}build(e,t,i){Vm(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,s){wS(e,t,i,s)}mount(e){this.isSVGTag=zm(e.tagName),super.mount(e)}}const FL=(n,e)=>Mm(n)?new VL(e):new OL(e,{allowProjection:n!==q.Fragment}),zL=uI({...lM,...EL,...xL,...PL},FL),ef=CP(zL);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ht=(n,e)=>{const t=q.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:o="",children:l,...c},u)=>q.createElement("svg",{ref:u,...jL,width:s,height:s,stroke:i,strokeWidth:a?Number(r)*24/Number(s):r,className:["lucide",`lucide-${BL(n)}`,o].join(" "),...c},[...e.map(([h,d])=>q.createElement(h,d)),...Array.isArray(l)?l:[l]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Ht("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=Ht("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=Ht("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=Ht("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=Ht("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=Ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=Ht("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=Ht("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=Ht("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=Ht("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=Ht("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=Ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=Ht("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=Ht("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=Ht("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Ht("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/*!
 * ApexCharts v5.3.6
 * (c) 2018-2025 ApexCharts
 */function Bp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Dk(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function te(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fb(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Fk(i.key),i)}}function ne(n,e,t){return e&&fb(n.prototype,e),t&&fb(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function To(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=ix(n))||e){t&&(n=t);var i=0,s=function(){};return{s,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,r=l},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw r}}}}function $l(n){var e=Ok();return function(){var t,i=qu(n);if(e){var s=qu(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return function(r,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dk(r)}(this,t)}}function Gu(n,e,t){return(e=Fk(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qu(n){return qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qu(n)}function Gl(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Hp(n,e)}function Ok(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ok=function(){return!!n})()}function pb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Z(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pb(Object(t),!0).forEach(function(i){Gu(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Hp(n,e){return Hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Hp(n,e)}function Vk(n,e){return function(t){if(Array.isArray(t))return t}(n)||function(t,i){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var r,a,o,l,c=[],u=!0,h=!1;try{if(o=(s=s.call(t)).next,i===0){if(Object(s)!==s)return;u=!1}else for(;!(u=(r=o.call(s)).done)&&(c.push(r.value),c.length!==i);u=!0);}catch(d){h=!0,a=d}finally{try{if(!u&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}(n,e)||ix(n,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ct(n){return function(e){if(Array.isArray(e))return Bp(e)}(n)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(n)||ix(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fk(n){var e=function(t,i){if(typeof t!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,i);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return typeof e=="symbol"?e:e+""}function sn(n){return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(n)}function ix(n,e){if(n){if(typeof n=="string")return Bp(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Bp(n,e):void 0}}var D=function(){function n(){te(this,n)}return ne(n,[{key:"shadeRGBColor",value:function(e,t){var i=t.split(","),s=e<0?0:255,r=e<0?-1*e:e,a=parseInt(i[0].slice(4),10),o=parseInt(i[1],10),l=parseInt(i[2],10);return"rgb("+(Math.round((s-a)*r)+a)+","+(Math.round((s-o)*r)+o)+","+(Math.round((s-l)*r)+l)+")"}},{key:"shadeHexColor",value:function(e,t){var i=parseInt(t.slice(1),16),s=e<0?0:255,r=e<0?-1*e:e,a=i>>16,o=i>>8&255,l=255&i;return"#"+(16777216+65536*(Math.round((s-a)*r)+a)+256*(Math.round((s-o)*r)+o)+(Math.round((s-l)*r)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return n.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&sn(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"listToArray",value:function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}},{key:"extend",value:function(e,t){var i=this;typeof Object.assign!="function"&&(Object.assign=function(r){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(r),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])}return a});var s=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(r){i.isObject(t[r])&&r in e?s[r]=i.extend(e[r],t[r]):Object.assign(s,Gu({},r,t[r]))}),s}},{key:"extendArray",value:function(e,t){var i=[];return e.map(function(s){i.push(n.extend(t,s))}),e=i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||sn(e)!=="object")return e;if(i.has(e))return i.get(e);if(Array.isArray(e)){t=[],i.set(e,t);for(var s=0;s<e.length;s++)t[s]=this.clone(e[s],i)}else if(e instanceof Date)t=new Date(e.getTime());else for(var r in t={},i.set(e,t),e)e.hasOwnProperty(r)&&(t[r]=this.clone(e[r],i));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return typeof e=="number"||e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"isInShadowDOM",value:function(e){if(!e||!e.getRootNode)return!1;var t=e.getRootNode();return t&&t!==document&&n.is("ShadowRoot",t)}},{key:"getShadowRootHost",value:function(e){return n.isInShadowDOM(e)&&e.getRootNode().host||null}},{key:"getDimensions",value:function(e){if(!e)return[0,0];var t,i=e.getRootNode&&e.getRootNode();if(i&&i!==document&&i.host){var s=i.host.getBoundingClientRect();return[s.width,s.height]}try{t=getComputedStyle(e,null)}catch{return[e.clientWidth||0,e.clientHeight||0]}var r=e.clientHeight,a=e.clientWidth;return r-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[a-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r]}},{key:"getBoundingClientRect",value:function(e){if(!e)return{top:0,right:0,bottom:0,left:0,width:0,height:0,x:0,y:0};var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,i){return Array.isArray(i)&&(i=i.reduce(function(s,r){return s.length>r.length?s:r})),t.length>i.length?t:i},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var i=e.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var s=0;s<i.length;s++)i[s]=parseInt(i[s].length===1?i[s]+i[s]:i[s],16);return t!==void 0&&i.push(t),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var i=[],s=2*Math.PI/t,r=0;r<t;r++){var a={};a.x=e*Math.sin(r*s),a.y=-e*Math.cos(r*s),i.push(a)}return i}},{key:"polarToCartesian",value:function(e,t,i,s){var r=(s-90)*Math.PI/180;return{x:e+i*Math.cos(r),y:t+i*Math.sin(r)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",i=e.toString().slice();return i=i.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,i){if(i>=e.length)for(var s=i-e.length+1;s--;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e.style.key=t[i])}},{key:"preciseAddition",value:function(e,t){var i=(String(e).split(".")[1]||"").length,s=(String(t).split(".")[1]||"").length,r=Math.pow(10,Math.max(i,s));return(Math.round(e*r)+Math.round(t*r))/r}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,s=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));for(s>1?(e=Math.round(Math.abs(e)*s),t=Math.round(Math.abs(t)*s)):s=1;t;){var r=t;t=e%t,e=r}return e/s}},{key:"getPrimeFactors",value:function(e){for(var t=[],i=2;e>=2;)e%i==0?(t.push(i),e/=i):i++;return t}},{key:"mod",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,s=Math.pow(10,i-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*s))%(t=Math.round(Math.abs(t)*s))/s}}]),n}(),Na=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"animateLine",value:function(e,t,i,s){e.attr(t).animate(s).attr(i)}},{key:"animateMarker",value:function(e,t,i,s){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){s()})}},{key:"animateRect",value:function(e,t,i,s,r){e.attr(t).animate(s).attr(i).after(function(){return r()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,i=e.realIndex,s=e.j,r=e.fill,a=e.pathFrom,o=e.pathTo,l=e.speed,c=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(t,i,s,u.config.chart.type!=="line"||u.globals.comboCharts?r:"stroke",a,o,l,c*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,i,s,r,a,o,l){var c=this,u=this.w;r||(r=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var h=function(d){return u.config.chart.type==="radar"&&(o=1),"M 0 ".concat(u.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=h()),(!a.trim()||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=h()),u.globals.shouldAnimate||(o=1),e.plot(r).animate(1,l).plot(r).animate(o,l).plot(a).after(function(){D.isNumber(i)?i===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&c.animationCompleted(e):s!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),n}();const Xp={},zk=[];function ve(n,e){if(Array.isArray(n))for(const t of n)ve(t,e);else if(typeof n!="object")jk(Object.getOwnPropertyNames(e)),Xp[n]=Object.assign(Xp[n]||{},e);else for(const t in n)ve(t,n[t])}function cn(n){return Xp[n]||{}}function jk(n){zk.push(...n)}function sx(n,e){let t;const i=n.length,s=[];for(t=0;t<i;t++)s.push(e(n[t]));return s}function nf(n){return n%360*Math.PI/180}function Da(n){return n.charAt(0).toUpperCase()+n.slice(1)}function Oa(n,e,t,i){return e!=null&&t!=null||(i=i||n.bbox(),e==null?e=i.width/i.height*t:t==null&&(t=i.height/i.width*e)),{width:e,height:t}}function Wp(n,e){const t=n.origin;let i=n.ox!=null?n.ox:n.originX!=null?n.originX:"center",s=n.oy!=null?n.oy:n.originY!=null?n.originY:"center";t!=null&&([i,s]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const r=typeof i=="string",a=typeof s=="string";if(r||a){const{height:o,width:l,x:c,y:u}=e.bbox();r&&(i=i.includes("left")?c:i.includes("right")?c+l:c+l/2),a&&(s=s.includes("top")?u:s.includes("bottom")?u+o:u+o/2)}return[i,s]}const ZL=new Set(["desc","metadata","title"]),Yp=n=>ZL.has(n.nodeName),Bk=(n,e,t={})=>{const i={...e};for(const s in i)i[s].valueOf()===t[s]&&delete i[s];Object.keys(i).length?n.node.setAttribute("data-svgjs",JSON.stringify(i)):(n.node.removeAttribute("data-svgjs"),n.node.removeAttribute("svgjs:data"))},rx="http://www.w3.org/2000/svg",sf="http://www.w3.org/2000/xmlns/",Va="http://www.w3.org/1999/xlink",Re={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function ql(){return Re.window}let ax=class{};const ir={},ox="___SYMBOL___ROOT___";function wl(n,e=rx){return Re.document.createElementNS(e,n)}function rn(n,e=!1){if(n instanceof ax)return n;if(typeof n=="object")return rf(n);if(n==null)return new ir[ox];if(typeof n=="string"&&n.charAt(0)!=="<")return rf(Re.document.querySelector(n));const t=e?Re.document.createElement("div"):wl("svg");return t.innerHTML=n,n=rf(t.firstChild),t.removeChild(t.firstChild),n}function He(n,e){return e&&(e instanceof Re.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:wl(n)}function Rn(n){if(!n)return null;if(n.instance instanceof ax)return n.instance;if(n.nodeName==="#document-fragment")return new ir.Fragment(n);let e=Da(n.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":ir[e]||(e="Dom"),new ir[e](n)}let rf=Rn;function Me(n,e=n.name,t=!1){return ir[e]=n,t&&(ir[ox]=n),jk(Object.getOwnPropertyNames(n.prototype)),n}let JL=1e3;function Hk(n){return"Svgjs"+Da(n)+JL++}function Xk(n){for(let e=n.children.length-1;e>=0;e--)Xk(n.children[e]);return n.id&&(n.id=Hk(n.nodeName)),n}function ue(n,e){let t,i;for(i=(n=Array.isArray(n)?n:[n]).length-1;i>=0;i--)for(t in e)n[i].prototype[t]=e[t]}function Be(n){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?n.apply(this,e):n.apply(this,e.slice(0,-1)).attr(t)}}ve("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const n=this.position();return this.parent().add(this.remove(),n+1),this},backward:function(){const n=this.position();return this.parent().add(this.remove(),n?n-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(n){(n=rn(n)).remove();const e=this.position();return this.parent().add(n,e),this},after:function(n){(n=rn(n)).remove();const e=this.position();return this.parent().add(n,e+1),this},insertBefore:function(n){return(n=rn(n)).before(this),this},insertAfter:function(n){return(n=rn(n)).after(this),this}});const Wk=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,eN=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,tN=/rgb\((\d+),(\d+),(\d+)\)/,nN=/(#[a-z_][a-z0-9\-_]*)/i,iN=/\)\s*,?\s*/,sN=/\s/g,gb=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,mb=/^rgb\(/,xb=/^(\s+)?$/,yb=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rN=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,zi=/[\s,]+/,lx=/[MLHVCSQTAZ]/i;function aN(n){const e=Math.round(n),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Pr(n,e){for(let t=e.length;t--;)if(n[e[t]]==null)return!1;return!0}function af(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}ve("Dom",{classes:function(){const n=this.attr("class");return n==null?[]:n.trim().split(zi)},hasClass:function(n){return this.classes().indexOf(n)!==-1},addClass:function(n){if(!this.hasClass(n)){const e=this.classes();e.push(n),this.attr("class",e.join(" "))}return this},removeClass:function(n){return this.hasClass(n)&&this.attr("class",this.classes().filter(function(e){return e!==n}).join(" ")),this},toggleClass:function(n){return this.hasClass(n)?this.removeClass(n):this.addClass(n)}}),ve("Dom",{css:function(n,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const s=i.split(/\s*:\s*/);t[s[0]]=s[1]}),t;if(arguments.length<2){if(Array.isArray(n)){for(const i of n){const s=i;t[i]=this.node.style.getPropertyValue(s)}return t}if(typeof n=="string")return this.node.style.getPropertyValue(n);if(typeof n=="object")for(const i in n)this.node.style.setProperty(i,n[i]==null||xb.test(n[i])?"":n[i])}return arguments.length===2&&this.node.style.setProperty(n,e==null||xb.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),ve("Dom",{data:function(n,e,t){if(n==null)return this.data(sx(function(i,s){let r;const a=i.length,o=[];for(r=0;r<a;r++)s(i[r])&&o.push(i[r]);return o}(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(n instanceof Array){const i={};for(const s of n)i[s]=this.data(s);return i}if(typeof n=="object")for(e in n)this.data(e,n[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+n))}catch{return this.attr("data-"+n)}else this.attr("data-"+n,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),ve("Dom",{remember:function(n,e){if(typeof arguments[0]=="object")for(const t in n)this.remember(t,n[t]);else{if(arguments.length===1)return this.memory()[n];this.memory()[n]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let n=arguments.length-1;n>=0;n--)delete this.memory()[arguments[n]];return this},memory:function(){return this._memory=this._memory||{}}});class Fe{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Fe||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:i,round:s,sin:r,PI:a}=Math;if(e==="vibrant"){const o=24*i()+57,l=38*i()+45,c=360*i();return new Fe(o,l,c,"lch")}if(e==="sine"){const o=s(80*r(2*a*(t=t??i())/.5+.01)+150),l=s(50*r(2*a*t/.5+4.6)+200),c=s(100*r(2*a*t/.5+2.3)+150);return new Fe(o,l,c)}if(e==="pastel"){const o=8*i()+86,l=17*i()+9,c=360*i();return new Fe(o,l,c,"lch")}if(e==="dark"){const o=10+10*i(),l=50*i()+86,c=360*i();return new Fe(o,l,c,"lch")}if(e==="rgb"){const o=255*i(),l=255*i(),c=255*i();return new Fe(o,l,c)}if(e==="lab"){const o=100*i(),l=256*i()-128,c=256*i()-128;return new Fe(o,l,c,"lab")}if(e==="grey"){const o=255*i();return new Fe(o,o,o)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(gb.test(e)||mb.test(e))}cmyk(){const{_a:e,_b:t,_c:i}=this.rgb(),[s,r,a]=[e,t,i].map(l=>l/255),o=Math.min(1-s,1-r,1-a);return o===1?new Fe(0,0,0,1,"cmyk"):new Fe((1-s-o)/(1-o),(1-r-o)/(1-o),(1-a-o)/(1-o),o,"cmyk")}hsl(){const{_a:e,_b:t,_c:i}=this.rgb(),[s,r,a]=[e,t,i].map(d=>d/255),o=Math.max(s,r,a),l=Math.min(s,r,a),c=(o+l)/2,u=o===l,h=o-l;return new Fe(360*(u?0:o===s?((r-a)/h+(r<a?6:0))/6:o===r?((a-s)/h+2)/6:o===a?((s-r)/h+4)/6:0),100*(u?0:c>.5?h/(2-o-l):h/(o+l)),100*c,"hsl")}init(e=0,t=0,i=0,s=0,r="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")r=typeof s=="string"?s:r,s=typeof s=="string"?0:s,Object.assign(this,{_a:e,_b:t,_c:i,_d:s,space:r});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(d,f){const m=Pr(d,"rgb")?{_a:d.r,_b:d.g,_c:d.b,_d:0,space:"rgb"}:Pr(d,"xyz")?{_a:d.x,_b:d.y,_c:d.z,_d:0,space:"xyz"}:Pr(d,"hsl")?{_a:d.h,_b:d.s,_c:d.l,_d:0,space:"hsl"}:Pr(d,"lab")?{_a:d.l,_b:d.a,_c:d.b,_d:0,space:"lab"}:Pr(d,"lch")?{_a:d.l,_b:d.c,_c:d.h,_d:0,space:"lch"}:Pr(d,"cmyk")?{_a:d.c,_b:d.m,_c:d.y,_d:d.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return m.space=f||m.space,m}(e,t);Object.assign(this,h)}else if(typeof e=="string")if(mb.test(e)){const h=e.replace(sN,""),[d,f,m]=tN.exec(h).slice(1,4).map(g=>parseInt(g));Object.assign(this,{_a:d,_b:f,_c:m,_d:0,space:"rgb"})}else{if(!gb.test(e))throw Error("Unsupported string format, can't construct Color");{const h=g=>parseInt(g,16),[,d,f,m]=eN.exec(function(g){return g.length===4?["#",g.substring(1,2),g.substring(1,2),g.substring(2,3),g.substring(2,3),g.substring(3,4),g.substring(3,4)].join(""):g}(e)).map(h);Object.assign(this,{_a:d,_b:f,_c:m,_d:0,space:"rgb"})}}const{_a:a,_b:o,_c:l,_d:c}=this,u=this.space==="rgb"?{r:a,g:o,b:l}:this.space==="xyz"?{x:a,y:o,z:l}:this.space==="hsl"?{h:a,s:o,l}:this.space==="lab"?{l:a,a:o,b:l}:this.space==="lch"?{l:a,c:o,h:l}:this.space==="cmyk"?{c:a,m:o,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:i}=this.xyz();return new Fe(116*t-16,500*(e-t),200*(t-i),"lab")}lch(){const{l:e,a:t,b:i}=this.lab(),s=Math.sqrt(t**2+i**2);let r=180*Math.atan2(i,t)/Math.PI;return r<0&&(r*=-1,r=360-r),new Fe(e,s,r,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:i,z:s}=this;if(this.space==="lab"||this.space==="lch"){let{l:f,a:m,b:g}=this;if(this.space==="lch"){const{c:P,h:A}=this,w=Math.PI/180;m=P*Math.cos(w*A),g=P*Math.sin(w*A)}const v=(f+16)/116,x=m/500+v,y=v-g/200,b=16/116,_=.008856,k=7.787;t=.95047*(x**3>_?x**3:(x-b)/k),i=1*(v**3>_?v**3:(v-b)/k),s=1.08883*(y**3>_?y**3:(y-b)/k)}const r=3.2406*t+-1.5372*i+-.4986*s,a=-.9689*t+1.8758*i+.0415*s,o=.0557*t+-.204*i+1.057*s,l=Math.pow,c=.0031308,u=r>c?1.055*l(r,1/2.4)-.055:12.92*r,h=a>c?1.055*l(a,1/2.4)-.055:12.92*a,d=o>c?1.055*l(o,1/2.4)-.055:12.92*o;return new Fe(255*u,255*h,255*d)}if(this.space==="hsl"){let{h:t,s:i,l:s}=this;if(t/=360,i/=100,s/=100,i===0)return s*=255,new Fe(s,s,s);const r=s<.5?s*(1+i):s+i-s*i,a=2*s-r,o=255*af(a,r,t+1/3),l=255*af(a,r,t),c=255*af(a,r,t-1/3);return new Fe(o,l,c)}if(this.space==="cmyk"){const{c:t,m:i,y:s,k:r}=this,a=255*(1-Math.min(1,t*(1-r)+r)),o=255*(1-Math.min(1,i*(1-r)+r)),l=255*(1-Math.min(1,s*(1-r)+r));return new Fe(a,o,l)}return this;var e}toArray(){const{_a:e,_b:t,_c:i,_d:s,space:r}=this;return[e,t,i,s,r]}toHex(){const[e,t,i]=this._clamped().map(aN);return`#${e}${t}${i}`}toRgb(){const[e,t,i]=this._clamped();return`rgb(${e},${t},${i})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:i}=this.rgb(),[s,r,a]=[e,t,i].map(v=>v/255),o=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,l=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,c=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,u=(.4124*o+.3576*l+.1805*c)/.95047,h=(.2126*o+.7152*l+.0722*c)/1,d=(.0193*o+.1192*l+.9505*c)/1.08883,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,m=h>.008856?Math.pow(h,1/3):7.787*h+16/116,g=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new Fe(f,m,g,"xyz")}_clamped(){const{_a:e,_b:t,_c:i}=this.rgb(),{max:s,min:r,round:a}=Math;return[e,t,i].map(o=>s(0,r(a(o),255)))}}class De{constructor(...e){this.init(...e)}clone(){return new De(this)}init(e,t){const r=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=r.x==null?0:r.x,this.y=r.y==null?0:r.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Se.isMatrixLike(e)||(e=new Se(e));const{x:t,y:i}=this;return this.x=e.a*t+e.c*i+e.e,this.y=e.b*t+e.d*i+e.f,this}}function Ir(n,e,t){return Math.abs(e-n)<1e-6}let Se=class wt{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,i=e.flip&&(t||e.flip==="x")?-1:1,s=e.flip&&(t||e.flip==="y")?-1:1,r=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,a=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,o=e.scale&&e.scale.length?e.scale[0]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleX)?e.scaleX*i:i,l=e.scale&&e.scale.length?e.scale[1]*s:isFinite(e.scale)?e.scale*s:isFinite(e.scaleY)?e.scaleY*s:s,c=e.shear||0,u=e.rotate||e.theta||0,h=new De(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),d=h.x,f=h.y,m=new De(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),g=m.x,v=m.y,x=new De(e.translate||e.tx||e.translateX,e.ty||e.translateY),y=x.x,b=x.y,_=new De(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:o,scaleY:l,skewX:r,skewY:a,shear:c,theta:u,rx:_.x,ry:_.y,tx:y,ty:b,ox:d,oy:f,px:g,py:v}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,i){const s=e.a*t.a+e.c*t.b,r=e.b*t.a+e.d*t.b,a=e.a*t.c+e.c*t.d,o=e.b*t.c+e.d*t.d,l=e.e+e.a*t.e+e.c*t.f,c=e.f+e.b*t.e+e.d*t.f;return i.a=s,i.b=r,i.c=a,i.d=o,i.e=l,i.f=c,i}around(e,t,i){return this.clone().aroundO(e,t,i)}aroundO(e,t,i){const s=e||0,r=t||0;return this.translateO(-s,-r).lmultiplyO(i).translateO(s,r)}clone(){return new wt(this)}decompose(e=0,t=0){const i=this.a,s=this.b,r=this.c,a=this.d,o=this.e,l=this.f,c=i*a-s*r,u=c>0?1:-1,h=u*Math.sqrt(i*i+s*s),d=Math.atan2(u*s,u*i),f=180/Math.PI*d,m=Math.cos(d),g=Math.sin(d),v=(i*r+s*a)/c,x=r*h/(v*i-s)||a*h/(v*s+i);return{scaleX:h,scaleY:x,shear:v,rotate:f,translateX:o-e+e*m*h+t*(v*m*h-g*x),translateY:l-t+e*g*h+t*(v*g*h+m*x),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new wt(e);return Ir(this.a,t.a)&&Ir(this.b,t.b)&&Ir(this.c,t.c)&&Ir(this.d,t.d)&&Ir(this.e,t.e)&&Ir(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=wt.fromArray([1,0,0,1,0,0]);return e=e instanceof jt?e.matrixify():typeof e=="string"?wt.fromArray(e.split(zi).map(parseFloat)):Array.isArray(e)?wt.fromArray(e):typeof e=="object"&&wt.isMatrixLike(e)?e:typeof e=="object"?new wt().transform(e):arguments.length===6?wt.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,i=this.c,s=this.d,r=this.e,a=this.f,o=e*s-t*i;if(!o)throw new Error("Cannot invert "+this);const l=s/o,c=-t/o,u=-i/o,h=e/o,d=-(l*r+u*a),f=-(c*r+h*a);return this.a=l,this.b=c,this.c=u,this.d=h,this.e=d,this.f=f,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof wt?e:new wt(e);return wt.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof wt?e:new wt(e);return wt.matrixMultiply(this,t,this)}rotate(e,t,i){return this.clone().rotateO(e,t,i)}rotateO(e,t=0,i=0){e=nf(e);const s=Math.cos(e),r=Math.sin(e),{a,b:o,c:l,d:c,e:u,f:h}=this;return this.a=a*s-o*r,this.b=o*s+a*r,this.c=l*s-c*r,this.d=c*s+l*r,this.e=u*s-h*r+i*r-t*s+t,this.f=h*s+u*r-t*r-i*s+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,i=0,s=0){arguments.length===3&&(s=i,i=t,t=e);const{a:r,b:a,c:o,d:l,e:c,f:u}=this;return this.a=r*e,this.b=a*t,this.c=o*e,this.d=l*t,this.e=c*e-i*e+i,this.f=u*t-s*t+s,this}shear(e,t,i){return this.clone().shearO(e,t,i)}shearO(e,t=0,i=0){const{a:s,b:r,c:a,d:o,e:l,f:c}=this;return this.a=s+r*e,this.c=a+o*e,this.e=l+c*e-i*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,i=0,s=0){arguments.length===3&&(s=i,i=t,t=e),e=nf(e),t=nf(t);const r=Math.tan(e),a=Math.tan(t),{a:o,b:l,c,d:u,e:h,f:d}=this;return this.a=o+l*r,this.b=l+o*a,this.c=c+u*r,this.d=u+c*a,this.e=h+d*r-s*r,this.f=d+h*a-i*a,this}skewX(e,t,i){return this.skew(e,0,t,i)}skewY(e,t,i){return this.skew(0,e,t,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(wt.isMatrixLike(e))return new wt(e).multiplyO(this);const t=wt.formatTransforms(e),{x:i,y:s}=new De(t.ox,t.oy).transform(this),r=new wt().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-i,-s).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(i,s);if(isFinite(t.px)||isFinite(t.py)){const a=new De(i,s).transform(r),o=isFinite(t.px)?t.px-a.x:0,l=isFinite(t.py)?t.py-a.y:0;r.translateO(o,l)}return r.translateO(t.tx,t.ty),r}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function es(){if(!es.nodes){const n=rn().size(2,0);n.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),n.attr("focusable","false"),n.attr("aria-hidden","true");const e=n.path().node;es.nodes={svg:n,path:e}}if(!es.nodes.svg.node.parentNode){const n=Re.document.body||Re.document.documentElement;es.nodes.svg.addTo(n)}return es.nodes}function Yk(n){return!(n.width||n.height||n.x||n.y)}Me(Se,"Matrix");class ht{constructor(...e){this.init(...e)}addOffset(){return this.x+=Re.window.pageXOffset,this.y+=Re.window.pageYOffset,new ht(this)}init(e){return e=typeof e=="string"?e.split(zi).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Yk(this)}merge(e){const t=Math.min(this.x,e.x),i=Math.min(this.y,e.y),s=Math.max(this.x+this.width,e.x+e.width)-t,r=Math.max(this.y+this.height,e.y+e.height)-i;return new ht(t,i,s,r)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Se||(e=new Se(e));let t=1/0,i=-1/0,s=1/0,r=-1/0;return[new De(this.x,this.y),new De(this.x2,this.y),new De(this.x,this.y2),new De(this.x2,this.y2)].forEach(function(a){a=a.transform(e),t=Math.min(t,a.x),i=Math.max(i,a.x),s=Math.min(s,a.y),r=Math.max(r,a.y)}),new ht(t,s,i-t,r-s)}}function vb(n,e,t){let i;try{if(i=e(n.node),Yk(i)&&(s=n.node)!==Re.document&&!(Re.document.documentElement.contains||function(r){for(;r.parentNode;)r=r.parentNode;return r===Re.document}).call(Re.document.documentElement,s))throw new Error("Element not in the dom")}catch{i=t(n)}var s;return i}ve({viewbox:{viewbox(n,e,t,i){return n==null?new ht(this.attr("viewBox")):this.attr("viewBox",new ht(n,e,t,i))},zoom(n,e){let{width:t,height:i}=this.attr(["width","height"]);if((t||i)&&typeof t!="string"&&typeof i!="string"||(t=this.node.clientWidth,i=this.node.clientHeight),!t||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),r=t/s.width,a=i/s.height,o=Math.min(r,a);if(n==null)return o;let l=o/n;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new De(t/2/r+s.x,i/2/a+s.y);const c=new ht(s).transform(new Se({scale:l,origin:e}));return this.viewbox(c)}}}),Me(ht,"Box");let ur=class extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}};ue([ur],{each(n,...e){return typeof n=="function"?this.map((t,i,s)=>n.call(t,t,i,s)):this.map(t=>t[n](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const oN=["toArray","constructor","each"];function xr(n,e){return new ur(sx((e||Re.document).querySelectorAll(n),function(t){return Rn(t)}))}ur.extend=function(n){n=n.reduce((e,t)=>(oN.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...i){return this.each(t,...i)}),e),{}),ue([ur],n)};let lN=0;const Uk={};function $k(n){let e=n.getEventHolder();return e===Re.window&&(e=Uk),e.events||(e.events={}),e.events}function cx(n){return n.getEventTarget()}function Ci(n,e,t,i,s){const r=t.bind(i||n),a=rn(n),o=$k(a),l=cx(a);e=Array.isArray(e)?e:e.split(zi),t._svgjsListenerId||(t._svgjsListenerId=++lN),e.forEach(function(c){const u=c.split(".")[0],h=c.split(".")[1]||"*";o[u]=o[u]||{},o[u][h]=o[u][h]||{},o[u][h][t._svgjsListenerId]=r,l.addEventListener(u,r,s||!1)})}function Vn(n,e,t,i){const s=rn(n),r=$k(s),a=cx(s);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(zi)).forEach(function(o){const l=o&&o.split(".")[0],c=o&&o.split(".")[1];let u,h;if(t)r[l]&&r[l][c||"*"]&&(a.removeEventListener(l,r[l][c||"*"][t],i||!1),delete r[l][c||"*"][t]);else if(l&&c){if(r[l]&&r[l][c]){for(h in r[l][c])Vn(a,[l,c].join("."),h);delete r[l][c]}}else if(c)for(o in r)for(u in r[o])c===u&&Vn(a,[o,c].join("."));else if(l){if(r[l]){for(u in r[l])Vn(a,[l,u].join("."));delete r[l]}}else{for(o in r)Vn(a,o);(function(d){let f=d.getEventHolder();f===Re.window&&(f=Uk),f.events&&(f.events={})})(s)}})}let Kl=class extends ax{addEventListener(){}dispatch(e,t,i){return function(s,r,a,o){const l=cx(s);return r instanceof Re.window.Event||(r=new Re.window.CustomEvent(r,{detail:a,cancelable:!0,...o})),l.dispatchEvent(r),r}(this,e,t,i)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const i=t[e.type];for(const s in i)for(const r in i[s])i[s][r](e);return!e.defaultPrevented}fire(e,t,i){return this.dispatch(e,t,i),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,i){return Vn(this,e,t,i),this}on(e,t,i,s){return Ci(this,e,t,i,s),this}removeEventListener(){}};function bb(){}Me(Kl,"EventTarget");const of=400,cN=">",uN=0,hN={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};let hr=class extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(zi).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}},Ne=class Un{constructor(...e){this.init(...e)}convert(e){return new Un(this.value,e)}divide(e){return e=new Un(e),new Un(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(Wk))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Un&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Un(e),new Un(this-e,this.unit||e.unit)}plus(e){return e=new Un(e),new Un(this+e,this.unit||e.unit)}times(e){return e=new Un(e),new Un(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};const dN=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Gk=[];let ba=class qk extends Kl{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=rn(e)).removeNamespace&&this.node instanceof Re.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return rn(e).put(this,t)}children(){return new ur(sx(this.node.children,function(e){return Rn(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let i=this.node.cloneNode(e);return t&&(i=Xk(i)),new this.constructor(i)}each(e,t){const i=this.children();let s,r;for(s=0,r=i.length;s<r;s++)e.apply(i[s],[s,i]),t&&i[s].each(e,t);return this}element(e,t){return this.put(new qk(wl(e),t))}first(){return Rn(this.node.firstChild)}get(e){return Rn(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=Hk(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return Rn(this.node.lastChild)}matches(e){const t=this.node,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return i&&i.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=Rn(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=Rn(t.node.parentNode));return t}put(e,t){return e=rn(e),this.add(e,t),e}putIn(e,t){return rn(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=rn(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const i=10**e,s=this.attr(t);for(const r in s)typeof s[r]=="number"&&(s[r]=Math.round(s[r]*i)/i);return this.attr(s),this}svg(e,t){return this.xml(e,t,rx)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const i=t.index(this);return t.put(e,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let o=this;if(e!=null){if(o=Rn(o.node.cloneNode(!0)),t){const l=e(o);if(o=l||o,l===!1)return""}o.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return t?o.node.outerHTML:o.node.innerHTML}t=t!=null&&t;const s=wl("wrapper",i),r=Re.document.createDocumentFragment();s.innerHTML=e;for(let o=s.children.length;o--;)r.appendChild(s.firstElementChild);const a=this.parent();return t?this.replace(r)&&a:this.add(r)}};ue(ba,{attr:function(n,e,t){if(n==null){n={},e=this.node.attributes;for(const i of e)n[i.nodeName]=yb.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return n}if(n instanceof Array)return n.reduce((i,s)=>(i[s]=this.attr(s),i),{});if(typeof n=="object"&&n.constructor===Object)for(e in n)this.attr(e,n[e]);else if(e===null)this.node.removeAttribute(n);else{if(e==null)return(e=this.node.getAttribute(n))==null?hN[n]:yb.test(e)?parseFloat(e):e;typeof(e=Gk.reduce((i,s)=>s(n,i,this),e))=="number"?e=new Ne(e):dN.has(n)&&Fe.isColor(e)?e=new Fe(e):e.constructor===Array&&(e=new hr(e)),n==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,n,e.toString()):this.node.setAttribute(n,e.toString()),!this.rebuild||n!=="font-size"&&n!=="x"||this.rebuild()}return this},find:function(n){return xr(n,this.node)},findOne:function(n){return Rn(this.node.querySelector(n))}}),Me(ba,"Dom");let jt=class extends ba{constructor(e,t){super(e,t),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,t){return this.cx(e).cy(t)}cx(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){const e=this.root();return e&&e.defs()}dmove(e,t){return this.dx(e).dy(t)}dx(e=0){return this.x(new Ne(e).plus(this.x()))}dy(e=0){return this.y(new Ne(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,t){return this.x(e).y(t)}parents(e=this.root()){const t=typeof e=="string";t||(e=rn(e));const i=new ur;let s=this;for(;(s=s.parent())&&s.node!==Re.document&&s.nodeName!=="#document-fragment"&&(i.push(s),t||s.node!==e.node)&&(!t||!s.matches(e));)if(s.node===this.root().node)return null;return i}reference(e){if(!(e=this.attr(e)))return null;const t=(e+"").match(nN);return t?rn(t[1]):null}root(){const e=this.parent(function(t){return ir[t]}(ox));return e&&e.root()}setData(e){return this.dom=e,this}size(e,t){const i=Oa(this,e,t);return this.width(new Ne(i.width)).height(new Ne(i.height))}width(e){return this.attr("width",e)}writeDataToDom(){return Bk(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}};ue(jt,{bbox:function(){const n=vb(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(es().svg).show(),i=t.node.getBBox();return t.remove(),i}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new ht(n)},rbox:function(n){const e=vb(this,i=>i.getBoundingClientRect(),i=>{throw new Error(`Getting rbox of element "${i.node.nodeName}" is not possible`)}),t=new ht(e);return n?t.transform(n.screenCTM().inverseO()):t.addOffset()},inside:function(n,e){const t=this.bbox();return n>t.x&&e>t.y&&n<t.x+t.width&&e<t.y+t.height},point:function(n,e){return new De(n,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Se(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const n=this.rect(1,1),e=n.node.getScreenCTM();return n.remove(),new Se(e)}return new Se(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Se}}}),Me(jt,"Element");const mo={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(n,e){return e==="color"?n:n+"-"+e}};["fill","stroke"].forEach(function(n){const e={};let t;e[n]=function(i){if(i===void 0)return this.attr(n);if(typeof i=="string"||i instanceof Fe||Fe.isRgb(i)||i instanceof jt)this.attr(n,i);else for(t=mo[n].length-1;t>=0;t--)i[mo[n][t]]!=null&&this.attr(mo.prefix(n,mo[n][t]),i[mo[n][t]]);return this},ve(["Element","Runner"],e)}),ve(["Element","Runner"],{matrix:function(n,e,t,i,s,r){return n==null?new Se(this):this.attr("transform",new Se(n,e,t,i,s,r))},rotate:function(n,e,t){return this.transform({rotate:n,ox:e,oy:t},!0)},skew:function(n,e,t,i){return arguments.length===1||arguments.length===3?this.transform({skew:n,ox:e,oy:t},!0):this.transform({skew:[n,e],ox:t,oy:i},!0)},shear:function(n,e,t){return this.transform({shear:n,ox:e,oy:t},!0)},scale:function(n,e,t,i){return arguments.length===1||arguments.length===3?this.transform({scale:n,ox:e,oy:t},!0):this.transform({scale:[n,e],ox:t,oy:i},!0)},translate:function(n,e){return this.transform({translate:[n,e]},!0)},relative:function(n,e){return this.transform({relative:[n,e]},!0)},flip:function(n="both",e="center"){return"xybothtrue".indexOf(n)===-1&&(e=n,n="both"),this.transform({flip:n,origin:e},!0)},opacity:function(n){return this.attr("opacity",n)}}),ve("radius",{radius:function(n,e=n){return(this._element||this).type==="radialGradient"?this.attr("r",new Ne(n)):this.rx(n).ry(e)}}),ve("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(n){return new De(this.node.getPointAtLength(n))}}),ve(["Element","Runner"],{font:function(n,e){if(typeof n=="object"){for(e in n)this.font(e,n[e]);return this}return n==="leading"?this.leading(e):n==="anchor"?this.attr("text-anchor",e):n==="size"||n==="family"||n==="weight"||n==="stretch"||n==="variant"||n==="style"?this.attr("font-"+n,e):this.attr(n,e)}});ve("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(n,e){return n[e]=function(t){return t===null?this.off(e):this.on(e,t),this},n},{})),ve("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(iN).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(zi).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(Se.fromArray(t[1])):e[t[0]].apply(e,t[1])},new Se)},toParent:function(n,e){if(this===n)return this;if(Yp(this.node))return this.addTo(n,e);const t=this.screenCTM(),i=n.screenCTM().inverse();return this.addTo(n,e).untransform().transform(i.multiply(t)),this},toRoot:function(n){return this.toParent(this.root(),n)},transform:function(n,e){if(n==null||typeof n=="string"){const i=new Se(this).decompose();return n==null?i:i[n]}Se.isMatrixLike(n)||(n={...n,origin:Wp(n,this)});const t=new Se(e===!0?this:e||!1).transform(n);return this.attr("transform",t)}});let _n=class Kk extends jt{flatten(){return this.each(function(){if(this instanceof Kk)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(i,s){return s[s.length-i-1].toParent(e,t)}),this.remove()}};Me(_n,"Container");let Fh=class extends _n{constructor(e,t=e){super(He("defs",e),t)}flatten(){return this}ungroup(){return this}};Me(Fh,"Defs");class Tn extends jt{}function ux(n){return this.attr("rx",n)}function hx(n){return this.attr("ry",n)}function Qk(n){return n==null?this.cx()-this.rx():this.cx(n+this.rx())}function Zk(n){return n==null?this.cy()-this.ry():this.cy(n+this.ry())}function Jk(n){return this.attr("cx",n)}function eC(n){return this.attr("cy",n)}function tC(n){return n==null?2*this.rx():this.rx(new Ne(n).divide(2))}function nC(n){return n==null?2*this.ry():this.ry(new Ne(n).divide(2))}Me(Tn,"Shape");var fN=Object.freeze({__proto__:null,cx:Jk,cy:eC,height:nC,rx:ux,ry:hx,width:tC,x:Qk,y:Zk});class au extends Tn{constructor(e,t=e){super(He("ellipse",e),t)}size(e,t){const i=Oa(this,e,t);return this.rx(new Ne(i.width).divide(2)).ry(new Ne(i.height).divide(2))}}ue(au,fN),ve("Container",{ellipse:Be(function(n=0,e=n){return this.put(new au).size(n,e).move(0,0)})}),Me(au,"Ellipse");class iC extends ba{constructor(e=Re.document.createDocumentFragment()){super(e)}xml(e,t,i){if(typeof e=="boolean"&&(i=t,t=e,e=null),e==null||typeof e=="function"){const s=new ba(wl("wrapper",i));return s.add(this.node.cloneNode(!0)),s.xml(!1,i)}return super.xml(e,!1,i)}}function sC(n,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Ne(n),fy:new Ne(e)}):this.attr({x1:new Ne(n),y1:new Ne(e)})}function rC(n,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Ne(n),cy:new Ne(e)}):this.attr({x2:new Ne(n),y2:new Ne(e)})}Me(iC,"Fragment");var pN=Object.freeze({__proto__:null,from:sC,to:rC});class Yo extends _n{constructor(e,t){super(He(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,i){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,i)}bbox(){return new ht}targets(){return xr("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}ue(Yo,pN),ve({Container:{gradient(...n){return this.defs().gradient(...n)}},Defs:{gradient:Be(function(n,e){return this.put(new Yo(n)).update(e)})}}),Me(Yo,"Gradient");class Al extends _n{constructor(e,t=e){super(He("pattern",e),t)}attr(e,t,i){return e==="transform"&&(e="patternTransform"),super.attr(e,t,i)}bbox(){return new ht}targets(){return xr("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}ve({Container:{pattern(...n){return this.defs().pattern(...n)}},Defs:{pattern:Be(function(n,e,t){return this.put(new Al).update(t).attr({x:0,y:0,width:n,height:e,patternUnits:"userSpaceOnUse"})})}}),Me(Al,"Pattern");let ou=class extends Tn{constructor(n,e=n){super(He("image",n),e)}load(n,e){if(!n)return this;const t=new Re.window.Image;return Ci(t,"load",function(i){const s=this.parent(Al);this.width()===0&&this.height()===0&&this.size(t.width,t.height),s instanceof Al&&s.width()===0&&s.height()===0&&s.size(this.width(),this.height()),typeof e=="function"&&e.call(this,i)},this),Ci(t,"load error",function(){Vn(t)}),this.attr("href",t.src=n,Va)}};var wb;wb=function(n,e,t){return n!=="fill"&&n!=="stroke"||rN.test(e)&&(e=t.root().defs().image(e)),e instanceof ou&&(e=t.root().defs().pattern(0,0,i=>{i.add(e)})),e},Gk.push(wb),ve({Container:{image:Be(function(n,e){return this.put(new ou).size(0,0).load(n,e)})}}),Me(ou,"Image");class ws extends hr{bbox(){let e=-1/0,t=-1/0,i=1/0,s=1/0;return this.forEach(function(r){e=Math.max(r[0],e),t=Math.max(r[1],t),i=Math.min(r[0],i),s=Math.min(r[1],s)}),new ht(i,s,e-i,t-s)}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let s=this.length-1;s>=0;s--)this[s]=[this[s][0]+e,this[s][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(zi).map(parseFloat)).length%2!=0&&e.pop();for(let i=0,s=e.length;i<s;i+=2)t.push([e[i],e[i+1]]);return t}size(e,t){let i;const s=this.bbox();for(i=this.length-1;i>=0;i--)s.width&&(this[i][0]=(this[i][0]-s.x)*e/s.width+s.x),s.height&&(this[i][1]=(this[i][1]-s.y)*t/s.height+s.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,i=this.length;t<i;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Se.isMatrixLike(e)||(e=new Se(e));for(let t=this.length;t--;){const[i,s]=this[t];this[t][0]=e.a*i+e.c*s+e.e,this[t][1]=e.b*i+e.d*s+e.f}return this}}const gN=ws;var dx=Object.freeze({__proto__:null,MorphArray:gN,height:function(n){const e=this.bbox();return n==null?e.height:this.size(e.width,n)},width:function(n){const e=this.bbox();return n==null?e.width:this.size(n,e.height)},x:function(n){return n==null?this.bbox().x:this.move(n,this.bbox().y)},y:function(n){return n==null?this.bbox().y:this.move(this.bbox().x,n)}});let Ks=class extends Tn{constructor(n,e=n){super(He("line",n),e)}array(){return new ws([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(n,e){return this.attr(this.array().move(n,e).toLine())}plot(n,e,t,i){return n==null?this.array():(n=e!==void 0?{x1:n,y1:e,x2:t,y2:i}:new ws(n).toLine(),this.attr(n))}size(n,e){const t=Oa(this,n,e);return this.attr(this.array().size(t.width,t.height).toLine())}};ue(Ks,dx),ve({Container:{line:Be(function(...n){return Ks.prototype.plot.apply(this.put(new Ks),n[0]!=null?n:[0,0,0,0])})}}),Me(Ks,"Line");let lu=class extends _n{constructor(n,e=n){super(He("marker",n),e)}height(n){return this.attr("markerHeight",n)}orient(n){return this.attr("orient",n)}ref(n,e){return this.attr("refX",n).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(n){return this.clear(),typeof n=="function"&&n.call(this,this),this}width(n){return this.attr("markerWidth",n)}};function Jr(n,e){return function(t){return t==null?this[n]:(this[n]=t,e&&e.call(this),this)}}ve({Container:{marker(...n){return this.defs().marker(...n)}},Defs:{marker:Be(function(n,e,t){return this.put(new lu).size(n,e).ref(n/2,e/2).viewbox(0,0,n,e).attr("orient","auto").update(t)})},marker:{marker(n,e,t,i){let s=["marker"];return n!=="all"&&s.push(n),s=s.join("-"),n=arguments[1]instanceof lu?arguments[1]:this.defs().marker(e,t,i),this.attr(s,n)}}}),Me(lu,"Marker");const mN={"-":function(n){return n},"<>":function(n){return-Math.cos(n*Math.PI)/2+.5},">":function(n){return Math.sin(n*Math.PI/2)},"<":function(n){return 1-Math.cos(n*Math.PI/2)},bezier:function(n,e,t,i){return function(s){return s<0?n>0?e/n*s:t>0?i/t*s:0:s>1?t<1?(1-i)/(1-t)*s+(i-t)/(1-t):n<1?(1-e)/(1-n)*s+(e-n)/(1-n):1:3*s*(1-s)**2*e+3*s**2*(1-s)*i+s**3}},steps:function(n,e="end"){e=e.split("-").reverse()[0];let t=n;return e==="none"?--t:e==="both"&&++t,(i,s=!1)=>{let r=Math.floor(i*n);const a=i*r%1==0;return e!=="start"&&e!=="both"||++r,s&&a&&--r,i>=0&&r<0&&(r=0),i<=1&&r>t&&(r=t),r/t}}};class fx{done(){return!1}}class Up extends fx{constructor(e=cN){super(),this.ease=mN[e]||e}step(e,t,i){return typeof e!="number"?i<1?e:t:e+(t-e)*this.ease(i)}}class Ku extends fx{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,i,s){return this.stepper(e,t,i,s)}}function Ab(){const n=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,i=Math.log(e/100+1e-10),s=-i/Math.sqrt(t*t+i*i),r=3.9/(s*n);this.d=2*s*r,this.k=r*r}ue(class extends Ku{constructor(n=500,e=0){super(),this.duration(n).overshoot(e)}step(n,e,t,i){if(typeof n=="string")return n;if(i.done=t===1/0,t===1/0)return e;if(t===0)return n;t>100&&(t=16),t/=1e3;const s=i.velocity||0,r=-this.d*s-this.k*(n-e),a=n+s*t+r*t*t/2;return i.velocity=s+r*t,i.done=Math.abs(e-a)+Math.abs(s)<.002,i.done?e:a}},{duration:Jr("_duration",Ab),overshoot:Jr("_overshoot",Ab)});ue(class extends Ku{constructor(n=.1,e=.01,t=0,i=1e3){super(),this.p(n).i(e).d(t).windup(i)}step(n,e,t,i){if(typeof n=="string")return n;if(i.done=t===1/0,t===1/0)return e;if(t===0)return n;const s=e-n;let r=(i.integral||0)+s*t;const a=(s-(i.error||0))/t,o=this._windup;return o!==!1&&(r=Math.max(-o,Math.min(r,o))),i.error=s,i.integral=r,i.done=Math.abs(s)<.001,i.done?e:n+(this.P*s+this.I*r+this.D*a)}},{windup:Jr("_windup"),p:Jr("P"),i:Jr("I"),d:Jr("D")});const xN={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},$p={M:function(n,e,t){return e.x=t.x=n[0],e.y=t.y=n[1],["M",e.x,e.y]},L:function(n,e){return e.x=n[0],e.y=n[1],["L",n[0],n[1]]},H:function(n,e){return e.x=n[0],["H",n[0]]},V:function(n,e){return e.y=n[0],["V",n[0]]},C:function(n,e){return e.x=n[4],e.y=n[5],["C",n[0],n[1],n[2],n[3],n[4],n[5]]},S:function(n,e){return e.x=n[2],e.y=n[3],["S",n[0],n[1],n[2],n[3]]},Q:function(n,e){return e.x=n[2],e.y=n[3],["Q",n[0],n[1],n[2],n[3]]},T:function(n,e){return e.x=n[0],e.y=n[1],["T",n[0],n[1]]},Z:function(n,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(n,e){return e.x=n[5],e.y=n[6],["A",n[0],n[1],n[2],n[3],n[4],n[5],n[6]]}},lf="mlhvqtcsaz".split("");for(let n=0,e=lf.length;n<e;++n)$p[lf[n]]=function(t){return function(i,s,r){if(t==="H")i[0]=i[0]+s.x;else if(t==="V")i[0]=i[0]+s.y;else if(t==="A")i[5]=i[5]+s.x,i[6]=i[6]+s.y;else for(let a=0,o=i.length;a<o;++a)i[a]=i[a]+(a%2?s.y:s.x);return $p[t](i,s,r)}}(lf[n].toUpperCase());function Gp(n){return n.segment.length&&n.segment.length-1===xN[n.segment[0].toUpperCase()]}function yN(n,e){n.inNumber&&Hs(n,!1);const t=lx.test(e);if(t)n.segment=[e];else{const i=n.lastCommand,s=i.toLowerCase(),r=i===s;n.segment=[s==="m"?r?"l":"L":i]}return n.inSegment=!0,n.lastCommand=n.segment[0],t}function Hs(n,e){if(!n.inNumber)throw new Error("Parser Error");n.number&&n.segment.push(parseFloat(n.number)),n.inNumber=e,n.number="",n.pointSeen=!1,n.hasExponent=!1,Gp(n)&&qp(n)}function qp(n){n.inSegment=!1,n.absolute&&(n.segment=function(e){const t=e.segment[0];return $p[t](e.segment.slice(1),e.p,e.p0)}(n)),n.segments.push(n.segment)}function vN(n){if(!n.segment.length)return!1;const e=n.segment[0].toUpperCase()==="A",t=n.segment.length;return e&&(t===4||t===5)}function bN(n){return n.lastToken.toUpperCase()==="E"}const wN=new Set([" ",",","	",`
`,"\r","\f"]);class Qn extends hr{bbox(){return es().path.setAttribute("d",this.toString()),new ht(es.nodes.path.getBBox())}move(e,t){const i=this.bbox();if(e-=i.x,t-=i.y,!isNaN(e)&&!isNaN(t))for(let s,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]+=e,this[r][2]+=t):s==="H"?this[r][1]+=e:s==="V"?this[r][1]+=t:s==="C"||s==="S"||s==="Q"?(this[r][1]+=e,this[r][2]+=t,this[r][3]+=e,this[r][4]+=t,s==="C"&&(this[r][5]+=e,this[r][6]+=t)):s==="A"&&(this[r][6]+=e,this[r][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,i=!0){let s=0,r="";const a={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:i,p0:new De,p:new De};for(;a.lastToken=r,r=t.charAt(s++);)if(a.inSegment||!yN(a,r))if(r!==".")if(isNaN(parseInt(r)))if(wN.has(r))a.inNumber&&Hs(a,!1);else if(r!=="-"&&r!=="+")if(r.toUpperCase()!=="E"){if(lx.test(r)){if(a.inNumber)Hs(a,!1);else{if(!Gp(a))throw new Error("parser Error");qp(a)}--s}}else a.number+=r,a.hasExponent=!0;else{if(a.inNumber&&!bN(a)){Hs(a,!1),--s;continue}a.number+=r,a.inNumber=!0}else{if(a.number==="0"||vN(a)){a.inNumber=!0,a.number=r,Hs(a,!0);continue}a.inNumber=!0,a.number+=r}else{if(a.pointSeen||a.hasExponent){Hs(a,!1),--s;continue}a.inNumber=!0,a.pointSeen=!0,a.number+=r}return a.inNumber&&Hs(a,!1),a.inSegment&&Gp(a)&&qp(a),a.segments}(e)}size(e,t){const i=this.bbox();let s,r;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]=(this[s][1]-i.x)*e/i.width+i.x,this[s][2]=(this[s][2]-i.y)*t/i.height+i.y):r==="H"?this[s][1]=(this[s][1]-i.x)*e/i.width+i.x:r==="V"?this[s][1]=(this[s][1]-i.y)*t/i.height+i.y:r==="C"||r==="S"||r==="Q"?(this[s][1]=(this[s][1]-i.x)*e/i.width+i.x,this[s][2]=(this[s][2]-i.y)*t/i.height+i.y,this[s][3]=(this[s][3]-i.x)*e/i.width+i.x,this[s][4]=(this[s][4]-i.y)*t/i.height+i.y,r==="C"&&(this[s][5]=(this[s][5]-i.x)*e/i.width+i.x,this[s][6]=(this[s][6]-i.y)*t/i.height+i.y)):r==="A"&&(this[s][1]=this[s][1]*e/i.width,this[s][2]=this[s][2]*t/i.height,this[s][6]=(this[s][6]-i.x)*e/i.width+i.x,this[s][7]=(this[s][7]-i.y)*t/i.height+i.y);return this}toString(){return function(e){let t="";for(let i=0,s=e.length;i<s;i++)t+=e[i][0],e[i][1]!=null&&(t+=e[i][1],e[i][2]!=null&&(t+=" ",t+=e[i][2],e[i][3]!=null&&(t+=" ",t+=e[i][3],t+=" ",t+=e[i][4],e[i][5]!=null&&(t+=" ",t+=e[i][5],t+=" ",t+=e[i][6],e[i][7]!=null&&(t+=" ",t+=e[i][7])))));return t+" "}(this)}}const aC=n=>{const e=typeof n;return e==="number"?Ne:e==="string"?Fe.isColor(n)?Fe:zi.test(n)?lx.test(n)?Qn:hr:Wk.test(n)?Ne:Kp:Qp.indexOf(n.constructor)>-1?n.constructor:Array.isArray(n)?hr:e==="object"?Sl:Kp};class Xs{constructor(e){this._stepper=e||new Up("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(aC(e));let t=new this._type(e);return this._type===Fe&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Sl&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(i){return i.done=!0,i}),t}}class Kp{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Ql{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Ql.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Ql.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const AN=(n,e)=>n[0]<e[0]?-1:n[0]>e[0]?1:0;class Sl{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let i=0,s=t.length;i<s;++i){if(t[i+1]===e[i+1]){if(t[i+1]===Fe&&e[i+7]!==t[i+7]){const o=e[i+7],l=new Fe(this.values.splice(i+3,5))[o]().toArray();this.values.splice(i+3,0,...l)}i+=t[i+2]+2;continue}if(!e[i+1])return this;const r=new e[i+1]().toArray(),a=t[i+2]+3;t.splice(i,a,e[i],e[i+1],e[i+2],...r),i+=t[i+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const i in e){const s=aC(e[i]),r=new s(e[i]).toArray();t.push([i,s,r.length,...r])}return t.sort(AN),this.values=t.reduce((i,s)=>i.concat(s),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const i=t.shift(),s=t.shift(),r=t.shift(),a=t.splice(0,r);e[i]=new s(a)}return e}}const Qp=[Kp,Ql,Sl];class aa extends Tn{constructor(e,t=e){super(He("path",e),t)}array(){return this._array||(this._array=new Qn(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Qn(e))}size(e,t){const i=Oa(this,e,t);return this.attr("d",this.array().size(i.width,i.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}aa.prototype.MorphArray=Qn,ve({Container:{path:Be(function(n){return this.put(new aa).plot(n||new Qn)})}}),Me(aa,"Path");var oC=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new ws(this.attr("points")))},clear:function(){return delete this._array,this},move:function(n,e){return this.attr("points",this.array().move(n,e))},plot:function(n){return n==null?this.array():this.clear().attr("points",typeof n=="string"?n:this._array=new ws(n))},size:function(n,e){const t=Oa(this,n,e);return this.attr("points",this.array().size(t.width,t.height))}});class Qs extends Tn{constructor(e,t=e){super(He("polygon",e),t)}}ve({Container:{polygon:Be(function(n){return this.put(new Qs).plot(n||new ws)})}}),ue(Qs,dx),ue(Qs,oC),Me(Qs,"Polygon");class Zs extends Tn{constructor(e,t=e){super(He("polyline",e),t)}}ve({Container:{polyline:Be(function(n){return this.put(new Zs).plot(n||new ws)})}}),ue(Zs,dx),ue(Zs,oC),Me(Zs,"Polyline");class cu extends Tn{constructor(e,t=e){super(He("rect",e),t)}}ue(cu,{rx:ux,ry:hx}),ve({Container:{rect:Be(function(n,e){return this.put(new cu).size(n,e)})}}),Me(cu,"Rect");class cf{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Oe={nextDraw:null,frames:new cf,timeouts:new cf,immediates:new cf,timer:()=>Re.window.performance||Re.window.Date,transforms:[],frame(n){const e=Oe.frames.push({run:n});return Oe.nextDraw===null&&(Oe.nextDraw=Re.window.requestAnimationFrame(Oe._draw)),e},timeout(n,e){e=e||0;const t=Oe.timer().now()+e,i=Oe.timeouts.push({run:n,time:t});return Oe.nextDraw===null&&(Oe.nextDraw=Re.window.requestAnimationFrame(Oe._draw)),i},immediate(n){const e=Oe.immediates.push(n);return Oe.nextDraw===null&&(Oe.nextDraw=Re.window.requestAnimationFrame(Oe._draw)),e},cancelFrame(n){n!=null&&Oe.frames.remove(n)},clearTimeout(n){n!=null&&Oe.timeouts.remove(n)},cancelImmediate(n){n!=null&&Oe.immediates.remove(n)},_draw(n){let e=null;const t=Oe.timeouts.last();for(;(e=Oe.timeouts.shift())&&(n>=e.time?e.run():Oe.timeouts.push(e),e!==t););let i=null;const s=Oe.frames.last();for(;i!==s&&(i=Oe.frames.shift());)i.run(n);let r=null;for(;r=Oe.immediates.shift();)r();Oe.nextDraw=Oe.timeouts.first()||Oe.frames.first()?Re.window.requestAnimationFrame(Oe._draw):null}},SN=function(n){const e=n.start,t=n.runner.duration();return{start:e,duration:t,end:e+t,runner:n.runner}},kN=function(){const n=Re.window;return(n.performance||n.Date).now()};class lC extends Kl{constructor(e=kN){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const i=Math.abs(t);return this.speed(e?-i:i)}schedule(e,t,i){if(e==null)return this._runners.map(SN);let s=0;const r=this.getEndTime();if(t=t||0,i==null||i==="last"||i==="after")s=r;else if(i==="absolute"||i==="start")s=t,t=0;else if(i==="now")s=this._time;else if(i==="relative"){const l=this.getRunnerInfoById(e.id);l&&(s=l.start+t,t=0)}else{if(i!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();s=l?l.start:this._time}}e.unschedule(),e.timeline(this);const a=e.persist(),o={persist:a===null?this._persist:a,start:s+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(o),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Oe.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Oe.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let i=t-this._lastSourceTime;e&&(i=0);const s=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=s,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let a=this._runners.length;a--;){const o=this._runners[a],l=o.runner;this._time-o.start<=0&&l.reset()}let r=!1;for(let a=0,o=this._runners.length;a<o;a++){const l=this._runners[a],c=l.runner;let u=s;const h=this._time-l.start;if(h<=0){r=!0;continue}h<u&&(u=h),c.active()&&(c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--a,--o):r=!0)}return r&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}ve({Element:{timeline:function(n){return n==null?(this._timeline=this._timeline||new lC,this._timeline):(this._timeline=n,this)}}});class wn extends Kl{constructor(e){super(),this.id=wn.id++,e=typeof(e=e??of)=="function"?new Ku(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof Ku,this._stepper=this._isDeclarative?e:new Up,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Se,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,i){let s=1,r=!1,a=0;return t=t??uN,i=i||"last",typeof(e=e??of)!="object"||e instanceof fx||(t=e.delay??t,i=e.when??i,r=e.swing||r,s=e.times??s,a=e.wait??a,e=e.duration??of),{duration:e,delay:t,swing:r,times:s,wait:a,when:i}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,i){const s=wn.sanitise(e,t,i),r=new wn(s.duration);return this._timeline&&r.timeline(this._timeline),this._element&&r.element(this._element),r.loop(s).schedule(s.delay,s.when)}clearTransform(){return this.transforms=new Se,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new Up(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,i){return typeof e=="object"&&(t=e.swing,i=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const r=Math.floor(this._time/t),a=(this._time-r*t)/this._duration;return Math.min(r+a,this._times)}const i=e%1,s=t*Math.floor(e)+this._duration*i;return this.time(s)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,i=this._duration,s=this._wait,r=this._times,a=this._swing,o=this._reverse;let l;if(e==null){const h=function(f){const m=a*Math.floor(f%(2*(s+i))/(s+i)),g=m&&!o||!m&&o,v=Math.pow(-1,g)*(f%(s+i))/i+g;return Math.max(Math.min(v,1),0)},d=r*(s+i)-s;return l=t<=0?Math.round(h(1e-5)):t<d?h(t):Math.round(h(d-1e-5)),l}const c=Math.floor(this.loops()),u=a&&c%2==0;return l=c+(u&&!o||o&&u?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,i,s){return this._queue.push({initialiser:e||bb,runner:t||bb,retarget:i,isTransform:s,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,i){if(e instanceof lC||(i=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,i),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),i=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const s=this.duration(),r=this._lastTime<=0&&this._time>0,a=this._lastTime<s&&this._time>=s;this._lastTime=this._time,r&&this.fire("start",this);const o=this._isDeclarative;this.done=!o&&!a&&this._time>=s,this._reseted=!1;let l=!1;return(i||o)&&(this._initialise(i),this.transforms=new Se,l=this._run(o?e:t),this.fire("step",this)),this.done=this.done||l&&o,a&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,i=this._queue.length;t<i;++t){const s=this._queue[t],r=this._isDeclarative||!s.initialised&&e;e=!s.finished,r&&e&&(s.initialiser.call(this),s.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(e){let t=!0;for(let i=0,s=this._queue.length;i<s;++i){const r=this._queue[i],a=r.runner.call(this,e);r.finished=r.finished||a===!0,t=t&&r.finished}return t}_tryRetarget(e,t,i){if(this._history[e]){if(!this._history[e].caller.initialised){const r=this._queue.indexOf(this._history[e].caller);return this._queue.splice(r,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,i):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const s=this.timeline();return s&&s.play(),!0}return!1}}wn.id=0;class Qu{constructor(e=new Se,t=-1,i=!0){this.transforms=e,this.id=t,this.done=i}clearTransformsFromQueue(){}}ue([wn,Qu],{mergeWith(n){return new Qu(n.transforms.lmultiply(this.transforms),n.id)}});const cC=(n,e)=>n.lmultiplyO(e),uC=n=>n.transforms;function CN(){const n=this._transformationRunners.runners.map(uC).reduce(cC,new Se);this.transform(n),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class _N{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Qu).forEach(i=>i.clearTransformsFromQueue()),this}edit(e,t){const i=this.ids.indexOf(e+1);return this.ids.splice(i,1,e+1),this.runners.splice(i,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const i=this.runners[t];if(e&&i.done&&e.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(i.id);const s=i.mergeWith(e);this.edit(e.id,s),e=s,--t}else e=i}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}ve({Element:{animate(n,e,t){const i=wn.sanitise(n,e,t),s=this.timeline();return new wn(i.duration).loop(i).element(this).timeline(s.play()).schedule(i.delay,i.when)},delay(n,e){return this.animate(0,n,e)},_clearTransformRunnersBefore(n){this._transformationRunners.clearBefore(n.id)},_currentTransform(n){return this._transformationRunners.runners.filter(e=>e.id<=n.id).map(uC).reduce(cC,new Se)},_addRunner(n){this._transformationRunners.add(n),Oe.cancelImmediate(this._frameId),this._frameId=Oe.immediate(CN.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new _N().add(new Qu(new Se(this))))}}});ue(wn,{attr(n,e){return this.styleAttr("attr",n,e)},css(n,e){return this.styleAttr("css",n,e)},styleAttr(n,e,t){if(typeof e=="string")return this.styleAttr(n,{[e]:t});let i=e;if(this._tryRetarget(n,i))return this;let s=new Xs(this._stepper).to(i),r=Object.keys(i);return this.queue(function(){s=s.from(this.element()[n](r))},function(a){return this.element()[n](s.at(a).valueOf()),s.done()},function(a){const o=Object.keys(a),l=(c=r,o.filter(h=>!c.includes(h)));var c;if(l.length){const h=this.element()[n](l),d=new Sl(s.from()).valueOf();Object.assign(d,h),s.from(d)}const u=new Sl(s.to()).valueOf();Object.assign(u,a),s.to(u),r=o,i=a}),this._rememberMorpher(n,s),this},zoom(n,e){if(this._tryRetarget("zoom",n,e))return this;let t=new Xs(this._stepper).to(new Ne(n));return this.queue(function(){t=t.from(this.element().zoom())},function(i){return this.element().zoom(t.at(i),e),t.done()},function(i,s){e=s,t.to(i)}),this._rememberMorpher("zoom",t),this},transform(n,e,t){if(e=n.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",n))return this;const i=Se.isMatrixLike(n);t=n.affine!=null?n.affine:t??!i;const s=new Xs(this._stepper).type(t?Ql:Se);let r,a,o,l,c;return this.queue(function(){a=a||this.element(),r=r||Wp(n,a),c=new Se(e?void 0:a),a._addRunner(this),e||a._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:h,y:d}=new De(r).transform(a._currentTransform(this));let f=new Se({...n,origin:[h,d]}),m=this._isDeclarative&&o?o:c;if(t){f=f.decompose(h,d),m=m.decompose(h,d);const v=f.rotate,x=m.rotate,y=[v-360,v,v+360],b=y.map(P=>Math.abs(P-x)),_=Math.min(...b),k=b.indexOf(_);f.rotate=y[k]}e&&(i||(f.rotate=n.rotate||0),this._isDeclarative&&l&&(m.rotate=l)),s.from(m),s.to(f);const g=s.at(u);return l=g.rotate,o=new Se(g),this.addTransform(o),a._addRunner(this),s.done()},function(u){(u.origin||"center").toString()!==(n.origin||"center").toString()&&(r=Wp(u,a)),n={...u,origin:r}},!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(n){return this._queueNumber("x",n)},y(n){return this._queueNumber("y",n)},ax(n){return this._queueNumber("ax",n)},ay(n){return this._queueNumber("ay",n)},dx(n=0){return this._queueNumberDelta("x",n)},dy(n=0){return this._queueNumberDelta("y",n)},dmove(n,e){return this.dx(n).dy(e)},_queueNumberDelta(n,e){if(e=new Ne(e),this._tryRetarget(n,e))return this;const t=new Xs(this._stepper).to(e);let i=null;return this.queue(function(){i=this.element()[n](),t.from(i),t.to(i+e)},function(s){return this.element()[n](t.at(s)),t.done()},function(s){t.to(i+new Ne(s))}),this._rememberMorpher(n,t),this},_queueObject(n,e){if(this._tryRetarget(n,e))return this;const t=new Xs(this._stepper).to(e);return this.queue(function(){t.from(this.element()[n]())},function(i){return this.element()[n](t.at(i)),t.done()}),this._rememberMorpher(n,t),this},_queueNumber(n,e){return this._queueObject(n,new Ne(e))},cx(n){return this._queueNumber("cx",n)},cy(n){return this._queueNumber("cy",n)},move(n,e){return this.x(n).y(e)},amove(n,e){return this.ax(n).ay(e)},center(n,e){return this.cx(n).cy(e)},size(n,e){let t;return n&&e||(t=this._element.bbox()),n||(n=t.width/t.height*e),e||(e=t.height/t.width*n),this.width(n).height(e)},width(n){return this._queueNumber("width",n)},height(n){return this._queueNumber("height",n)},plot(n,e,t,i){if(arguments.length===4)return this.plot([n,e,t,i]);if(this._tryRetarget("plot",n))return this;const s=new Xs(this._stepper).type(this._element.MorphArray).to(n);return this.queue(function(){s.from(this._element.array())},function(r){return this._element.plot(s.at(r)),s.done()}),this._rememberMorpher("plot",s),this},leading(n){return this._queueNumber("leading",n)},viewbox(n,e,t,i){return this._queueObject("viewbox",new ht(n,e,t,i))},update(n){return typeof n!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(n.opacity!=null&&this.attr("stop-opacity",n.opacity),n.color!=null&&this.attr("stop-color",n.color),n.offset!=null&&this.attr("offset",n.offset),this)}}),ue(wn,{rx:ux,ry:hx,from:sC,to:rC}),Me(wn,"Runner");class Zp extends _n{constructor(e,t=e){super(He("svg",e),t),this.namespace()}defs(){return this.isRoot()?Rn(this.node.querySelector("defs"))||this.put(new Fh):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Re.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:rx,version:"1.1"}).attr("xmlns:xlink",Va,sf):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,sf).attr("xmlns:svgjs",null,sf)}root(){return this.isRoot()?this:super.root()}}ve({Container:{nested:Be(function(){return this.put(new Zp)})}}),Me(Zp,"Svg",!0);let Jp=class extends _n{constructor(n,e=n){super(He("symbol",n),e)}};ve({Container:{symbol:Be(function(){return this.put(new Jp)})}}),Me(Jp,"Symbol");var hC=Object.freeze({__proto__:null,amove:function(n,e){return this.ax(n).ay(e)},ax:function(n){return this.attr("x",n)},ay:function(n){return this.attr("y",n)},build:function(n){return this._build=!!n,this},center:function(n,e,t=this.bbox()){return this.cx(n,t).cy(e,t)},cx:function(n,e=this.bbox()){return n==null?e.cx:this.attr("x",this.attr("x")+n-e.cx)},cy:function(n,e=this.bbox()){return n==null?e.cy:this.attr("y",this.attr("y")+n-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(n,e,t=this.bbox()){return this.x(n,t).y(e,t)},plain:function(n){return this._build===!1&&this.clear(),this.node.appendChild(Re.document.createTextNode(n)),this},x:function(n,e=this.bbox()){return n==null?e.x:this.attr("x",this.attr("x")+n-e.x)},y:function(n,e=this.bbox()){return n==null?e.y:this.attr("y",this.attr("y")+n-e.y)}});class Zn extends Tn{constructor(e,t=e){super(He("text",e),t),this.dom.leading=this.dom.leading??new Ne(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Ne(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let i=0;const s=this.dom.leading;this.each(function(r){if(Yp(this.node))return;const a=Re.window.getComputedStyle(this.node).getPropertyValue("font-size"),o=s*new Ne(a);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
`?i+=o:(this.attr("dy",r?o+i:0),i=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Ne(e.leading||1.3),this}writeDataToDom(){return Bk(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let i=0;e="";for(let s=0,r=t.length;s<r;++s)t[s].nodeName==="textPath"||Yp(t[s])?s===0&&(i=s+1):(s!==i&&t[s].nodeType!==3&&Rn(t[s]).dom.newLined===!0&&(e+=`
`),e+=t[s].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,i=(e=(e+"").split(`
`)).length;t<i;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}ue(Zn,hC),ve({Container:{text:Be(function(n=""){return this.put(new Zn).text(n)}),plain:Be(function(n=""){return this.put(new Zn).plain(n)})}}),Me(Zn,"Text");class uu extends Tn{constructor(e,t=e){super(He("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Zn))return this;const t=e.index(this),i=Re.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=e.dom.leading*new Ne(i);return this.dy(t?s:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}ue(uu,hC),ve({Tspan:{tspan:Be(function(n=""){const e=new uu;return this._build||this.clear(),this.put(e).text(n)})},Text:{newLine:function(n=""){return this.tspan(n).newLine()}}}),Me(uu,"Tspan");class uf extends Tn{constructor(e,t=e){super(He("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Ne(e).divide(2))}}ue(uf,{x:Qk,y:Zk,cx:Jk,cy:eC,width:tC,height:nC}),ve({Container:{circle:Be(function(n=0){return this.put(new uf).size(n).move(0,0)})}}),Me(uf,"Circle");class hf extends _n{constructor(e,t=e){super(He("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return xr("svg [clip-path*="+this.id()+"]")}}ve({Container:{clip:Be(function(){return this.defs().put(new hf)})},Element:{clipper(){return this.reference("clip-path")},clipWith(n){const e=n instanceof hf?n:this.parent().clip().add(n);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),Me(hf,"ClipPath");class Sb extends jt{constructor(e,t=e){super(He("foreignObject",e),t)}}ve({Container:{foreignObject:Be(function(n,e){return this.put(new Sb).size(n,e)})}}),Me(Sb,"ForeignObject");var dC=Object.freeze({__proto__:null,dmove:function(n,e){return this.children().forEach(t=>{let i;try{i=t.node instanceof ql().SVGSVGElement?new ht(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const s=new Se(t),r=s.translate(n,e).transform(s.inverse()),a=new De(i.x,i.y).transform(r);t.move(a.x,a.y)}),this},dx:function(n){return this.dmove(n,0)},dy:function(n){return this.dmove(0,n)},height:function(n,e=this.bbox()){return n==null?e.height:this.size(e.width,n,e)},move:function(n=0,e=0,t=this.bbox()){const i=n-t.x,s=e-t.y;return this.dmove(i,s)},size:function(n,e,t=this.bbox()){const i=Oa(this,n,e,t),s=i.width/t.width,r=i.height/t.height;return this.children().forEach(a=>{const o=new De(t).transform(new Se(a).inverse());a.scale(s,r,o.x,o.y)}),this},width:function(n,e=this.bbox()){return n==null?e.width:this.size(n,e.height,e)},x:function(n,e=this.bbox()){return n==null?e.x:this.move(n,e.y,e)},y:function(n,e=this.bbox()){return n==null?e.y:this.move(e.x,n,e)}});class ds extends _n{constructor(e,t=e){super(He("g",e),t)}}ue(ds,dC),ve({Container:{group:Be(function(){return this.put(new ds)})}}),Me(ds,"G");class Fc extends _n{constructor(e,t=e){super(He("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Va)}}ue(Fc,dC),ve({Container:{link:Be(function(n){return this.put(new Fc).to(n)})},Element:{unlink(){const n=this.linker();if(!n)return this;const e=n.parent();if(!e)return this.remove();const t=e.index(n);return e.add(this,t),n.remove(),this},linkTo(n){let e=this.linker();return e||(e=new Fc,this.wrap(e)),typeof n=="function"?n.call(e,e):e.to(n),this},linker(){const n=this.parent();return n&&n.node.nodeName.toLowerCase()==="a"?n:null}}}),Me(Fc,"A");class df extends _n{constructor(e,t=e){super(He("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return xr("svg [mask*="+this.id()+"]")}}ve({Container:{mask:Be(function(){return this.defs().put(new df)})},Element:{masker(){return this.reference("mask")},maskWith(n){const e=n instanceof df?n:this.parent().mask().add(n);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),Me(df,"Mask");class kb extends jt{constructor(e,t=e){super(He("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Ne)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Ne(e.offset)),this}}ve({Gradient:{stop:function(n,e,t){return this.put(new kb).update(n,e,t)}}}),Me(kb,"Stop");class ff extends jt{constructor(e,t=e){super(He("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,i={}){return this.rule("@font-face",{fontFamily:e,src:t,...i})}rule(e,t){return this.addText(function(i,s){if(!i)return"";if(!s)return i;let r=i+"{";for(const a in s)r+=a.replace(/([A-Z])/g,function(o,l){return"-"+l.toLowerCase()})+":"+s[a]+";";return r+="}",r}(e,t))}}ve("Dom",{style(n,e){return this.put(new ff).rule(n,e)},fontface(n,e,t){return this.put(new ff).font(n,e,t)}}),Me(ff,"Style");class pf extends Zn{constructor(e,t=e){super(He("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let i=null;return t&&(i=t.plot(e)),e==null?i:this}track(){return this.reference("href")}}ve({Container:{textPath:Be(function(n,e){return n instanceof Zn||(n=this.text(n)),n.path(e)})},Text:{path:Be(function(n,e=!0){const t=new pf;let i;if(n instanceof aa||(n=this.defs().path(n)),t.attr("href","#"+n,Va),e)for(;i=this.node.firstChild;)t.node.appendChild(i);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:Be(function(n){return n instanceof Zn||(n=new Zn().addTo(this.parent()).text(n)),n.path(this)}),targets(){return xr("svg textPath").filter(n=>(n.attr("href")||"").includes(this.id()))}}}),pf.prototype.MorphArray=Qn,Me(pf,"TextPath");class Cb extends Tn{constructor(e,t=e){super(He("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Va)}}ve({Container:{use:Be(function(n,e){return this.put(new Cb).use(n,e)})}}),Me(Cb,"Use");const TN=rn;ue([Zp,Jp,ou,Al,lu],cn("viewbox")),ue([Ks,Zs,Qs,aa],cn("marker")),ue(Zn,cn("Text")),ue(aa,cn("Path")),ue(Fh,cn("Defs")),ue([Zn,uu],cn("Tspan")),ue([cu,au,Yo,wn],cn("radius")),ue(Kl,cn("EventTarget")),ue(ba,cn("Dom")),ue(jt,cn("Element")),ue(Tn,cn("Shape")),ue([_n,iC],cn("Container")),ue(Yo,cn("Gradient")),ue(wn,cn("Runner")),ur.extend([...new Set(zk)]),function(n=[]){Qp.push(...[].concat(n))}([Ne,Fe,ht,Se,hr,ws,Qn,De]),ue(Qp,{to(n){return new Xs().type(this.constructor).from(this.toArray()).to(n)},fromArray(n){return this.init(n),this},toConsumable(){return this.toArray()},morph(n,e,t,i,s){return this.fromArray(n.map(function(r,a){return i.step(r,e[a],t,s[a],s)}))}});class We extends jt{constructor(e){super(He("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return xr('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class px extends jt{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const Pn=n=>function(...e){for(let t=n.length;t--;)e[t]!=null&&this.attr(n[t],e[t])},EN={blend:Pn(["in","in2","mode"]),colorMatrix:Pn(["type","values"]),composite:Pn(["in","in2","operator"]),convolveMatrix:function(n){n=new hr(n).toString(),this.attr({order:Math.sqrt(n.split(" ").length),kernelMatrix:n})},diffuseLighting:Pn(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:Pn(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:Pn(["in","dx","dy","stdDeviation"]),flood:Pn(["flood-color","flood-opacity"]),gaussianBlur:function(n=0,e=n){this.attr("stdDeviation",n+" "+e)},image:function(n){this.attr("href",n,Va)},morphology:Pn(["operator","radius"]),offset:Pn(["dx","dy"]),specularLighting:Pn(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:Pn([]),turbulence:Pn(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(n=>{const e=Da(n),t=EN[n];We[e+"Effect"]=class extends px{constructor(i){super(He("fe"+e,i),i)}update(i){return t.apply(this,i),this}},We.prototype[n]=Be(function(i,...s){const r=new We[e+"Effect"];return i==null?this.put(r):(typeof i=="function"?i.call(r,r):s.unshift(i),this.put(r).update(s))})}),ue(We,{merge(n){const e=this.put(new We.MergeEffect);return typeof n=="function"?(n.call(e,e),e):((n instanceof Array?n:[...arguments]).forEach(t=>{t instanceof We.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(n={}){const e=this.put(new We.ComponentTransferEffect);if(typeof n=="function")return n.call(e,e),e;n.r||n.g||n.b||n.a||(n={r:n,g:n,b:n,a:n});for(const t in n)e.add(new We["Func"+t.toUpperCase()](n[t]));return e}});["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(n=>{const e=Da(n);We[e]=class extends px{constructor(t){super(He("fe"+e,t),t)}}});["funcR","funcG","funcB","funcA"].forEach(function(n){const e=We[Da(n)],t=Be(function(){return this.put(new e)});We.ComponentTransferEffect.prototype[n]=t});["distantLight","pointLight","spotLight"].forEach(n=>{const e=We[Da(n)],t=Be(function(){return this.put(new e)});We.DiffuseLightingEffect.prototype[n]=t,We.SpecularLightingEffect.prototype[n]=t}),ue(We.MergeEffect,{mergeNode(n){return this.put(new We.MergeNode).attr("in",n)}}),ue(Fh,{filter:function(n){const e=this.put(new We);return typeof n=="function"&&n.call(e,e),e}}),ue(_n,{filter:function(n){return this.defs().filter(n)}}),ue(jt,{filterWith:function(n){const e=n instanceof We?n:this.defs().filter(n);return this.attr("filter",e)},unfilter:function(n){return this.attr("filter",null)},filterer(){return this.reference("filter")}});const PN={blend:function(n,e){return this.parent()&&this.parent().blend(this,n,e)},colorMatrix:function(n,e){return this.parent()&&this.parent().colorMatrix(n,e).in(this)},componentTransfer:function(n){return this.parent()&&this.parent().componentTransfer(n).in(this)},composite:function(n,e){return this.parent()&&this.parent().composite(this,n,e)},convolveMatrix:function(n){return this.parent()&&this.parent().convolveMatrix(n).in(this)},diffuseLighting:function(n,e,t,i){return this.parent()&&this.parent().diffuseLighting(n,t,i).in(this)},displacementMap:function(n,e,t,i){return this.parent()&&this.parent().displacementMap(this,n,e,t,i)},dropShadow:function(n,e,t){return this.parent()&&this.parent().dropShadow(this,n,e,t).in(this)},flood:function(n,e){return this.parent()&&this.parent().flood(n,e)},gaussianBlur:function(n,e){return this.parent()&&this.parent().gaussianBlur(n,e).in(this)},image:function(n){return this.parent()&&this.parent().image(n)},merge:function(n){return n=n instanceof Array?n:[...n],this.parent()&&this.parent().merge(this,...n)},morphology:function(n,e){return this.parent()&&this.parent().morphology(n,e).in(this)},offset:function(n,e){return this.parent()&&this.parent().offset(n,e).in(this)},specularLighting:function(n,e,t,i,s){return this.parent()&&this.parent().specularLighting(n,t,i,s).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(n,e,t,i,s){return this.parent()&&this.parent().turbulence(n,e,t,i,s).in(this)}};ue(px,PN),ue(We.MergeEffect,{in:function(n){return n instanceof We.MergeNode?this.add(n,0):this.add(new We.MergeNode().in(n),0),this}}),ue([We.CompositeEffect,We.BlendEffect,We.DisplacementMapEffect],{in2:function(n){if(n==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",n)}}),We.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var Vt=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"getDefaultFilter",value:function(e,t){var i=this.w;e.unfilter(!0),new We().size("120%","180%","-5%","-40%"),i.config.chart.dropShadow.enabled&&this.dropShadow(e,i.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,i){var s,r=this,a=this.w;if(e.unfilter(!0),i!=="none"){var o,l,c=a.config.chart.dropShadow,u=i==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
          `.concat(u,` 0 0 0 0
          0 `).concat(u,` 0 0 0
          0 0 `).concat(u,` 0 0
          0 0 0 1 0
        `),in:"SourceGraphic",result:"brightness"}),c.enabled&&r.addShadow(h,t,c,"brightness")}),!c.noUserSpaceOnUse&&((o=e.filterer())===null||o===void 0||(l=o.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((s=e.filterer())===null||s===void 0?void 0:s.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,i,s){var r,a=this.w,o=i.blur,l=i.top,c=i.left,u=i.color,h=i.opacity;if(u=Array.isArray(u)?u[t]:u,((r=a.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.length)>0&&a.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:s,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:o,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",s])}},{key:"dropShadow",value:function(e,t){var i,s,r,a,o,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),D.isMsEdge()&&u.config.chart.type==="radialBar"||((i=u.config.chart.dropShadow.enabledOnSeries)===null||i===void 0?void 0:i.length)>0&&((r=u.config.chart.dropShadow.enabledOnSeries)===null||r===void 0?void 0:r.indexOf(c))===-1?e:(e.filterWith(function(h){l.addShadow(h,c,t,"SourceGraphic")}),t.noUserSpaceOnUse||(a=e.filterer())===null||a===void 0||(o=a.node)===null||o===void 0||o.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((s=e.filterer())===null||s===void 0?void 0:s.node),e)}},{key:"setSelectionFilter",value:function(e,t,i){var s=this.w;if(s.globals.selectedDataPoints[t]!==void 0&&s.globals.selectedDataPoints[t].indexOf(i)>-1){e.node.setAttribute("selected",!0);var r=s.config.states.active.filter;r!=="none"&&this.applyFilter(e,t,r.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),n}(),W=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"roundPathCorners",value:function(e,t){function i(w,C,E){var I=C.x-w.x,L=C.y-w.y,M=Math.sqrt(I*I+L*L);return s(w,C,Math.min(1,E/M))}function s(w,C,E){return{x:w.x+(C.x-w.x)*E,y:w.y+(C.y-w.y)*E}}function r(w,C){w.length>2&&(w[w.length-2]=C.x,w[w.length-1]=C.y)}function a(w){return{x:parseFloat(w[w.length-2]),y:parseFloat(w[w.length-1])}}e.indexOf("NaN")>-1&&(e="");var o=e.split(/[,\s]/).reduce(function(w,C){var E=C.match(/^([a-zA-Z])(.+)/);return E?(w.push(E[1]),w.push(E[2])):w.push(C),w},[]).reduce(function(w,C){return parseFloat(C)==C&&w.length?w[w.length-1].push(C):w.push([C]),w},[]),l=[];if(o.length>1){var c=a(o[0]),u=null;o[o.length-1][0]=="Z"&&o[0].length>2&&(u=["L",c.x,c.y],o[o.length-1]=u),l.push(o[0]);for(var h=1;h<o.length;h++){var d=l[l.length-1],f=o[h],m=f==u?o[1]:o[h+1];if(m&&d&&d.length>2&&f[0]=="L"&&m.length>2&&m[0]=="L"){var g,v,x=a(d),y=a(f),b=a(m);g=i(y,x,t),v=i(y,b,t),r(f,g),f.origPoint=y,l.push(f);var _=s(g,y,.5),k=s(y,v,.5),P=["C",_.x,_.y,k.x,k.y,v.x,v.y];P.origPoint=y,l.push(P)}else l.push(f)}if(u){var A=a(l[l.length-1]);l.push(["Z"]),r(l[0],A)}}else l=o;return l.reduce(function(w,C){return w+C.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,i,s){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:i,y2:s,stroke:r,"stroke-dasharray":a,"stroke-width":o,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:t,width:i>0?i:0,height:s>0?s:0,rx:r,ry:r,opacity:o,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":u}),h.node.setAttribute("fill",a),h}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:s,stroke:t,"stroke-width":i})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var i=this.w.globals.dom.Paper.circle(2*e);return t!==null&&i.attr(t),i}},{key:"drawPath",value:function(e){var t=e.d,i=t===void 0?"":t,s=e.stroke,r=s===void 0?"#a8a8a8":s,a=e.strokeWidth,o=a===void 0?1:a,l=e.fill,c=e.fillOpacity,u=c===void 0?1:c,h=e.strokeOpacity,d=h===void 0?1:h,f=e.classes,m=e.strokeLinecap,g=m===void 0?null:m,v=e.strokeDashArray,x=v===void 0?0:v,y=this.w;return g===null&&(g=y.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(y.globals.gridHeight)),y.globals.dom.Paper.path(i).attr({fill:l,"fill-opacity":u,stroke:r,"stroke-opacity":d,"stroke-linecap":g,"stroke-width":o,"stroke-dasharray":x,class:f})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var i=["M",e,t].join(" ");return i}},{key:"line",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=null;return i===null?s=[" L",e,t].join(" "):i==="H"?s=[" H",e].join(" "):i==="V"&&(s=[" V",t].join(" ")),s}},{key:"curve",value:function(e,t,i,s,r,a){var o=["C",e,t,i,s,r,a].join(" ");return o}},{key:"quadraticCurve",value:function(e,t,i,s){return["Q",e,t,i,s].join(" ")}},{key:"arc",value:function(e,t,i,s,r,a,o){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,t,i,s,r,a,o].join(" ");return c}},{key:"renderPaths",value:function(e){var t,i=e.j,s=e.realIndex,r=e.pathFrom,a=e.pathTo,o=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,h=e.animationDelay,d=e.initialSpeed,f=e.dataChangeSpeed,m=e.className,g=e.chartType,v=e.shouldClipToGrid,x=v===void 0||v,y=e.bindEventsOnPaths,b=y===void 0||y,_=e.drawShadow,k=_===void 0||_,P=this.w,A=new Vt(this.ctx),w=new Na(this.ctx),C=this.w.config.chart.animations.enabled,E=C&&this.w.config.chart.animations.dynamicAnimation.enabled;if(r&&r.startsWith("M 0 0")&&a){var I=a.match(/^M\s+[\d.-]+\s+[\d.-]+/);I&&(r=r.replace(/^M\s+0\s+0/,I[0]))}var L=!!(C&&!P.globals.resized||E&&P.globals.dataChanged&&P.globals.shouldAnimate);L?t=r:(t=a,P.globals.animationEnded=!0);var M=P.config.stroke.dashArray,F=0;F=Array.isArray(M)?M[s]:P.config.stroke.dashArray;var B=this.drawPath({d:t,stroke:o,strokeWidth:l,fill:u,fillOpacity:1,classes:m,strokeLinecap:c,strokeDashArray:F});B.attr("index",s),x&&(g==="bar"&&!P.globals.isHorizontal||P.globals.comboCharts?B.attr({"clip-path":"url(#gridRectBarMask".concat(P.globals.cuid,")")}):B.attr({"clip-path":"url(#gridRectMask".concat(P.globals.cuid,")")})),P.config.chart.dropShadow.enabled&&k&&A.dropShadow(B,P.config.chart.dropShadow,s),b&&(B.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,B)),B.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,B)),B.node.addEventListener("mousedown",this.pathMouseDown.bind(this,B))),B.attr({pathTo:a,pathFrom:r});var $={el:B,j:i,realIndex:s,pathFrom:r,pathTo:a,fill:u,strokeWidth:l,delay:h};return!C||P.globals.resized||P.globals.dataChanged?!P.globals.resized&&P.globals.dataChanged||w.showDelayedElements():w.animatePathsGradually(Z(Z({},$),{},{speed:d})),P.globals.dataChanged&&E&&L&&w.animatePathsGradually(Z(Z({},$),{},{speed:f})),B}},{key:"drawPattern",value:function(e,t,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,i,function(a){e==="horizontalLines"?a.line(0,0,i,0).stroke({color:s,width:r+1}):e==="verticalLines"?a.line(0,0,0,t).stroke({color:s,width:r+1}):e==="slantedLines"?a.line(0,0,t,i).stroke({color:s,width:r}):e==="squares"?a.rect(t,i).fill("none").stroke({color:s,width:r}):e==="circles"&&a.circle(t).fill("none").stroke({color:s,width:r})})}},{key:"drawGradient",value:function(e,t,i,s,r){var a,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;t.length<9&&t.indexOf("#")===0&&(t=D.hexToRgba(t,s)),i.length<9&&i.indexOf("#")===0&&(i=D.hexToRgba(i,r));var d=0,f=1,m=1,g=null;l!==null&&(d=l[0]!==void 0?l[0]/100:0,f=l[1]!==void 0?l[1]/100:1,m=l[2]!==void 0?l[2]/100:1,g=l[3]!==void 0?l[3]/100:null);var v=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(a=c&&c.length!==0?h.globals.dom.Paper.gradient(v?"radial":"linear",function(b){(Array.isArray(c[u])?c[u]:c).forEach(function(_){b.stop(_.offset/100,_.color,_.opacity)})}):h.globals.dom.Paper.gradient(v?"radial":"linear",function(b){b.stop(d,t,s),b.stop(f,i,r),b.stop(m,i,r),g!==null&&b.stop(g,t,s)}),v){var x=h.globals.gridWidth/2,y=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?a.attr({gradientUnits:"userSpaceOnUse",cx:x,cy:y,r:o}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?a.from(0,0).to(0,1):e==="diagonal"?a.from(0,0).to(1,1):e==="horizontal"?a.from(0,1).to(1,1):e==="diagonal2"&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,i=e.maxWidth,s=e.fontSize,r=e.fontFamily,a=this.getTextRects(t,s,r),o=a.width/t.length,l=Math.floor(i/o);return i<a.width?t.slice(0,l-3)+"...":t}},{key:"drawText",value:function(e){var t=this,i=e.x,s=e.y,r=e.text,a=e.textAnchor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,h=e.opacity,d=e.maxWidth,f=e.cssClass,m=f===void 0?"":f,g=e.isPlainText,v=g===void 0||g,x=e.dominantBaseline,y=x===void 0?"auto":x,b=this.w;r===void 0&&(r="");var _=r;a||(a="start"),u&&u.length||(u=b.config.chart.foreColor),l=l||b.config.chart.fontFamily,c=c||"regular";var k,P={maxWidth:d,fontSize:o=o||"11px",fontFamily:l};return Array.isArray(r)?k=b.globals.dom.Paper.text(function(A){for(var w=0;w<r.length;w++)_=r[w],d&&(_=t.getTextBasedOnMaxWidth(Z({text:r[w]},P))),w===0?A.tspan(_):A.tspan(_).newLine()}):(d&&(_=this.getTextBasedOnMaxWidth(Z({text:r},P))),k=v?b.globals.dom.Paper.plain(r):b.globals.dom.Paper.text(function(A){return A.tspan(_)})),k.attr({x:i,y:s,"text-anchor":a,"dominant-baseline":y,"font-size":o,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+m}),k.node.style.fontFamily=l,k.node.style.opacity=h,k}},{key:"getMarkerPath",value:function(e,t,i,s){var r="";switch(i){case"cross":r="M ".concat(e-(s/=1.4)," ").concat(t-s," L ").concat(e+s," ").concat(t+s,"  M ").concat(e-s," ").concat(t+s," L ").concat(e+s," ").concat(t-s);break;case"plus":r="M ".concat(e-(s/=1.12)," ").concat(t," L ").concat(e+s," ").concat(t,"  M ").concat(e," ").concat(t-s," L ").concat(e," ").concat(t+s);break;case"star":case"sparkle":var a=5;s*=1.15,i==="sparkle"&&(s/=1.1,a=4);for(var o=Math.PI/a,l=0;l<=2*a;l++){var c=l*o,u=l%2==0?s:s/2;r+=(l===0?"M":"L")+(e+u*Math.sin(c))+","+(t-u*Math.cos(c))}r+="Z";break;case"triangle":r="M ".concat(e," ").concat(t-s,` 
             L `).concat(e+s," ").concat(t+s,` 
             L `).concat(e-s," ").concat(t+s,` 
             Z`);break;case"square":case"rect":r="M ".concat(e-(s/=1.125)," ").concat(t-s,` 
           L `).concat(e+s," ").concat(t-s,` 
           L `).concat(e+s," ").concat(t+s,` 
           L `).concat(e-s," ").concat(t+s,` 
           Z`);break;case"diamond":s*=1.05,r="M ".concat(e," ").concat(t-s,` 
             L `).concat(e+s," ").concat(t,` 
             L `).concat(e," ").concat(t+s,` 
             L `).concat(e-s," ").concat(t,` 
            Z`);break;case"line":r="M ".concat(e-(s/=1.1)," ").concat(t,` 
           L `).concat(e+s," ").concat(t);break;default:s*=2,r="M ".concat(e,", ").concat(t,` 
           m -`).concat(s/2,`, 0 
           a `).concat(s/2,",").concat(s/2," 0 1,0 ").concat(s,`,0 
           a `).concat(s/2,",").concat(s/2," 0 1,0 -").concat(s,",0")}return r}},{key:"drawMarkerShape",value:function(e,t,i,s,r){var a=this.drawPath({d:this.getMarkerPath(e,t,i,s,r),stroke:r.pointStrokeColor,strokeDashArray:r.pointStrokeDashArray,strokeWidth:r.pointStrokeWidth,fill:r.pointFillColor,fillOpacity:r.pointFillOpacity,strokeOpacity:r.pointStrokeOpacity});return a.attr({cx:e,cy:t,shape:r.shape,class:r.class?r.class:""}),a}},{key:"drawMarker",value:function(e,t,i){e=e||0;var s=i.pSize||0;return D.isNumber(t)||(s=0,t=0),this.drawMarkerShape(e,t,i==null?void 0:i.shape,s,Z(Z({},i),i.shape==="line"||i.shape==="plus"||i.shape==="cross"?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var i=this.w,s=new Vt(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if(typeof i.config.chart.events.dataPointMouseEnter=="function"&&i.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}]),(i.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&i.config.states.hover.filter.type!=="none"&&!i.globals.isTouchDevice){var o=i.config.states.hover.filter;s.applyFilter(e,r,o.type)}}},{key:"pathMouseLeave",value:function(e,t){var i=this.w,s=new Vt(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);typeof i.config.chart.events.dataPointMouseLeave=="function"&&i.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:i}]),i.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||i.config.states.hover.filter.type!=="none"&&s.getDefaultFilter(e,r)}},{key:"pathMouseDown",value:function(e,t){var i=this.w,s=new Vt(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),o="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),i.globals.selectedDataPoints[r].indexOf(a)>-1){var l=i.globals.selectedDataPoints[r].indexOf(a);i.globals.selectedDataPoints[r].splice(l,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var c=i.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=i.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(m){Array.prototype.forEach.call(m,function(g){g.node.setAttribute("selected","false"),s.getDefaultFilter(g,r)})};h(c),h(u)}e.node.setAttribute("selected","true"),o="true",i.globals.selectedDataPoints[r]===void 0&&(i.globals.selectedDataPoints[r]=[]),i.globals.selectedDataPoints[r].push(a)}if(o==="true"){var d=i.config.states.active.filter;if(d!=="none")s.applyFilter(e,r,d.type);else if(i.config.states.hover.filter!=="none"&&!i.globals.isTouchDevice){var f=i.config.states.hover.filter;s.applyFilter(e,r,f.type)}}else i.config.states.active.filter.type!=="none"&&(i.config.states.hover.filter.type==="none"||i.globals.isTouchDevice?s.getDefaultFilter(e,r):(f=i.config.states.hover.filter,s.applyFilter(e,r,f.type)));typeof i.config.chart.events.dataPointSelection=="function"&&i.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:i}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:i}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,i,s){var r=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w,o=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:i,foreColor:"#fff",opacity:0});s&&o.attr("transform",s),a.globals.dom.Paper.add(o);var l=o.bbox();return r||(l=o.node.getBoundingClientRect()),o.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,t,i){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=i/1.1)){for(var s=t.length-3;s>0;s-=3)if(e.getSubStringLength(0,s)<=i/1.1)return void(e.textContent=t.substring(0,s)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var i in t)t.hasOwnProperty(i)&&e.setAttribute(i,t[i])}}]),n}(),dt=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,i=[];if(t.globals.series.length===0)return i;for(var s=0;s<t.globals.series[t.globals.maxValsInArrayIndex].length;s++){for(var r=0,a=0;a<t.globals.series.length;a++)t.globals.series[a][s]!==void 0&&e.indexOf(a)===-1&&(r+=t.globals.series[a][s]);i.push(r)}return i}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,i){return t+i},0):this.w.globals.series[e].reduce(function(t,i){return t+i},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,i=[];return t.globals.seriesGroups.forEach(function(s){var r=[];t.config.series.forEach(function(o,l){s.indexOf(t.globals.seriesNames[l])>-1&&r.push(l)});var a=t.globals.series.map(function(o,l){return r.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1});i.push(e.getStackedSeriesTotals(a))}),i}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,i=[],s=[],r=[],a=e.series.length>t.yaxis.length||t.yaxis.some(function(h){return Array.isArray(h.seriesName)});t.series.forEach(function(h,d){r.push(d),s.push(null)}),t.yaxis.forEach(function(h,d){i[d]=[]});var o=[];t.yaxis.forEach(function(h,d){var f=!1;if(h.seriesName){var m=[];Array.isArray(h.seriesName)?m=h.seriesName:m.push(h.seriesName),m.forEach(function(g){t.series.forEach(function(v,x){if(v.name===g){var y=x;d===x||a?!a||r.indexOf(x)>-1?i[d].push([d,x]):console.warn("Series '"+v.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[x].push([x,d]),y=d),f=!0,(y=r.indexOf(y))!==-1&&r.splice(y,1)}})})}f||o.push(d)}),i=i.map(function(h,d){var f=[];return h.forEach(function(m){s[m[1]]=m[0],f.push(m[1])}),f});for(var l=t.yaxis.length-1,c=0;c<o.length&&(l=o[c],i[l]=[],r);c++){var u=r[0];r.shift(),i[l].push(u),s[u]=l}r.forEach(function(h){i[l].push(h),s[h]=l}),e.seriesYAxisMap=i.map(function(h){return h}),e.seriesYAxisReverseMap=s.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,d){h.forEach(function(f){t.series[f]&&t.series[f].group===void 0&&(t.series[f].group="apexcharts-axis-".concat(d.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,i,s){return t===s[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,i=e.slice();return t.config.xaxis.convertedCatToNumeric&&(i=e.map(function(s,r){return t.config.xaxis.labels.formatter(s-t.globals.minX+1)})),i}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(i){t=Math.max(t,i)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(i){t=Math.max(t,i.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,i){var s=0;if(Array.isArray(t))for(var r=0;r<t.length;r++)s+=t[r];else s+=t;return s})}},{key:"getSeriesTotalsXRange",value:function(e,t){var i=this.w;return i.globals.series.map(function(s,r){for(var a=0,o=0;o<s.length;o++)i.globals.seriesX[r][o]>e&&i.globals.seriesX[r][o]<t&&(a+=s[o]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,i){var s=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var a=e.globals.stackedSeriesTotals[r],o=0;a&&(o=100*t[r]/a),s.push(o)}else{var l=100*t/e.globals.seriesTotals.reduce(function(c,u){return c+u},0);s.push(l)}return s})}},{key:"getCalculatedRatios",value:function(){var e,t,i,s=this,r=this.w,a=r.globals,o=[],l=0,c=[],u=.1,h=0;if(a.yRange=[],a.isMultipleYAxis)for(var d=0;d<a.minYArr.length;d++)a.yRange.push(Math.abs(a.minYArr[d]-a.maxYArr[d])),c.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var f=0;f<a.yRange.length;f++)o.push(a.yRange[f]/a.gridHeight);if(t=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,i=a.xRange/a.gridHeight,(l=a.zRange/a.gridHeight*16)||(l=1),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(a.hasNegs=!0),r.globals.seriesYAxisReverseMap.length>0){var m=function(v,x){var y=r.config.yaxis[r.globals.seriesYAxisReverseMap[x]],b=v<0?-1:1;return v=Math.abs(v),y.logarithmic&&(v=s.getBaseLog(y.logBase,v)),-b*v/o[x]};if(a.isMultipleYAxis){c=[];for(var g=0;g<o.length;g++)c.push(m(a.minYArr[g],g))}else(c=[]).push(m(a.minY,0)),a.minY!==Number.MIN_VALUE&&Math.abs(a.minY)!==0&&(u=-a.minY/e,h=a.minX/t)}else(c=[]).push(0),u=0,h=0;return{yRatio:o,invertedYRatio:e,zRatio:l,xRatio:t,invertedXRatio:i,baseLineInvertedY:u,baseLineY:c,baseLineX:h}}},{key:"getLogSeries",value:function(e){var t=this,i=this.w;return i.globals.seriesLog=e.map(function(s,r){var a=i.globals.seriesYAxisReverseMap[r];return i.config.yaxis[a]&&i.config.yaxis[a].logarithmic?s.map(function(o){return o===null?null:t.getLogVal(i.config.yaxis[a].logBase,o,r)}):s}),i.globals.invalidLogScale?e:i.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var i=this.w,s=i.globals.seriesYAxisReverseMap[t];return i.config.yaxis[s]&&i.config.yaxis[s].logarithmic?this.getLogVal(i.config.yaxis[s].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,i){if(t<=0)return 0;var s=this.w,r=s.globals.minYArr[i]===0?-1:this.getBaseLog(e,s.globals.minYArr[i]),a=(s.globals.maxYArr[i]===0?0:this.getBaseLog(e,s.globals.maxYArr[i]))-r;return t<1?t/a:(this.getBaseLog(e,t)-r)/a}},{key:"getLogYRatios",value:function(e){var t=this,i=this.w,s=this.w.globals;return s.yLogRatio=e.slice(),s.logYRange=s.yRange.map(function(r,a){var o=i.globals.seriesYAxisReverseMap[a];if(i.config.yaxis[o]&&t.w.config.yaxis[o].logarithmic){var l,c=-Number.MAX_VALUE,u=Number.MIN_VALUE;return s.seriesLog.forEach(function(h,d){h.forEach(function(f){i.config.yaxis[d]&&i.config.yaxis[d].logarithmic&&(c=Math.max(f,c),u=Math.min(f,u))})}),l=Math.pow(s.yRange[a],Math.abs(u-c)/s.yRange[a]),s.yLogRatio[a]=l/s.gridHeight,l}}),s.invalidLogScale?e.slice():s.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,i,s){var r=this.w,a=[];return e.series.length>0&&t.forEach(function(o){var l=[],c=[];e.i.forEach(function(u,h){r.config.series[u].group===o&&(l.push(e.series[h]),c.push(u))}),l.length>0&&a.push(s.draw(l,i,c))}),a}}],[{key:"checkComboSeries",value:function(e,t){var i=!1,s=0,r=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(a){a.type!=="bar"&&a.type!=="column"&&a.type!=="candlestick"&&a.type!=="boxPlot"||s++,a.type!==void 0&&a.type!==t&&r++}),r>0&&(i=!0),{comboBarCount:s,comboCharts:i}}},{key:"extendArrayProps",value:function(e,t,i){var s,r,a,o,l,c;return(s=t)!==null&&s!==void 0&&s.yaxis&&(t=e.extendYAxis(t,i)),(r=t)!==null&&r!==void 0&&r.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(a=t)!==null&&a!==void 0&&(o=a.annotations)!==null&&o!==void 0&&o.xaxis&&(t=e.extendXAxisAnnotations(t)),(l=t)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(t=e.extendPointAnnotations(t))),t}}]),n}(),zh=function(){function n(e){te(this,n),this.w=e.w,this.annoCtx=e}return ne(n,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.w;if(e.label.orientation==="vertical"){var s=t!==null?t:0,r=i.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(s,"']"));if(r!==null){var a=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-a.height+4);var o=e.label.position==="top"?a.width:-a.width;r.setAttribute("y",parseFloat(r.getAttribute("y"))+o);var l=this.annoCtx.graphics.rotateAroundCenter(r),c=l.x,u=l.y;r.setAttribute("transform","rotate(-90 ".concat(c," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var i=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var s=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=e.getBoundingClientRect(),a=t.label.style.padding,o=a.left,l=a.right,c=a.top,u=a.bottom;if(t.label.orientation==="vertical"){var h=[o,l,c,u];c=h[0],u=h[1],o=h[2],l=h[3]}var d=r.left-s.left-o,f=r.top-s.top-c,m=this.annoCtx.graphics.drawRect(d-i.globals.barPadForNumericAxis,f,r.width+o+l,r.height+c+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&m.node.classList.add(t.id),m}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,i=function(s,r,a){var o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(a,"-annotations .apexcharts-").concat(a,"-annotation-label[rel='").concat(r,"']"));if(o){var l=o.parentNode,c=e.addBackgroundToAnno(o,s);c&&(l.insertBefore(c.node,o),s.label.mouseEnter&&c.node.addEventListener("mouseenter",s.label.mouseEnter.bind(e,s)),s.label.mouseLeave&&c.node.addEventListener("mouseleave",s.label.mouseLeave.bind(e,s)),s.label.click&&c.node.addEventListener("click",s.label.click.bind(e,s)))}};t.config.annotations.xaxis.forEach(function(s,r){return i(s,r,"xaxis")}),t.config.annotations.yaxis.forEach(function(s,r){return i(s,r,"yaxis")}),t.config.annotations.points.forEach(function(s,r){return i(s,r,"point")})}},{key:"getY1Y2",value:function(e,t){var i,s=this.w,r=e==="y1"?t.y:t.y2,a=!1;if(this.annoCtx.invertAxis){var o=s.config.xaxis.convertedCatToNumeric?s.globals.categoryLabels:s.globals.labels,l=o.indexOf(r),c=s.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));i=c?parseFloat(c.getAttribute("y")):(s.globals.gridHeight/o.length-1)*(l+1)-s.globals.barHeight,t.seriesIndex!==void 0&&s.globals.barHeight&&(i-=s.globals.barHeight/2*(s.globals.series.length-1)-s.globals.barHeight*t.seriesIndex)}else{var u,h=s.globals.seriesYAxisMap[t.yAxisIndex][0],d=s.config.yaxis[t.yAxisIndex].logarithmic?new dt(this.annoCtx.ctx).getLogVal(s.config.yaxis[t.yAxisIndex].logBase,r,h)/s.globals.yLogRatio[h]:(r-s.globals.minYArr[h])/(s.globals.yRange[h]/s.globals.gridHeight);i=s.globals.gridHeight-Math.min(Math.max(d,0),s.globals.gridHeight),a=d>s.globals.gridHeight||d<0,!t.marker||t.y!==void 0&&t.y!==null||(i=0),(u=s.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(i=d)}return typeof r=="string"&&r.includes("px")&&(i=parseFloat(r)),{yP:i,clipped:a}}},{key:"getX1X2",value:function(e,t){var i=this.w,s=e==="x1"?t.x:t.x2,r=this.annoCtx.invertAxis?i.globals.minY:i.globals.minX,a=this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX,o=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(a-s)/(o/i.globals.gridWidth):(s-r)/(o/i.globals.gridWidth);return i.config.xaxis.type!=="category"&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(c=this.getStringX(s)),typeof s=="string"&&s.includes("px")&&(c=parseFloat(s)),s==null&&t.marker&&(c=i.globals.gridWidth),t.seriesIndex!==void 0&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*t.seriesIndex),typeof c!="number"&&(c=0,l=!0),parseFloat(c.toFixed(10))>parseFloat(i.globals.gridWidth.toFixed(10))?(c=i.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var t=this.w,i=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var s=t.globals.labels.map(function(a){return Array.isArray(a)?a.join(" "):a}).indexOf(e),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(s+1,")"));return r&&(i=parseFloat(r.getAttribute("x"))),i}}]),n}(),IN=function(){function n(e){te(this,n),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new zh(this.annoCtx)}return ne(n,[{key:"addXaxisAnnotation",value:function(e,t,i){var s,r=this.w,a=this.helpers.getX1X2("x1",e),o=a.x,l=a.clipped,c=!0,u=e.label.text,h=e.strokeDashArray;if(D.isNumber(o)){if(e.x2===null||e.x2===void 0){if(!l){var d=this.annoCtx.graphics.drawLine(o+e.offsetX,0+e.offsetY,o+e.offsetX,r.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}}else{var f=this.helpers.getX1X2("x2",e);if(s=f.x,c=f.clipped,s<o){var m=o;o=s,s=m}var g=this.annoCtx.graphics.drawRect(o+e.offsetX,0+e.offsetY,s-o,r.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);g.node.classList.add("apexcharts-annotation-rect"),g.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}if(!l||!c){var v=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),x=e.label.position==="top"?4:e.label.position==="center"?r.globals.gridHeight/2+(e.label.orientation==="vertical"?v.width/2:0):r.globals.gridHeight,y=this.annoCtx.graphics.drawText({x:o+e.label.offsetX,y:x+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?v.width/2-12:-v.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:i}),t.appendChild(y.node),this.annoCtx.helpers.setOrientations(e,i)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(s,r){e.addXaxisAnnotation(s,i.node,r)}),i}}]),n}(),Dt=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return ne(n,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var i=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return i=this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var i=this.w.globals.locale,s=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(Ct(i.months)),a=[""].concat(Ct(i.shortMonths)),o=[""].concat(Ct(i.days)),l=[""].concat(Ct(i.shortDays));function c(w,C){var E=w+"";for(C=C||2;E.length<C;)E="0"+E;return E}var u=s?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(s?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+c(h))).replace(/(^|[^\\])M/g,"$1"+h);var d=s?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+o[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(d))).replace(/(^|[^\\])d/g,"$1"+d);var f=s?e.getUTCHours():e.getHours(),m=f>12?f-12:f===0?12:f;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+c(f))).replace(/(^|[^\\])H/g,"$1"+f)).replace(/(^|[^\\])hh+/g,"$1"+c(m))).replace(/(^|[^\\])h/g,"$1"+m);var g=s?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+c(g))).replace(/(^|[^\\])m/g,"$1"+g);var v=s?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+c(v))).replace(/(^|[^\\])s/g,"$1"+v);var x=s?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+c(x,3)),x=Math.round(x/10),t=t.replace(/(^|[^\\])ff/g,"$1"+c(x)),x=Math.round(x/10);var y=f<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+x)).replace(/(^|[^\\])TT+/g,"$1"+y)).replace(/(^|[^\\])T/g,"$1"+y.charAt(0));var b=y.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+b)).replace(/(^|[^\\])t/g,"$1"+b.charAt(0));var _=-e.getTimezoneOffset(),k=s||!_?"Z":_>0?"+":"-";if(!s){var P=(_=Math.abs(_))%60;k+=c(Math.floor(_/60))+":"+c(P)}t=t.replace(/(^|[^\\])K/g,"$1"+k);var A=(s?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(o[0],"g"),o[A])).replace(new RegExp(l[0],"g"),l[A])).replace(new RegExp(r[0],"g"),r[h])).replace(new RegExp(a[0],"g"),a[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,i){var s=this.w;s.config.xaxis.min!==void 0&&(e=s.config.xaxis.min),s.config.xaxis.max!==void 0&&(t=s.config.xaxis.max);var r=this.getDate(e),a=this.getDate(t),o=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(o[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(o[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(o[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(o[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(o[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(o[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(o[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,i){return this.determineDaysOfMonths(e,t)-i}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,i){var s=this.daysCntOfYear[t]+i;return t>1&&this.isLeapYear()&&s++,s}},{key:"determineDaysOfMonths",value:function(e,t){var i=30;switch(e=D.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(i=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:i=31}return i}}]),n}(),Zl=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return ne(n,[{key:"xLabelFormat",value:function(e,t,i,s){var r=this.w;if(r.config.xaxis.type==="datetime"&&r.config.xaxis.labels.formatter===void 0&&r.config.tooltip.x.formatter===void 0){var a=new Dt(this.ctx);return a.formatDate(a.getDate(t),r.config.tooltip.x.format)}return e(t,i,s)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,i){var s=this.w;if(D.isNumber(e))if(s.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:s.globals.yValueDecimal);else{var r=e.toFixed(0);e=e==r?r:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttKeyFormatter=function(i){return e.defaultGeneralFormatter(i)},t.globals.ttZFormatter=function(i){return i},t.globals.legendFormatter=function(i){return e.defaultGeneralFormatter(i)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(i){if(D.isNumber(i)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(D.isNumber(t.config.xaxis.decimalsInFloat))return i.toFixed(t.config.xaxis.decimalsInFloat);var s=t.globals.maxX-t.globals.minX;return s>0&&s<100?i.toFixed(1):i.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?i.toFixed(1):i.toFixed(0)}return i},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(i,s){i.labels.formatter!==void 0?t.globals.yLabelFormatters[s]=i.labels.formatter:t.globals.yLabelFormatters[s]=function(r){return t.globals.xyCharts?Array.isArray(r)?r.map(function(a){return e.defaultYFormatter(a,i,s)}):e.defaultYFormatter(r,i,s):r}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(i,s){return i.length>s.length?i:s},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),n}(),As=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"getLabel",value:function(e,t,i,s){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",o=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[s]===void 0?"":e[s],u=c,h=l.globals.xLabelFormatter,d=l.config.xaxis.labels.formatter,f=!1,m=new Zl(this.ctx),g=c;o&&(u=m.xLabelFormat(h,c,g,{i:s,dateFormatter:new Dt(this.ctx).formatDate,w:l}),d!==void 0&&(u=d(c,e[s],{i:s,dateFormatter:new Dt(this.ctx).formatDate,w:l})));var v,x;t.length>0?(v=t[s].unit,x=null,t.forEach(function(k){k.unit==="month"?x="year":k.unit==="day"?x="month":k.unit==="hour"?x="day":k.unit==="minute"&&(x="hour")}),f=x===v,i=t[s].position,u=t[s].value):l.config.xaxis.type==="datetime"&&d===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var y=new W(this.ctx),b={};b=l.globals.rotateXLabels&&o?y.getTextRects(u,parseInt(a,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):y.getTextRects(u,parseInt(a,10));var _=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||r.indexOf(u)>=0&&_)&&(u=""),{x:i,text:u,textRect:b,isBold:f}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,i){var s=this.w,r=s.config.xaxis.tickAmount;return r==="dataPoints"&&(r=Math.round(s.globals.gridWidth/120)),r>i||e%Math.round(i/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,i,s,r){var a=this.w;if(e===0&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===i-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&s.length>0){var o=r[r.length-1];if(a.config.xaxis.labels.trim&&a.config.xaxis.type!=="datetime")return t;t.x<o.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+o.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var i=this.w;return i.config.yaxis[e]&&i.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(i){return t.collapsedSeriesIndices.indexOf(i)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,i=t.globals,s=t.config.yaxis;return i.series.length>s.length||s.some(function(r){return Array.isArray(r.seriesName)})?e:i.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,i=t.config.yaxis[e];if(!i.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!i.showForNullSeries){var s=t.globals.seriesYAxisMap[e],r=new dt(this.ctx);return s.every(function(a){return r.isSeriesNull(a)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var i=this.w;return Array.isArray(e)&&i.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,i.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,i,s,r,a,o){var l=this.w,c=new W(this.ctx),u=l.globals.translateY+l.config.yaxis[r].labels.offsetY;if(l.globals.isBarHorizontal?u=0:l.config.chart.type==="heatmap"&&(u+=a/2),s.show&&t>0){l.config.yaxis[r].opposite===!0&&(e+=s.width);for(var h=t;h>=0;h--){var d=c.drawLine(e+i.offsetX-s.width+s.offsetX,u+s.offsetY,e+i.offsetX+s.offsetX,u+s.offsetY,s.color);o.add(d),u+=a}}}}]),n}(),RN=function(){function n(e){te(this,n),this.w=e.w,this.annoCtx=e,this.helpers=new zh(this.annoCtx),this.axesUtils=new As(this.annoCtx)}return ne(n,[{key:"addYaxisAnnotation",value:function(e,t,i){var s,r=this.w,a=e.strokeDashArray,o=this.helpers.getY1Y2("y1",e),l=o.yP,c=o.clipped,u=!0,h=!1,d=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){h=!0;var f=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{if(s=(o=this.helpers.getY1Y2("y2",e)).yP,u=o.clipped,s>l){var m=l;l=s,s=m}if(!c||!u){h=!0;var g=this.annoCtx.graphics.drawRect(0+e.offsetX,s+e.offsetY,this._getYAxisAnnotationWidth(e),l-s,0,e.fillColor,e.opacity,1,e.borderColor,a);g.node.classList.add("apexcharts-annotation-rect"),g.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(g.node),e.id&&g.node.classList.add(e.id)}}if(h){var v=e.label.position==="right"?r.globals.gridWidth:e.label.position==="center"?r.globals.gridWidth/2:0,x=this.annoCtx.graphics.drawText({x:v+e.label.offsetX,y:(s??l)+e.label.offsetY-3,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});x.attr({rel:i}),t.appendChild(x.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(s,r){s.yAxisIndex=e.axesUtils.translateYAxisIndex(s.yAxisIndex),e.axesUtils.isYAxisHidden(s.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(s.yAxisIndex)||e.addYaxisAnnotation(s,i.node,r)}),i}}]),n}(),MN=function(){function n(e){te(this,n),this.w=e.w,this.annoCtx=e,this.helpers=new zh(this.annoCtx)}return ne(n,[{key:"addPointAnnotation",value:function(e,t,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var s=this.helpers.getX1X2("x1",e),r=s.x,a=s.clipped,o=(s=this.helpers.getY1Y2("y1",e)).yP,l=s.clipped;if(D.isNumber(r)&&!l&&!a){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,o+e.marker.offsetY,c);t.appendChild(u.node);var h=e.label.text?e.label.text:"",d=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:o+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(d.attr({rel:i}),t.appendChild(d.node),e.customSVG.SVG){var f=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});f.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(o+e.customSVG.offsetY,")")}),f.node.innerHTML=e.customSVG.SVG,t.appendChild(f.node)}if(e.image.path){var m=e.image.width?e.image.width:20,g=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:r+e.image.offsetX-m/2,y:o+e.image.offsetY-g/2,width:m,height:g,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(s,r){e.addPointAnnotation(s,i.node,r)}),i}}]),n}(),fC={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Ys=function(){function n(){te(this,n),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return ne(n,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[fC],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,injectStyleSheet:!0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},parsing:{x:void 0,y:void 0},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,i){return t+i},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,i){return t+i},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",backgroundColor:void 0,borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),n}(),LN=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.graphics=new W(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new zh(this),this.xAxisAnnotations=new IN(this),this.yAxisAnnotations=new RN(this),this.pointsAnnotations=new MN(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return ne(n,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),s=this.pointsAnnotations.drawPointAnnotations(),r=e.config.chart.animations.enabled,a=[t,i,s],o=[i.node,t.node,s.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(a[l]),!r||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&o[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:o[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,i){e.addImage(t,i)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,i){e.addText(t,i)})}},{key:"addXaxisAnnotation",value:function(e,t,i){this.xAxisAnnotations.addXaxisAnnotation(e,t,i)}},{key:"addYaxisAnnotation",value:function(e,t,i){this.yAxisAnnotations.addYaxisAnnotation(e,t,i)}},{key:"addPointAnnotation",value:function(e,t,i){this.pointsAnnotations.addPointAnnotation(e,t,i)}},{key:"addText",value:function(e,t){var i=e.x,s=e.y,r=e.text,a=e.textAnchor,o=e.foreColor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,h=e.cssClass,d=e.backgroundColor,f=e.borderWidth,m=e.strokeDashArray,g=e.borderRadius,v=e.borderColor,x=e.appendTo,y=x===void 0?".apexcharts-svg":x,b=e.paddingLeft,_=b===void 0?4:b,k=e.paddingRight,P=k===void 0?4:k,A=e.paddingBottom,w=A===void 0?2:A,C=e.paddingTop,E=C===void 0?2:C,I=this.w,L=this.graphics.drawText({x:i,y:s,text:r,textAnchor:a||"start",fontSize:l||"12px",fontWeight:u||"regular",fontFamily:c||I.config.chart.fontFamily,foreColor:o||I.config.chart.foreColor,cssClass:h}),M=I.globals.dom.baseEl.querySelector(y);M&&M.appendChild(L.node);var F=L.bbox();if(r){var B=this.graphics.drawRect(F.x-_,F.y-E,F.width+_+P,F.height+w+E,g,d||"transparent",1,f,v,m);M.insertBefore(B.node,L.node)}}},{key:"addImage",value:function(e,t){var i=this.w,s=e.path,r=e.x,a=r===void 0?0:r,o=e.y,l=o===void 0?0:o,c=e.width,u=c===void 0?20:c,h=e.height,d=h===void 0?20:h,f=e.appendTo,m=f===void 0?".apexcharts-svg":f,g=i.globals.dom.Paper.image(s);g.size(u,d).move(a,l);var v=i.globals.dom.baseEl.querySelector(m);return v&&v.appendChild(g.node),g}},{key:"addXaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(e,t,i){return this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(e,t,i){return this.invertAxis===void 0&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(e){var t=e.params,i=e.pushToMemory,s=e.context,r=e.type,a=e.contextMethod,o=s,l=o.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),u=c.childNodes.length+1,h=new Ys,d=Object.assign({},r==="xaxis"?h.xAxisAnnotation:r==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),f=D.extend(d,t);switch(r){case"xaxis":this.addXaxisAnnotation(f,c,u);break;case"yaxis":this.addYaxisAnnotation(f,c,u);break;case"point":this.addPointAnnotation(f,c,u)}var m=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(u,"']")),g=this.helpers.addBackgroundToAnno(m,f);return g&&c.insertBefore(g.node,m),i&&l.globals.memory.methodsToExec.push({context:o,id:f.id?f.id:D.randomId(),method:a,label:"addAnnotation",params:t}),s}},{key:"clearAnnotations",value:function(e){for(var t=e.w,i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),s=t.globals.memory.methodsToExec.length-1;s>=0;s--)t.globals.memory.methodsToExec[s].label!=="addText"&&t.globals.memory.methodsToExec[s].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(s,1);i=D.listToArray(i),Array.prototype.forEach.call(i,function(r){for(;r.firstChild;)r.removeChild(r.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var i=e.w,s=i.globals.dom.baseEl.querySelectorAll(".".concat(t));s&&(i.globals.memory.methodsToExec.map(function(r,a){r.id===t&&i.globals.memory.methodsToExec.splice(a,1)}),Object.keys(i.config.annotations).forEach(function(r){var a=i.config.annotations[r];Array.isArray(a)&&(i.config.annotations[r]=a.filter(function(o){return o.id!==t}))}),Array.prototype.forEach.call(s,function(r){r.parentElement.removeChild(r)}))}}]),n}(),gf=function(n){var e,t=n.isTimeline,i=n.ctx,s=n.seriesIndex,r=n.dataPointIndex,a=n.y1,o=n.y2,l=n.w,c=l.globals.seriesRangeStart[s][r],u=l.globals.seriesRangeEnd[s][r],h=l.globals.labels[r],d=l.config.series[s].name?l.config.series[s].name:"",f=l.globals.ttKeyFormatter,m=l.config.tooltip.y.title.formatter,g={w:l,seriesIndex:s,dataPointIndex:r,start:c,end:u};typeof m=="function"&&(d=m(d,g)),(e=l.config.series[s].data[r])!==null&&e!==void 0&&e.x&&(h=l.config.series[s].data[r].x),t||l.config.xaxis.type==="datetime"&&(h=new Zl(i).xLabelFormat(l.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new Dt(i).formatDate,w:l})),typeof f=="function"&&(h=f(h,g)),Number.isFinite(a)&&Number.isFinite(o)&&(c=a,u=o);var v="",x="",y=l.globals.colors[s];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var b=new Dt(i);v=b.formatDate(b.getDate(c),l.config.tooltip.x.format),x=b.formatDate(b.getDate(u),l.config.tooltip.x.format)}else v=c,x=u;else v=l.config.tooltip.x.formatter(c),x=l.config.tooltip.x.formatter(u);return{start:c,end:u,startVal:v,endVal:x,ylabel:h,color:y,seriesName:d}},mf=function(n){var e=n.color,t=n.seriesName,i=n.ylabel,s=n.start,r=n.end,a=n.seriesIndex,o=n.dataPointIndex,l=n.ctx.tooltip.tooltipLabels.getFormatters(a);s=l.yLbFormatter(s),r=l.yLbFormatter(r);var c=l.yLbFormatter(n.w.globals.series[a][o]),u=`<span class="value start-value">
  `.concat(s,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(r,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+i+": </span> "+(n.w.globals.comboCharts?n.w.config.series[a].type==="rangeArea"||n.w.config.series[a].type==="rangeBar"?u:"<span>".concat(c,"</span>"):u)+" </div></div>"},kl=function(){function n(e){te(this,n),this.opts=e}return ne(n,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),D.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var i=t.w.config.series[t.seriesIndex].name;return e!==null?i+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Z(Z({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,s=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,i,s,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var i=t.seriesIndex,s=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,i,s,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var i=t.seriesIndex,s=t.dataPointIndex,r=t.w,a=function(){var o=r.globals.seriesRangeStart[i][s];return r.globals.seriesRangeEnd[i][s]-o};return r.globals.comboCharts?r.config.series[i].type==="rangeBar"||r.config.series[i].type==="rangeArea"?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var i=gf(Z(Z({},t),{},{isTimeline:!0})),s=i.color,r=i.seriesName,a=i.ylabel,o=i.startVal,l=i.endVal;return mf(Z(Z({},t),{},{color:s,seriesName:r,ylabel:a,start:o,end:l}))}(e):function(t){var i=gf(t),s=i.color,r=i.seriesName,a=i.ylabel,o=i.start,l=i.end;return mf(Z(Z({},t),{},{color:s,seriesName:r,ylabel:a,start:o,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,i;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(i=e.plotOptions.bar)!==null&&i!==void 0&&i.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var i=gf(t),s=i.color,r=i.seriesName,a=i.ylabel,o=i.start,l=i.end;return mf(Z(Z({},t),{},{color:s,seriesName:r,ylabel:a,start:o,end:l}))}(e)}}}}},{key:"brush",value:function(e){return D.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(i,s){e.yaxis[s].min=0,e.yaxis[s].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(i){return typeof i=="number"&&i?i.toFixed(0)+"%":i}),e}},{key:"stackedBars",value:function(){var e=this.bar();return Z(Z({},e),{},{plotOptions:Z(Z({},e.plotOptions),{},{bar:Z(Z({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,i){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(a){return D.isNumber(a)?Math.floor(a):a};var s=e.xaxis.labels.formatter,r=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return i&&i.length&&(r=i.map(function(a){return Array.isArray(a)?a:String(a)})),r&&r.length&&(e.xaxis.labels.formatter=function(a){return D.isNumber(a)?s(r[Math.floor(a)-1]):s(a)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,i,s,r){var a=e.globals.seriesCandleO[t][i],o=e.globals.seriesCandleH[t][i],l=e.globals.seriesCandleM[t][i],c=e.globals.seriesCandleL[t][i],u=e.globals.seriesCandleC[t][i];return e.config.series[t].type&&e.config.series[t].type!==r?`<div class="apexcharts-custom-tooltip">
          `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][i],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(s[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(s[1],': <span class="value">')+o+"</span></div>"+(l?"<div>".concat(s[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(s[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(s[4],': <span class="value">')+u+"</span></div></div>"}}]),n}(),Cl=function(){function n(e){te(this,n),this.opts=e}return ne(n,[{key:"init",value:function(e){var t=e.responsiveOverride,i=this.opts,s=new Ys,r=new kl(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var a=s.init(),o={};if(i&&sn(i)==="object"){var l,c,u,h,d,f,m,g,v,x,y={};y=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)!==-1?r[i.chart.type]():r.line(),(l=i.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(y=r.funnel()),i.chart.stacked&&i.chart.type==="bar"&&(y=r.stackedBars()),(u=i.chart.brush)!==null&&u!==void 0&&u.enabled&&(y=r.brush(y)),(h=i.plotOptions)!==null&&h!==void 0&&(d=h.line)!==null&&d!==void 0&&d.isSlopeChart&&(y=r.slope()),i.chart.stacked&&i.chart.stackType==="100%"&&(i=r.stacked100(i)),(f=i.plotOptions)!==null&&f!==void 0&&(m=f.bar)!==null&&m!==void 0&&m.isDumbbell&&(i=r.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},t||(i.xaxis.convertedCatToNumeric=!1),((g=(i=this.checkForCatToNumericXAxis(this.chartType,y,i)).chart.sparkline)!==null&&g!==void 0&&g.enabled||(v=window.Apex.chart)!==null&&v!==void 0&&(x=v.sparkline)!==null&&x!==void 0&&x.enabled)&&(y=r.sparkline(y)),o=D.extend(a,y)}var b=D.extend(o,window.Apex);return a=D.extend(b,i),a=this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,t,i){var s,r,a=new kl(i),o=(e==="bar"||e==="boxPlot")&&((s=i.plotOptions)===null||s===void 0||(r=s.bar)===null||r===void 0?void 0:r.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=i.xaxis.type!=="datetime"&&i.xaxis.type!=="numeric",u=i.xaxis.tickPlacement?i.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return o||l||!c||u==="between"||(i=a.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(e,t){var i=new Ys;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=D.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[D.extend(i.yAxis,e.yaxis)]:e.yaxis=D.extendArray(e.yaxis,i.yAxis);var s=!1;e.yaxis.forEach(function(a){a.logarithmic&&(s=!0)});var r=e.series;return t&&!r&&(r=t.config.series),s&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map(function(a,o){if(a.name||(r[o].name="series-".concat(o+1)),e.yaxis[o])return e.yaxis[o].seriesName=r[o].name,e.yaxis[o];var l=D.extend(i.yAxis,e.yaxis[0]);return l.show=!1,l})),s&&r.length>1&&r.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Ys;return e.annotations.yaxis=D.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Ys;return e.annotations.xaxis=D.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Ys;return e.annotations.points=D.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),n}(),pC=function(){function n(){te(this,n)}return ne(n,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.dataWasParsed=!1,e.originalSeries=null,e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=D.extend({},e),t.initialSeries=D.clone(e.series),t.lastXAxis=D.clone(t.initialConfig.xaxis),t.lastYAxis=D.clone(t.initialConfig.yaxis),t}}]),n}(),NN=function(){function n(e){te(this,n),this.opts=e}return ne(n,[{key:"init",value:function(){var e=new Cl(this.opts).init({responsiveOverride:!1});return{config:e,globals:new pC().init(e)}}}]),n}(),ni=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return ne(n,[{key:"clippedImgArea",value:function(e){var t=this.w,i=t.config,s=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),a=s>r?s:r,o=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?i.fill.image.width!==void 0&&i.fill.image.height!==void 0?(l=i.fill.image.width+1,c=i.fill.image.height):(l=a+1,c=a):(l=e.width,c=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");W.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var h=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",o),W.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),h.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,i=t.config.chart.type;return(i==="bar"||i==="rangeBar")&&t.config.plotOptions.bar.distributed||i==="heatmap"||i==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var i,s=this.w,r=null,a=null,o=To(e);try{for(o.s();!(i=o.n()).done;){var l=i.value;l>=t.threshold?(r===null||l>r)&&(r=l):(a===null||l<a)&&(a=l)}}catch(h){o.e(h)}finally{o.f()}r===null&&(r=t.threshold),a===null&&(a=t.threshold);var c=r-t.threshold+(t.threshold-a);c===0&&(c=1);var u=100-(t.threshold-a)/c*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:s.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:s.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,i,s,r=this.w;this.opts=e;var a,o,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];r.globals.seriesColors[this.seriesIndex]!==void 0&&(h=r.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:r}));var d,f,m,g=e.fillType?e.fillType:this.getFillType(this.seriesIndex),v=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,x=g==="gradient"||u;e.color&&(h=e.color),(t=r.config.series[this.seriesIndex])!==null&&t!==void 0&&(i=t.data)!==null&&i!==void 0&&(s=i[e.dataPointIndex])!==null&&s!==void 0&&s.fillColor&&(h=(d=r.config.series[this.seriesIndex])===null||d===void 0||(f=d.data)===null||f===void 0||(m=f[e.dataPointIndex])===null||m===void 0?void 0:m.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var y=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?y=h:h.length<9&&(y=D.hexToRgba(h,v)):h.indexOf("rgba")>-1?v=D.getOpacityFromRGBA(h):y=D.hexToRgba(D.rgb2hex(h),v),e.opacity&&(v=e.opacity),g==="pattern"&&(o=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:o,fillColor:h,fillOpacity:v,defaultColor:y})),x){var b=Ct(c.fill.gradient.colorStops)||[],_=c.fill.gradient.type;u&&(b[this.seriesIndex]=this.computeColorStops(r.globals.series[this.seriesIndex],c.plotOptions.line.colors),_="vertical"),l=this.handleGradientFill({type:_,fillConfig:e.fillConfig,fillColor:h,fillOpacity:v,colorStops:b,i:this.seriesIndex})}if(g==="image"){var k=c.fill.image.src,P=e.patternID?e.patternID:"",A="pattern".concat(r.globals.cuid).concat(e.seriesNumber+1).concat(P);this.patternIDs.indexOf(A)===-1&&(this.clippedImgArea({opacity:v,image:Array.isArray(k)?e.seriesNumber<k.length?k[e.seriesNumber]:k[0]:k,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:A}),this.patternIDs.push(A)),a="url(#".concat(A,")")}else a=x?l:g==="pattern"?o:y;return e.solid&&(a=y),a}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,i=this.opts,s=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?s=e.globals.stroke.colors:s.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?s=e.globals.fill.colors:s.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?s=e.globals.stroke.colors:s.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?s=e.globals.fill.colors:s.push(e.globals.fill.colors),i.fillColors!==void 0&&(s=[],Array.isArray(i.fillColors)?s=i.fillColors.slice():s.push(i.fillColors)),s}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,i=e.patternFill,s=e.fillColor,r=e.fillOpacity,a=e.defaultColor,o=this.w.config.fill;t&&(o=t);var l=this.opts,c=new W(this.ctx),u=Array.isArray(o.pattern.strokeWidth)?o.pattern.strokeWidth[this.seriesIndex]:o.pattern.strokeWidth,h=s;return Array.isArray(o.pattern.style)?i=o.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(o.pattern.style[l.seriesNumber],o.pattern.width,o.pattern.height,h,u,r):a:i=c.drawPattern(o.pattern.style,o.pattern.width,o.pattern.height,h,u,r),i}},{key:"handleGradientFill",value:function(e){var t=e.type,i=e.fillColor,s=e.fillOpacity,r=e.fillConfig,a=e.colorStops,o=e.i,l=this.w.config.fill;r&&(l=Z(Z({},l),r));var c=this.opts,u=new W(this.ctx),h=new D;t=t||l.gradient.type;var d,f=i,m=l.gradient.opacityFrom===void 0?s:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[o]:l.gradient.opacityFrom;f.indexOf("rgba")>-1&&(m=D.getOpacityFromRGBA(f));var g=l.gradient.opacityTo===void 0?s:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[o]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)d=l.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?D.rgb2hex(i):i):h.shadeColor(parseFloat(l.gradient.shadeIntensity),i.indexOf("rgb")>-1?D.rgb2hex(i):i);else if(l.gradient.gradientToColors[c.seriesNumber]){var v=l.gradient.gradientToColors[c.seriesNumber];d=v,v.indexOf("rgba")>-1&&(g=D.getOpacityFromRGBA(v))}else d=i;if(l.gradient.gradientFrom&&(f=l.gradient.gradientFrom),l.gradient.gradientTo&&(d=l.gradient.gradientTo),l.gradient.inverseColors){var x=f;f=d,d=x}return f.indexOf("rgb")>-1&&(f=D.rgb2hex(f)),d.indexOf("rgb")>-1&&(d=D.rgb2hex(d)),u.drawGradient(t,f,d,m,g,c.size,l.gradient.stops,a,o)}}]),n}(),Fa=function(){function n(e,t){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(i){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,i=e.seriesIndex,s=e.j,r=e.pSize,a=e.alwaysDrawMarker,o=a!==void 0&&a,l=e.isVirtualPoint,c=l!==void 0&&l,u=this.w,h=i,d=t,f=null,m=new W(this.ctx),g=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(d.x))for(var v=0;v<d.x.length;v++){var x=void 0,y=s,b=!D.isNumber(d.y[v]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[h][s+1]!==null&&!c&&(b=!0),s===1&&v===0&&(y=0),s===1&&v===1&&(y=1);var _="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(_+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[i]>0:u.config.markers.size>0)||o||g){b||(_+=" w".concat(D.randomId()));var k=this.getMarkerConfig({cssClass:_,seriesIndex:i,dataPointIndex:y});u.config.series[h].data[y]&&(u.config.series[h].data[y].fillColor&&(k.pointFillColor=u.config.series[h].data[y].fillColor),u.config.series[h].data[y].strokeColor&&(k.pointStrokeColor=u.config.series[h].data[y].strokeColor)),r!==void 0&&(k.pSize=r),(d.x[v]<-u.globals.markers.largestSize||d.x[v]>u.globals.gridWidth+u.globals.markers.largestSize||d.y[v]<-u.globals.markers.largestSize||d.y[v]>u.globals.gridHeight+u.globals.markers.largestSize)&&(k.pSize=0),!b&&((u.globals.markers.size[i]>0||o||g)&&!f&&(f=m.group({class:o||g?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(x=m.drawMarker(d.x[v],d.y[v],k)).attr("rel",y),x.attr("j",y),x.attr("index",i),x.node.setAttribute("default-marker-size",k.pSize),new Vt(this.ctx).setSelectionFilter(x,i,y),this.addEvents(x),f&&f.add(x))}else u.globals.pointsArray[i]===void 0&&(u.globals.pointsArray[i]=[]),u.globals.pointsArray[i].push([d.x[v],d.y[v]])}return f}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,i=e.seriesIndex,s=e.dataPointIndex,r=s===void 0?null:s,a=e.radius,o=a===void 0?null:a,l=e.size,c=l===void 0?null:l,u=e.strokeWidth,h=u===void 0?null:u,d=this.w,f=this.getMarkerStyle(i),m=c===null?d.globals.markers.size[i]:c,g=d.config.markers;return r!==null&&g.discrete.length&&g.discrete.map(function(v){v.seriesIndex===i&&v.dataPointIndex===r&&(f.pointStrokeColor=v.strokeColor,f.pointFillColor=v.fillColor,m=v.size,f.pointShape=v.shape)}),{pSize:o===null?m:o,pRadius:o!==null?o:g.radius,pointStrokeWidth:h!==null?h:Array.isArray(g.strokeWidth)?g.strokeWidth[i]:g.strokeWidth,pointStrokeColor:f.pointStrokeColor,pointFillColor:f.pointFillColor,shape:f.pointShape||(Array.isArray(g.shape)?g.shape[i]:g.shape),class:t,pointStrokeOpacity:Array.isArray(g.strokeOpacity)?g.strokeOpacity[i]:g.strokeOpacity,pointStrokeDashArray:Array.isArray(g.strokeDashArray)?g.strokeDashArray[i]:g.strokeDashArray,pointFillOpacity:Array.isArray(g.fillOpacity)?g.fillOpacity[i]:g.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(e){var t=this.w,i=new W(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,i=t.globals.markers.colors,s=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(s)?s[e]:s,pointFillColor:Array.isArray(i)?i[e]:i}}}]),n}(),gC=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return ne(n,[{key:"draw",value:function(e,t,i){var s=this.w,r=new W(this.ctx),a=i.realIndex,o=i.pointsPos,l=i.zRatio,c=i.elParent,u=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(s.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(o.x))for(var h=0;h<o.x.length;h++){var d=t+1,f=!0;t===0&&h===0&&(d=0),t===0&&h===1&&(d=1);var m=s.globals.markers.size[a];if(l!==1/0){var g=s.config.plotOptions.bubble;m=s.globals.seriesZ[a][d],g.zScaling&&(m/=l),g.minBubbleRadius&&m<g.minBubbleRadius&&(m=g.minBubbleRadius),g.maxBubbleRadius&&m>g.maxBubbleRadius&&(m=g.maxBubbleRadius)}var v=o.x[h],x=o.y[h];if(m=m||0,x!==null&&s.globals.series[a][d]!==void 0||(f=!1),f){var y=this.drawPoint(v,x,m,a,d,t);u.add(y)}c.add(u)}}},{key:"drawPoint",value:function(e,t,i,s,r,a){var o=this.w,l=s,c=new Na(this.ctx),u=new Vt(this.ctx),h=new ni(this.ctx),d=new Fa(this.ctx),f=new W(this.ctx),m=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:r,radius:o.config.chart.type==="bubble"||o.globals.comboCharts&&o.config.series[s]&&o.config.series[s].type==="bubble"?i:null}),g=h.fillPath({seriesNumber:s,dataPointIndex:r,color:m.pointFillColor,patternUnits:"objectBoundingBox",value:o.globals.series[s][a]}),v=f.drawMarker(e,t,m);if(o.config.series[l].data[r]&&o.config.series[l].data[r].fillColor&&(g=o.config.series[l].data[r].fillColor),v.attr({fill:g}),o.config.chart.dropShadow.enabled){var x=o.config.chart.dropShadow;u.dropShadow(v,x,s)}if(!this.initialAnim||o.globals.dataChanged||o.globals.resized)o.globals.animationEnded=!0;else{var y=o.config.chart.animations.speed;c.animateMarker(v,y,o.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(v)},100)})}return v.attr({rel:r,j:r,index:s,"default-marker-size":m.pSize}),u.setSelectionFilter(v,s,r),d.addEvents(v),v.node.classList.add("apexcharts-marker"),v}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),n}(),wa=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"dataLabelsCorrection",value:function(e,t,i,s,r,a,o){var l=this.w,c=!1,u=new W(this.ctx).getTextRects(i,o),h=u.width,d=u.height;t<0&&(t=0),t>l.globals.gridHeight+d&&(t=l.globals.gridHeight+d/2),l.globals.dataLabelsRects[s]===void 0&&(l.globals.dataLabelsRects[s]=[]),l.globals.dataLabelsRects[s].push({x:e,y:t,width:h,height:d});var f=l.globals.dataLabelsRects[s].length-2,m=l.globals.lastDrawnDataLabelsIndexes[s]!==void 0?l.globals.lastDrawnDataLabelsIndexes[s][l.globals.lastDrawnDataLabelsIndexes[s].length-1]:0;if(l.globals.dataLabelsRects[s][f]!==void 0){var g=l.globals.dataLabelsRects[s][m];(e>g.x+g.width||t>g.y+g.height||t+d<g.y||e+h<g.x)&&(c=!0)}return(r===0||a)&&(c=!0),{x:e,y:t,textRects:u,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var t=this,i=e.type,s=e.pos,r=e.i,a=e.j,o=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,u=this.w,h=new W(this.ctx),d=u.config.dataLabels,f=0,m=0,g=a,v=null;if(u.globals.collapsedSeriesIndices.indexOf(r)!==-1||!d.enabled||!Array.isArray(s.x))return v;v=h.group({class:"apexcharts-data-labels"});for(var x=0;x<s.x.length;x++)if(f=s.x[x]+d.offsetX,m=s.y[x]+d.offsetY+c,!isNaN(f)){a===1&&x===0&&(g=0),a===1&&x===1&&(g=1);var y=u.globals.series[r][g];i==="rangeArea"&&(y=o?u.globals.seriesRangeStart[r][g]:u.globals.seriesRangeEnd[r][g]);var b="",_=function(P){return u.config.dataLabels.formatter(P,{ctx:t.ctx,seriesIndex:r,dataPointIndex:g,w:u})};u.config.chart.type==="bubble"?(b=_(y=u.globals.seriesZ[r][g]),m=s.y[x],m=new gC(this.ctx).centerTextInBubble(m,r,g).y):y!==void 0&&(b=_(y));var k=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(k=g===0?"end":g===u.config.series[r].data.length-1?"start":"middle"),this.plotDataLabelsText({x:f,y:m,text:b,i:r,j:g,parent:v,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:k})}return v}},{key:"plotDataLabelsText",value:function(e){var t=this.w,i=new W(this.ctx),s=e.x,r=e.y,a=e.i,o=e.j,l=e.text,c=e.textAnchor,u=e.fontSize,h=e.parent,d=e.dataLabelsConfig,f=e.color,m=e.alwaysDrawDataLabel,g=e.offsetCorrection,v=e.className,x=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)return x;var y={x:s,y:r,drawnextLabel:!0,textRects:null};g&&(y=this.dataLabelsCorrection(s,r,l,a,o,m,parseInt(d.style.fontSize,10))),t.globals.zoomed||(s=y.x,r=y.y),y.textRects&&(s<-20-y.textRects.width||s>t.globals.gridWidth+y.textRects.width+30)&&(l="");var b=t.globals.dataLabels.style.colors[a];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(b=t.globals.dataLabels.style.colors[o]),typeof b=="function"&&(b=b({series:t.globals.series,seriesIndex:a,dataPointIndex:o,w:t})),f&&(b=f);var _=d.offsetX,k=d.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(_=0,k=0),t.globals.isSlopeChart&&(o!==0&&(_=-2*d.offsetX+5),o!==0&&o!==t.config.series[a].data.length-1&&(_=0)),y.drawnextLabel){if(c==="middle"&&s===t.globals.gridWidth&&(c="end"),(x=i.drawText({width:100,height:parseInt(d.style.fontSize,10),x:s+_,y:r+k,foreColor:b,textAnchor:c||d.textAnchor,text:l,fontSize:u||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"})).attr({class:v||"apexcharts-datalabel",cx:s,cy:r}),d.dropShadow.enabled){var P=d.dropShadow;new Vt(this.ctx).dropShadow(x,P)}h.add(x),t.globals.lastDrawnDataLabelsIndexes[a]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(o)}return x}},{key:"addBackgroundToDataLabel",value:function(e,t){var i=this.w,s=i.config.dataLabels.background,r=s.padding,a=s.padding/2,o=t.width,l=t.height,c=new W(this.ctx).drawRect(t.x-r,t.y-a/2,o+2*r,l+a,s.borderRadius,i.config.chart.background!=="transparent"&&i.config.chart.background?i.config.chart.background:"#fff",s.opacity,s.borderWidth,s.borderColor);return s.dropShadow.enabled&&new Vt(this.ctx).dropShadow(c,s.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<t.length;i++){var s=t[i],r=s.getBBox(),a=null;if(r.width&&r.height&&(a=this.addBackgroundToDataLabel(s,r)),a){s.parentNode.insertBefore(a.node,s);var o=e.config.dataLabels.background.backgroundColor||s.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?a.animate().attr({fill:o}):a.attr({fill:o}),s.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),s=0;s<t.length;s++)i&&i.insertBefore(t[s],i.nextSibling)}}]),n}(),mC=`.apexcharts-flip-y {
  transform: scaleY(-1) translateY(-100%);
  transform-origin: top;
  transform-box: fill-box;
}
.apexcharts-flip-x {
  transform: scaleX(-1);
  transform-origin: center;
  transform-box: fill-box;
}
.apexcharts-legend {
  display: flex;
  overflow: auto;
  padding: 0 10px;
}
.apexcharts-legend.apexcharts-legend-group-horizontal {
  flex-direction: column;
}
.apexcharts-legend-group {
  display: flex;
}
.apexcharts-legend-group-vertical {
  flex-direction: column-reverse;
}
.apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
  flex-wrap: wrap
}
.apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  flex-direction: column;
  bottom: 0;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
  justify-content: flex-start;
  align-items: flex-start;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
  justify-content: center;
  align-items: center;
}
.apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
  justify-content: flex-end;
  align-items: flex-end;
}
.apexcharts-legend-series {
  cursor: pointer;
  line-height: normal;
  display: flex;
  align-items: center;
}
.apexcharts-legend-text {
  position: relative;
  font-size: 14px;
}
.apexcharts-legend-text *, .apexcharts-legend-marker * {
  pointer-events: none;
}
.apexcharts-legend-marker {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-right: 1px;
}

.apexcharts-legend-series.apexcharts-no-click {
  cursor: auto;
}
.apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
  display: none !important;
}
.apexcharts-inactive-legend {
  opacity: 0.45;
} `,zn=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return ne(n,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(D.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),i=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(e,t){var i=this.w;function s(r){for(var a=0;a<r.length;a++)r[a].index===t&&e.node.classList.add("apexcharts-series-collapsed")}s(i.globals.collapsedSeries),s(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=this.w,r=D.clone(s.globals.initialSeries);s.globals.previousPaths=[],i?(s.globals.collapsedSeries=[],s.globals.ancillaryCollapsedSeries=[],s.globals.collapsedSeriesIndices=[],s.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),s.config.series=r,e&&(t&&(s.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,s.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,i=0;i<e.length;i++)t.globals.collapsedSeriesIndices.indexOf(i)>-1&&(e[i].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,i=this.getSeriesByName(e),s=parseInt(i==null?void 0:i.getAttribute("data:realIndex"),10),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,o=null,l=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){a=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(s,"']")),o=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(s,"']"));var c=t.globals.seriesYAxisReverseMap[s];l=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"']"));else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(s+1,"'] path"));for(var u=0;u<r.length;u++)r[u].classList.add(this.legendInactiveClass);if(a)t.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),o!==null&&o.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var h=0;h<r.length;h++)r[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var i=this.w;t||(t=e.target);var s=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var r=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[r])}else if(e.type==="mouseout")for(var a=0;a<s.length;a++)s[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var i=this,s=this.w,r=s.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(c){for(var u=0;u<r.length;u++)r[u].classList[c](i.legendInactiveClass)};if(e.type==="mousemove"){var o=parseInt(t.getAttribute("rel"),10)-1;a("add");var l=s.config.plotOptions.heatmap.colorScale.ranges;(function(c,u){for(var h=0;h<r.length;h++){var d=Number(r[h].getAttribute("val"));d>=c.from&&(d<c.to||c.to===u&&d===u)&&r[h].classList.remove(i.legendInactiveClass)}})(l[o],l.reduce(function(c,u){return Math.max(c,u.to)},0))}else e.type==="mouseout"&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=this.w,s=0;if(i.config.series.length>1){for(var r=i.config.series.map(function(o,l){return o.data&&o.data.length>0&&i.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!i.globals.comboCharts||t.length===0||t.length&&t.indexOf(i.config.series[l].type)>-1)?l:-1}),a=e==="asc"?0:r.length-1;e==="asc"?a<r.length:a>=0;e==="asc"?a++:a--)if(r[a]!==-1){s=r[a];break}}return s}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(a,o,l){for(var c=a[o].childNodes,u={type:l,paths:[],realIndex:a[o].getAttribute("data:realIndex")},h=0;h<c.length;h++)if(c[h].hasAttribute("pathTo")){var d=c[h].getAttribute("pathTo");u.paths.push({d})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(a){for(var o,l=(o=a,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"))),c=0;c<l.length;c++)t(l,c,a)});var i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(i.length>0)for(var s=function(a){for(var o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(a,"'] rect")),l=[],c=function(h){var d=function(m){return o[h].getAttribute(m)},f={x:parseFloat(d("x")),y:parseFloat(d("y")),width:parseFloat(d("width")),height:parseFloat(d("height"))};l.push({rect:f,color:o[h].getAttribute("color")})},u=0;u<o.length;u++)c(u);e.globals.previousPaths.push(l)},r=0;r<i.length;r++)s(r);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,i=new W(this.ctx),s=e.globals.svgWidth/2,r=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(s=10,a="start"):t.align==="right"&&(s=e.globals.svgWidth-10,a="end"),t.verticalAlign==="top"?r=50:t.verticalAlign==="bottom"&&(r=e.globals.svgHeight-50),s+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var o=i.drawText({x:s,y:r,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(o)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,i=0;i<e.length;i++)if(e[i].length===0)for(var s=0;s<e[t.globals.maxValsInArrayIndex].length;s++)e[i].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,i=this.filteredSeriesX(),s=0;s<i.length-1;s++)if(i[s][0]!==i[s+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),n}(),gx=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new dt(this.ctx)}return ne(n,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new zn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new zn(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var i=this.w.config,s=this.w.globals,r=i.chart.type==="boxPlot"||i.series[t].type==="boxPlot",a=0;a<e[t].data.length;a++)if(e[t].data[a][1]!==void 0&&(Array.isArray(e[t].data[a][1])&&e[t].data[a][1].length===4&&!r?this.twoDSeries.push(D.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(D.parseNumber(e[t].data[a][4])):this.twoDSeries.push(D.parseNumber(e[t].data[a][1])),s.dataFormatXNumeric=!0),i.xaxis.type==="datetime"){var o=new Date(e[t].data[a][0]);o=new Date(o).getTime(),this.twoDSeriesX.push(o)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var l=0;l<e[t].data.length;l++)e[t].data[l][2]!==void 0&&(this.threeDSeries.push(e[t].data[l][2]),s.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var i=this.w.config,s=this.w.globals,r=new Dt(this.ctx),a=t;s.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var o=0;o<e[t].data.length;o++)e[t].data[o].y!==void 0&&(Array.isArray(e[t].data[o].y)?this.twoDSeries.push(D.parseNumber(e[t].data[o].y[e[t].data[o].y.length-1])):this.twoDSeries.push(D.parseNumber(e[t].data[o].y))),e[t].data[o].goals!==void 0&&Array.isArray(e[t].data[o].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[o].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var l=0;l<e[a].data.length;l++){var c=typeof e[a].data[l].x=="string",u=Array.isArray(e[a].data[l].x),h=!u&&!!r.isValidDate(e[a].data[l].x);if(c||h)if(c||i.xaxis.convertedCatToNumeric){var d=s.isBarHorizontal&&s.isRangeData;i.xaxis.type!=="datetime"||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x),isNaN(e[a].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[a].data[l].x=="string"||(s.isXNumeric=!0)):this.twoDSeriesX.push(r.parseDate(e[a].data[l].x))}else i.xaxis.type==="datetime"?this.twoDSeriesX.push(r.parseDate(e[a].data[l].x.toString())):(s.dataFormatXNumeric=!0,s.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[l].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[l].x)):(s.isXNumeric=!0,s.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[l].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var f=0;f<e[t].data.length;f++)this.threeDSeries.push(e[t].data[f].z);s.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleRangeDataFormat("xy",e,t)),i.seriesRangeStart[t]=s.start===void 0?[]:s.start,i.seriesRangeEnd[t]=s.end===void 0?[]:s.end,i.seriesRange[t]=s.rangeUniques,i.seriesRange.forEach(function(r,a){r&&r.forEach(function(o,l){o.y.forEach(function(c,u){for(var h=0;h<o.y.length;h++)if(u!==h){var d=c.y1,f=c.y2,m=o.y[h].y1;d<=o.y[h].y2&&m<=f&&(o.overlaps.indexOf(c.rangeName)<0&&o.overlaps.push(c.rangeName),o.overlaps.indexOf(o.y[h].rangeName)<0&&o.overlaps.push(o.y[h].rangeName))}})})}),s}},{key:"handleCandleStickBoxData",value:function(e,t){var i=this.w.globals,s={};return this.isFormat2DArray()?s=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(s=this.handleCandleStickBoxDataFormat("xy",e,t)),i.seriesCandleO[t]=s.o,i.seriesCandleH[t]=s.h,i.seriesCandleM[t]=s.m,i.seriesCandleL[t]=s.l,i.seriesCandleC[t]=s.c,s}},{key:"handleRangeDataFormat",value:function(e,t,i){var s=[],r=[],a=t[i].data.filter(function(u,h,d){return h===d.findIndex(function(f){return f.x===u.x})}).map(function(u,h){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var o=0;o<t[i].data.length;o++)Array.isArray(t[i].data[o])?(s.push(t[i].data[o][1][0]),r.push(t[i].data[o][1][1])):(s.push(t[i].data[o]),r.push(t[i].data[o]));else if(e==="xy")for(var l=function(u){var h=Array.isArray(t[i].data[u].y),d=D.randomId(),f=t[i].data[u].x,m={y1:h?t[i].data[u].y[0]:t[i].data[u].y,y2:h?t[i].data[u].y[1]:t[i].data[u].y,rangeName:d};t[i].data[u].rangeName=d;var g=a.findIndex(function(v){return v.x===f});a[g].y.push(m),s.push(m.y1),r.push(m.y2)},c=0;c<t[i].data.length;c++)l(c);return{start:s,end:r,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,i){var s=this.w,r=s.config.chart.type==="boxPlot"||s.config.series[i].type==="boxPlot",a=[],o=[],l=[],c=[],u=[];if(e==="array")if(r&&t[i].data[0].length===6||!r&&t[i].data[0].length===5)for(var h=0;h<t[i].data.length;h++)a.push(t[i].data[h][1]),o.push(t[i].data[h][2]),r?(l.push(t[i].data[h][3]),c.push(t[i].data[h][4]),u.push(t[i].data[h][5])):(c.push(t[i].data[h][3]),u.push(t[i].data[h][4]));else for(var d=0;d<t[i].data.length;d++)Array.isArray(t[i].data[d][1])&&(a.push(t[i].data[d][1][0]),o.push(t[i].data[d][1][1]),r?(l.push(t[i].data[d][1][2]),c.push(t[i].data[d][1][3]),u.push(t[i].data[d][1][4])):(c.push(t[i].data[d][1][2]),u.push(t[i].data[d][1][3])));else if(e==="xy")for(var f=0;f<t[i].data.length;f++)Array.isArray(t[i].data[f].y)&&(a.push(t[i].data[f].y[0]),o.push(t[i].data[f].y[1]),r?(l.push(t[i].data[f].y[2]),c.push(t[i].data[f].y[3]),u.push(t[i].data[f].y[4])):(c.push(t[i].data[f].y[2]),u.push(t[i].data[f].y[3])));return{o:a,h:o,m:l,l:c,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,s=this.w.config,r=this.w.globals,a=new Dt(i),o=s.labels.length>0?s.labels.slice():s.xaxis.categories.slice();r.isRangeBar=s.chart.type==="rangeBar"&&r.isBarHorizontal,r.hasXaxisGroups=s.xaxis.type==="category"&&s.xaxis.group.groups.length>0,r.hasXaxisGroups&&(r.groups=s.xaxis.group.groups),e.forEach(function(f,m){f.name!==void 0?r.seriesNames.push(f.name):r.seriesNames.push("series-"+parseInt(m+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=Ct(new Set(s.series.map(function(f){return f.group})));s.series.forEach(function(f,m){var g=c.indexOf(f.group);l[g]||(l[g]=[]),l[g].push(r.seriesNames[m])}),r.seriesGroups=l;for(var u=function(){for(var f=0;f<o.length;f++)if(typeof o[f]=="string"){if(!a.isValidDate(o[f]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(a.parseDate(o[f]))}else t.twoDSeriesX.push(o[f])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(s.chart.type!=="rangeBar"&&s.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(r.isRangeData=!0,this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),s.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&s.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{s.xaxis.type==="datetime"?(r.isXNumeric=!0,u(),r.seriesX.push(this.twoDSeriesX)):s.xaxis.type==="numeric"&&(r.isXNumeric=!0,o.length>0&&(this.twoDSeriesX=o,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var d=e[h].data.map(function(f){return D.parseNumber(f)});r.series.push(d)}r.seriesZ.push(this.threeDSeries),e[h].color!==void 0?r.seriesColors.push(e[h].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,i=this.w.config,s=Array.isArray(e)&&e.every(function(u){return typeof u=="number"})&&i.labels.length>0,r=Array.isArray(e)&&e.some(function(u){return u&&sn(u)==="object"&&u.data||u&&sn(u)==="object"&&u.parsing});if(s&&r&&console.warn("ApexCharts: Both old format (numeric series + labels) and new format (series objects with data/parsing) detected. Using old format for backward compatibility."),s){t.series=e.slice(),t.seriesNames=i.labels.slice();for(var a=0;a<t.series.length;a++)t.seriesNames[a]===void 0&&t.seriesNames.push("series-"+(a+1));return this.w}if(Array.isArray(e)&&e.every(function(u){return typeof u=="number"})){t.series=e.slice(),t.seriesNames=[];for(var o=0;o<t.series.length;o++)t.seriesNames.push(i.labels[o]||"series-".concat(o+1));return this.w}var l=this.extractPieDataFromSeries(e);t.series=l.values,t.seriesNames=l.labels,i.chart.type==="radialBar"&&(t.series=t.series.map(function(u){var h=D.parseNumber(u);return h>100&&console.warn("ApexCharts: RadialBar value ".concat(h," > 100, consider using percentage values (0-100)")),h}));for(var c=0;c<t.series.length;c++)t.seriesNames[c]===void 0&&t.seriesNames.push("series-"+(c+1));return this.w}},{key:"resetParsingFlags",value:function(){var e=this.w;e.globals.dataWasParsed=!1,e.globals.originalSeries=null,e.config.series&&e.config.series.forEach(function(t){t.__apexParsed&&delete t.__apexParsed})}},{key:"extractPieDataFromSeries",value:function(e){var t=[],i=[];if(!Array.isArray(e))return console.warn("ApexCharts: Expected array for series data"),{values:[],labels:[]};if(e.length===0)return console.warn("ApexCharts: Empty series array"),{values:[],labels:[]};var s=e[0];return sn(s)==="object"&&s!==null&&s.data?(this.extractPieDataFromSeriesObjects(e,t,i),{values:t,labels:i}):(console.warn("ApexCharts: Unsupported series format for pie/donut/radialBar. Expected series objects with data property."),{values:[],labels:[]})}},{key:"extractPieDataFromSeriesObjects",value:function(e,t,i){e.forEach(function(s,r){s.data&&Array.isArray(s.data)?s.data.forEach(function(a){sn(a)==="object"&&a!==null?a.x!==void 0&&a.y!==void 0?(i.push(String(a.x)),t.push(D.parseNumber(a.y))):console.warn("ApexCharts: Invalid data point format for pie chart. Expected {x, y} format:",a):console.warn("ApexCharts: Expected object data point, got:",sn(a))}):console.warn("ApexCharts: Series ".concat(r," has no valid data array"))})}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,i=this.w.globals;t.xaxis.categories.length>0?i.labels=t.xaxis.categories:t.labels.length>0?i.labels=t.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map(function(s){s.forEach(function(r){i.labels.indexOf(r.x)<0&&r.x&&i.labels.push(r.x)})}),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new kl(t).convertCatToNumericXaxis(t,this.ctx,i.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,i=this.w.config,s=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=i.series.map(function(h,d){return h.data.filter(function(f,m,g){return g.findIndex(function(v){return v.x===f.x})===m})}),a=r.reduce(function(h,d,f,m){return m[h].length>d.length?h:f},0),o=0;o<r[a].length;o++)s.push(o+1);else for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)s.push(l+1);t.seriesX=[];for(var c=0;c<e.length;c++)t.seriesX.push(s);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(s.length===0){s=t.axisCharts?[]:t.series.map(function(h,d){return d+1});for(var u=0;u<e.length;u++)t.seriesX.push(s)}t.labels=s,i.xaxis.convertedCatToNumeric&&(t.categoryLabels=s.map(function(h){return i.xaxis.labels.formatter(h)})),t.noLabelsProvided=!0}},{key:"parseRawDataIfNeeded",value:function(e){var t=this,i=this.w.config,s=this.w.globals,r=i.parsing;if(s.dataWasParsed||!r&&!e.some(function(o){return o.parsing}))return e;var a=e.map(function(o,l){var c,u,h;if(!o.data||!Array.isArray(o.data)||o.data.length===0)return o;var d={x:((c=o.parsing)===null||c===void 0?void 0:c.x)||(r==null?void 0:r.x),y:((u=o.parsing)===null||u===void 0?void 0:u.y)||(r==null?void 0:r.y),z:((h=o.parsing)===null||h===void 0?void 0:h.z)||(r==null?void 0:r.z)};if(!d.x&&!d.y)return o;var f=o.data[0];if(sn(f)==="object"&&f!==null&&(f.hasOwnProperty("x")||f.hasOwnProperty("y"))||Array.isArray(f))return o;if(!d.x||!d.y||Array.isArray(d.y)&&d.y.length===0)return console.warn("ApexCharts: Series ".concat(l," has parsing config but missing x or y field specification")),o;var m=o.data.map(function(g,v){if(sn(g)!=="object"||g===null)return console.warn("ApexCharts: Series ".concat(l,", data point ").concat(v," is not an object, skipping parsing")),g;var x,y=t.getNestedValue(g,d.x),b=void 0;if(Array.isArray(d.y)){var _=d.y.map(function(A){return t.getNestedValue(g,A)});x=t.w.config.chart.type==="bubble"&&_.length===2?_[0]:_}else x=t.getNestedValue(g,d.y);d.z&&(b=t.getNestedValue(g,d.z)),y===void 0&&console.warn("ApexCharts: Series ".concat(l,", data point ").concat(v," missing field '").concat(d.x,"'")),x===void 0&&console.warn("ApexCharts: Series ".concat(l,", data point ").concat(v," missing field '").concat(d.y,"'"));var k={x:y,y:x};if(t.w.config.chart.type==="bubble"&&Array.isArray(d.y)&&d.y.length===2){var P=t.getNestedValue(g,d.y[1]);P!==void 0&&(k.z=P)}return b!==void 0&&(k.z=b),k});return Z(Z({},o),{},{data:m,__apexParsed:!0})});return s.dataWasParsed=!0,s.originalSeries||(s.originalSeries=D.clone(e)),a}},{key:"getNestedValue",value:function(e,t){if(e&&sn(e)==="object"&&t){if(t.indexOf(".")===-1)return e[t];for(var i=t.split("."),s=e,r=0;r<i.length;r++){if(s==null||sn(s)!=="object")return;s=s[i[r]]}return s}}},{key:"parseData",value:function(e){var t=this.w,i=t.config,s=t.globals;if(e=this.parseRawDataIfNeeded(e),i.series=e,s.initialSeries=D.clone(e),this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),s.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),i.chart.stacked){var r=new zn(this.ctx);s.series=r.setNullSeriesToZeroValues(s.series)}this.coreUtils.getSeriesTotals(),s.axisCharts&&(s.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),s.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),s.dataFormatXNumeric||s.isXNumeric&&(i.xaxis.type!=="numeric"||i.labels.length!==0||i.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(s.labels),o=0;o<a.length;o++)if(Array.isArray(a[o])){s.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(i,s){var r=0;i.forEach(function(a){e.globals.collapsedSeriesIndices.indexOf(a)!==-1&&r++}),r>0&&r==i.length&&t.push(s)}),e.globals.ignoreYAxisIndexes=t.map(function(i){return i})}}]),n}(),Uo=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var i=parseFloat(e.getAttributeNS(null,"width")),s=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",i*t),e.setAttributeNS(null,"height",s*t),e.setAttributeNS(null,"viewBox","0 0 "+i+" "+s)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(i){var s=t.w,r=e||s.config.chart.toolbar.export.scale||s.config.chart.toolbar.export.width/s.globals.svgWidth;r||(r=1);var a=s.globals.svgWidth*r,o=s.globals.svgHeight*r,l=s.globals.dom.elWrap.cloneNode(!0);l.style.width=a+"px",l.style.height=o+"px";var c=new XMLSerializer().serializeToString(l),u=`
        .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
          display: none;
        }
      `;s.config.legend.show&&s.globals.dom.elLegendWrap&&s.globals.dom.elLegendWrap.children.length>0&&(u+=mC);var h=`
        <svg xmlns="http://www.w3.org/2000/svg"
          version="1.1"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          class="apexcharts-svg"
          xmlns:data="ApexChartsNS"
          transform="translate(0, 0)"
          width="`.concat(s.globals.svgWidth,'px" height="').concat(s.globals.svgHeight,`px">
          <foreignObject width="100%" height="100%">
            <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(a,"px; height:").concat(o,`px;">
            <style type="text/css">
              `).concat(u,`
            </style>
              `).concat(c,`
            </div>
          </foreignObject>
        </svg>
      `),d=t.svgStringToNode(h);r!==1&&t.scaleSvgNode(d,r),t.convertImagesToBase64(d).then(function(){h=new XMLSerializer().serializeToString(d),i(h.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,i=e.getElementsByTagName("image"),s=Array.from(i).map(function(r){var a=r.getAttributeNS("http://www.w3.org/1999/xlink","href");return a&&!a.startsWith("data:")?t.getBase64FromUrl(a).then(function(o){r.setAttributeNS("http://www.w3.org/1999/xlink","href",o)}).catch(function(o){console.error("Error converting image to base64:",o)}):Promise.resolve()});return Promise.all(s)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,i){var s=new Image;s.crossOrigin="Anonymous",s.onload=function(){var r=document.createElement("canvas");r.width=s.width,r.height=s.height,r.getContext("2d").drawImage(s,0,0),t(r.toDataURL())},s.onerror=i,s.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(i){var s=new Blob([i],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(s))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(i){var s=t.w,r=e?e.scale||e.width/s.globals.svgWidth:1,a=document.createElement("canvas");a.width=s.globals.svgWidth*r,a.height=parseInt(s.globals.dom.elWrap.style.height,10)*r;var o=s.config.chart.background!=="transparent"&&s.config.chart.background?s.config.chart.background:"#fff",l=a.getContext("2d");l.fillStyle=o,l.fillRect(0,0,a.width*r,a.height*r),t.getSvgString(r).then(function(c){var u="data:image/svg+xml,"+encodeURIComponent(c),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(l.drawImage(h,0,0),a.msToBlob){var d=a.msToBlob();i({blob:d})}else{var f=a.toDataURL("image/png");i({imgURI:f})}},h.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width,s=t?{scale:t}:i?{width:i}:void 0;this.dataURI(s).then(function(r){var a=r.imgURI,o=r.blob;o?navigator.msSaveOrOpenBlob(o,e.w.globals.chartID+".png"):e.triggerDownload(a,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,i=e.series,s=e.fileName,r=e.columnDelimiter,a=r===void 0?",":r,o=e.lineDelimiter,l=o===void 0?`
`:o,c=this.w;i||(i=c.config.series);var u=[],h=[],d="",f=c.globals.series.map(function(k,P){return c.globals.collapsedSeriesIndices.indexOf(P)===-1?k:[]}),m=function(k){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(k):c.config.xaxis.type==="datetime"&&String(k).length>=10?new Date(k).toDateString():D.isNumber(k)?k:k.split(a).join("")},g=function(k){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(k):k},v=Math.max.apply(Math,Ct(i.map(function(k){return k.data?k.data.length:0}))),x=new gx(this.ctx),y=new As(this.ctx),b=function(k){var P="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var A=c.globals.yLabelFormatters[0],w=new zn(t.ctx).getActiveConfigSeriesIndex();P=A(c.globals.labels[k],{seriesIndex:w,dataPointIndex:k,w:c})}else P=y.getLabel(c.globals.labels,c.globals.timescaleLabels,0,k).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?P=c.config.xaxis.categories[k]:c.config.labels.length&&(P=c.config.labels[k]))}else P=c.config.labels[k];return P===null?"nullvalue":(Array.isArray(P)&&(P=P.join(" ")),D.isNumber(P)?P:P.split(a).join(""))},_=function(k,P){if(u.length&&P===0&&h.push(u.join(a)),k.data){k.data=k.data.length&&k.data||Ct(Array(v)).map(function(){return""});for(var A=0;A<k.data.length;A++){u=[];var w=b(A);if(w!=="nullvalue"){if(w||(x.isFormatXY()?w=i[P].data[A].x:x.isFormat2DArray()&&(w=i[P].data[A]?i[P].data[A][0]:"")),P===0){u.push(m(w));for(var C=0;C<c.globals.series.length;C++){var E,I=x.isFormatXY()?(E=i[C].data[A])===null||E===void 0?void 0:E.y:f[C][A];u.push(g(I))}}(c.config.chart.type==="candlestick"||k.type&&k.type==="candlestick")&&(u.pop(),u.push(c.globals.seriesCandleO[P][A]),u.push(c.globals.seriesCandleH[P][A]),u.push(c.globals.seriesCandleL[P][A]),u.push(c.globals.seriesCandleC[P][A])),(c.config.chart.type==="boxPlot"||k.type&&k.type==="boxPlot")&&(u.pop(),u.push(c.globals.seriesCandleO[P][A]),u.push(c.globals.seriesCandleH[P][A]),u.push(c.globals.seriesCandleM[P][A]),u.push(c.globals.seriesCandleL[P][A]),u.push(c.globals.seriesCandleC[P][A])),c.config.chart.type==="rangeBar"&&(u.pop(),u.push(c.globals.seriesRangeStart[P][A]),u.push(c.globals.seriesRangeEnd[P][A])),u.length&&h.push(u.join(a))}}}};u.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):c.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):c.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):i.map(function(k,P){var A=(k.name?k.name:"series-".concat(P))+"";c.globals.axisCharts&&u.push(A.split(a).join("")?A.split(a).join(""):"series-".concat(P))}),c.globals.axisCharts||(u.push(c.config.chart.toolbar.export.csv.headerValue),h.push(u.join(a))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?i.map(function(k,P){c.globals.axisCharts?_(k,P):((u=[]).push(m(c.globals.labels[P])),u.push(g(f[P])),h.push(u.join(a)))}):function(){var k=new Set,P={};i.forEach(function(A,w){A==null||A.data.forEach(function(C){var E,I;if(x.isFormatXY())E=C.x,I=C.y;else{if(!x.isFormat2DArray())return;E=C[0],I=C[1]}P[E]||(P[E]=Array(i.length).fill("")),P[E][w]=g(I),k.add(E)})}),u.length&&h.push(u.join(a)),Array.from(k).sort().forEach(function(A){h.push([m(A),P[A].join(a)])})}(),d+=h.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+d),s||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,i){var s=document.createElement("a");s.href=e,s.download=(t||this.w.globals.chartID)+i,document.body.appendChild(s),s.click(),document.body.removeChild(s)}}]),n}(),_l=function(){function n(e,t){te(this,n),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.axesUtils=new As(e),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],i.config.xaxis.position==="top"?this.offY=0:this.offY=i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),String(this.xaxisBorderWidth).indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return ne(n,[{key:"drawXaxis",value:function(){var e=this.w,t=new W(this.ctx),i=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),s=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});i.add(s);for(var r=[],a=0;a<this.xaxisLabels.length;a++)r.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,s,r,e.globals.isXNumeric,function(m,g){return g}),e.globals.hasXaxisGroups){var o=e.globals.groups;r=[];for(var l=0;l<o.length;l++)r.push(o[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,s,r,!1,function(m,g){return o[m].cols*g},c)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),h=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),i.add(u)}if(e.config.xaxis.axisBorder.show){var d=e.globals.barPadForNumericAxis,f=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(f):i.add(f)}return i}},{key:"drawXAxisLabelAndGroup",value:function(e,t,i,s,r,a){var o,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],d=this.w,f=c.xaxisFontSize||this.xaxisFontSize,m=c.xaxisFontFamily||this.xaxisFontFamily,g=c.xaxisForeColors||this.xaxisForeColors,v=c.fontWeight||d.config.xaxis.labels.style.fontWeight,x=c.cssClass||d.config.xaxis.labels.style.cssClass,y=d.globals.padHorizontal,b=s.length,_=d.config.xaxis.type==="category"?d.globals.dataPoints:b;if(_===0&&b>_&&(_=b),r){var k=Math.max(Number(d.config.xaxis.tickAmount)||1,_>1?_-1:_);o=d.globals.gridWidth/Math.min(k,b-1),y=y+a(0,o)/2+d.config.xaxis.labels.offsetX}else o=d.globals.gridWidth/_,y=y+a(0,o)+d.config.xaxis.labels.offsetX;for(var P=function(w){var C=y-a(w,o)/2+d.config.xaxis.labels.offsetX;w===0&&b===1&&o/2===y&&_===1&&(C=d.globals.gridWidth/2);var E=l.axesUtils.getLabel(s,d.globals.timescaleLabels,C,w,u,f,e),I=28;if(d.globals.rotateXLabels&&e&&(I=22),d.config.xaxis.title.text&&d.config.xaxis.position==="top"&&(I+=parseFloat(d.config.xaxis.title.style.fontSize)+2),e||(I=I+parseFloat(f)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),E=d.config.xaxis.tickAmount!==void 0&&d.config.xaxis.tickAmount!=="dataPoints"&&d.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(w,E,b):l.axesUtils.checkForOverflowingLabels(w,E,b,u,h),d.config.xaxis.labels.show){var L=t.drawText({x:E.x,y:l.offY+d.config.xaxis.labels.offsetY+I-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:E.text,textAnchor:"middle",fontWeight:E.isBold?600:v,fontSize:f,fontFamily:m,foreColor:Array.isArray(g)?e&&d.config.xaxis.convertedCatToNumeric?g[d.globals.minX+w-1]:g[w]:g,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+x});if(i.add(L),L.on("click",function(F){if(typeof d.config.chart.events.xAxisLabelClick=="function"){var B=Object.assign({},d,{labelIndex:w});d.config.chart.events.xAxisLabelClick(F,l.ctx,B)}}),e){var M=document.createElementNS(d.globals.SVGNS,"title");M.textContent=Array.isArray(E.text)?E.text.join(" "):E.text,L.node.appendChild(M),E.text!==""&&(u.push(E.text),h.push(E))}}w<b-1&&(y+=a(w+1,o))},A=0;A<=b-1;A++)P(A)}},{key:"drawXaxisInversed",value:function(e){var t,i,s=this,r=this.w,a=new W(this.ctx),o=r.config.yaxis[0].opposite?r.globals.translateYAxisX[e]:0,l=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+o+", 0)"});l.add(c);var u=[];if(r.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);t=r.globals.gridHeight/u.length,i=-t/2.2;var d=r.globals.yLabelFormatters[0],f=r.config.yaxis[0].labels;if(f.show)for(var m=function(k){var P=u[k]===void 0?"":u[k];P=d(P,{seriesIndex:e,dataPointIndex:k,w:r});var A=s.axesUtils.getYAxisForeColor(f.style.colors,e),w=0;Array.isArray(P)&&(w=P.length/2*parseInt(f.style.fontSize,10));var C=f.offsetX-15,E="end";s.yaxis.opposite&&(E="start"),r.config.yaxis[0].labels.align==="left"?(C=f.offsetX,E="start"):r.config.yaxis[0].labels.align==="center"?(C=f.offsetX,E="middle"):r.config.yaxis[0].labels.align==="right"&&(E="end");var I=a.drawText({x:C,y:i+t+f.offsetY-w,text:P,textAnchor:E,foreColor:Array.isArray(A)?A[k]:A,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+f.style.cssClass,maxWidth:f.maxWidth});c.add(I),I.on("click",function(F){if(typeof r.config.chart.events.xAxisLabelClick=="function"){var B=Object.assign({},r,{labelIndex:k});r.config.chart.events.xAxisLabelClick(F,s.ctx,B)}});var L=document.createElementNS(r.globals.SVGNS,"title");if(L.textContent=Array.isArray(P)?P.join(" "):P,I.node.appendChild(L),r.config.yaxis[e].labels.rotate!==0){var M=a.rotateAroundCenter(I.node);I.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," 0 ").concat(M.y,")"))}i+=t},g=0;g<=u.length-1;g++)m(g);if(r.config.yaxis[0].title.text!==void 0){var v=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+o+", 0)"}),x=a.drawText({x:r.config.yaxis[0].title.offsetX,y:r.globals.gridHeight/2+r.config.yaxis[0].title.offsetY,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});v.add(x),l.add(v)}var y=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(y=r.globals.gridWidth);var b=r.config.xaxis.axisBorder;if(b.show){var _=a.drawLine(r.globals.padHorizontal+b.offsetX+y,1+b.offsetY,r.globals.padHorizontal+b.offsetX+y,r.globals.gridHeight+b.offsetY,b.color,0);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(_):l.add(_)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(y,u.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,l),l}},{key:"drawXaxisTicks",value:function(e,t,i){var s=this.w,r=e;if(!(e<0||e-2>s.globals.gridWidth)){var a=this.offY+s.config.xaxis.axisTicks.offsetY;if(t=t+a+s.config.xaxis.axisTicks.height,s.config.xaxis.position==="top"&&(t=a-s.config.xaxis.axisTicks.height),s.config.xaxis.axisTicks.show){var o=new W(this.ctx).drawLine(e+s.config.xaxis.axisTicks.offsetX,a+s.config.xaxis.offsetY,r+s.config.xaxis.axisTicks.offsetX,t+s.config.xaxis.offsetY,s.config.xaxis.axisTicks.color);i.add(o),o.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],i=this.xaxisLabels.length,s=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var r=0;r<i;r++)s=this.xaxisLabels[r].position,t.push(s);else for(var a=i,o=0;o<a;o++){var l=a;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),s+=e.globals.gridWidth/l,t.push(s)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new W(this.ctx),i=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var o=0;o<s.length;o++){var l=t.rotateAroundCenter(s[o]);l.y=l.y-1,l.x=l.x+1,s[o].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),s[o].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")"));var c=s[o].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(f){t.placeTextWithEllipsis(f,f.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var f=e.globals.gridWidth/(e.globals.labels.length+1),m=0;m<s.length;m++){var g=s[m].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(g,function(v){t.placeTextWithEllipsis(v,v.textContent,f)})}})();if(r.length>0){var u=r[r.length-1].getBBox(),h=r[0].getBBox();u.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var d=0;d<a.length;d++)t.placeTextWithEllipsis(a[d],a[d].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),n}(),xC=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new As(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return ne(n,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,i=new W(this.ctx);e||(e=i.group({class:"apexcharts-grid"}));var s=i.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=i.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(r),e.add(s),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,i=new W(this.ctx),s=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Ct(e.config.stroke.width)):e.config.stroke.width,r=function(u){var h=document.createElementNS(t.SVGNS,"clipPath");return h.setAttribute("id",u),h};t.dom.elGridRectMask=r("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=r("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=r("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=r("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=r("nonForecastMask".concat(t.cuid));var a=0,o=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),o=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=i.drawRect(-s/2-2,-s/2-2,t.gridWidth+s+4,t.gridHeight+s+4,0,"#fff"),t.dom.elGridRectBar=i.drawRect(-s/2-a-2,-s/2-2,t.gridWidth+s+o+a+4,t.gridHeight+s+4,0,"#fff");var l=e.globals.markers.largestSize;t.dom.elGridRectMarker=i.drawRect(Math.min(-s/2-a-2,-l),-l,t.gridWidth+Math.max(s+o+a+4,2*l),t.gridHeight+2*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elGridRectBarMask),c.appendChild(t.dom.elGridRectMarkerMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,i=e.x1,s=e.y1,r=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w;if(!(t===0&&c.globals.skipFirstTimelinelabel||t===o-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:i,y1:s,x2:r,y2:a,xCount:o,parent:l});var u=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var h=c.globals.groups;if(h){for(var d=0,f=0;d<t&&f<h.length;f++)d+=h[f].cols;d===t&&(u=.6*c.globals.xAxisLabelsHeight)}}new _l(this.ctx).drawXaxisTicks(i,u,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,i=e.x1,s=e.y1,r=e.x2,a=e.y2,o=e.xCount,l=e.parent,c=this.w,u=l.node.classList.contains("apexcharts-gridlines-horizontal"),h=c.globals.barPadForNumericAxis,d=s===0&&a===0||i===0&&r===0||s===c.globals.gridHeight&&a===c.globals.gridHeight||c.globals.isBarHorizontal&&(t===0||t===o-1),f=new W(this).drawLine(i-(u?h:0),s,r+(u?h:0),a,c.config.grid.borderColor,c.config.grid.strokeDashArray);f.node.classList.add("apexcharts-gridline"),d&&c.config.grid.show?this.elGridBorders.add(f):l.add(f)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,i=e.x1,s=e.y1,r=e.x2,a=e.y2,o=e.type,l=this.w,c=new W(this.ctx),u=l.globals.barPadForNumericAxis,h=l.config.grid[o].colors[t],d=c.drawRect(i-(o==="row"?u:0),s,r+(o==="row"?2*u:0),a,0,h,l.config.grid[o].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(o))}},{key:"_drawXYLines",value:function(e){var t=this,i=e.xCount,s=e.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var a,o=r.globals.padHorizontal,l=r.globals.gridHeight;r.globals.timescaleLabels.length?function(m){for(var g=m.xC,v=m.x1,x=m.y1,y=m.x2,b=m.y2,_=0;_<g;_++)v=t.xaxisLabels[_].position,y=t.xaxisLabels[_].position,t._drawGridLines({i:_,x1:v,y1:x,x2:y,y2:b,xCount:i,parent:t.elgridLinesV})}({xC:i,x1:o,y1:0,x2:a,y2:l}):(r.globals.isXNumeric&&(i=r.globals.xAxisScale.result.length),function(m){for(var g=m.xC,v=m.x1,x=m.y1,y=m.x2,b=m.y2,_=0;_<g+(r.globals.isXNumeric?0:1);_++)_===0&&g===1&&r.globals.dataPoints===1&&(y=v=r.globals.gridWidth/2),t._drawGridLines({i:_,x1:v,y1:x,x2:y,y2:b,xCount:i,parent:t.elgridLinesV}),y=v+=r.globals.gridWidth/(r.globals.isXNumeric?g-1:g)}({xC:i,x1:o,y1:0,x2:a,y2:l}))}if(r.config.grid.yaxis.lines.show){var c=0,u=0,h=r.globals.gridWidth,d=s+1;this.isRangeBar&&(d=r.globals.labels.length);for(var f=0;f<d+(this.isRangeBar?1:0);f++)this._drawGridLine({i:f,xCount:d+(this.isRangeBar?1:0),x1:0,y1:c,x2:h,y2:u,parent:this.elgridLinesH}),u=c+=r.globals.gridHeight/(this.isRangeBar?d:s)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var s,r=i.globals.padHorizontal,a=i.globals.gridHeight,o=0;o<t+1;o++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:o,xCount:t+1,x1:r,y1:0,x2:s,y2:a,parent:this.elgridLinesV}),new _l(this.ctx).drawXaxisTicks(r,0,i.globals.dom.elGraphical),s=r+=i.globals.gridWidth/t;if(i.config.grid.yaxis.lines.show)for(var l=0,c=0,u=i.globals.gridWidth,h=0;h<i.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:i.globals.dataPoints+1,x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,i=new W(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var s=0;s<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(s);)s++;s===t.seriesYAxisMap.length&&(s=0);var r,a=t.yAxisScale[s].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var o,l,c;r=this.xaxisLabels.length,this.isRangeBar&&(a=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(r=e.config.xaxis.tickAmount),((o=t.yAxisScale)===null||o===void 0||(l=o[s])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(r=t.yAxisScale[s].result.length-1)),this._drawXYLines({xCount:r,tickAmount:a})}else r=a,a=t.xTickAmount,this._drawInvertedXYLines({xCount:r,tickAmount:a});return this.drawGridBands(r,a),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/r}}},{key:"drawGridBands",value:function(e,t){var i,s,r=this,a=this.w;if(((i=a.config.grid.row.colors)===null||i===void 0?void 0:i.length)>0&&function(m,g,v,x,y,b){for(var _=0,k=0;_<g;_++,k++)k>=a.config.grid[m].colors.length&&(k=0),r._drawGridBandRect({c:k,x1:v,y1:x,x2:y,y2:b,type:m}),x+=a.globals.gridHeight/t}("row",t,0,0,a.globals.gridWidth,a.globals.gridHeight/t),((s=a.config.grid.column.colors)===null||s===void 0?void 0:s.length)>0){var o=a.globals.isBarHorizontal||a.config.xaxis.tickPlacement!=="on"||a.config.xaxis.type!=="category"&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(o=a.globals.xAxisScale.result.length-1);for(var l=a.globals.padHorizontal,c=a.globals.padHorizontal+a.globals.gridWidth/o,u=a.globals.gridHeight,h=0,d=0;h<e;h++,d++){var f;d>=a.config.grid.column.colors.length&&(d=0),a.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[h].position,c=(((f=this.xaxisLabels[h+1])===null||f===void 0?void 0:f.position)||a.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:d,x1:l,y1:0,x2:c,y2:u,type:"column"}),l+=a.globals.gridWidth/o}}}}]),n}(),yC=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.coreUtils=new dt(this.ctx)}return ne(n,[{key:"niceScale",value:function(e,t){var i,s,r,a,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,u=c.globals;u.isBarHorizontal?(i=c.config.xaxis,s=Math.max((u.svgWidth-100)/25,2)):(i=c.config.yaxis[o],s=Math.max((u.svgHeight-100)/15,2)),D.isNumber(s)||(s=10),r=i.min!==void 0&&i.min!==null,a=i.max!==void 0&&i.min!==null;var h=i.stepSize!==void 0&&i.stepSize!==null,d=i.tickAmount!==void 0&&i.tickAmount!==null,f=d?i.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(s/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!d&&u.multiAxisTickAmount>0&&(f=u.multiAxisTickAmount,d=!0),f=f==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(f)),(e===Number.MIN_VALUE&&t===0||!D.isNumber(e)&&!D.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=D.isNumber(i.min)?i.min:0,t=D.isNumber(i.max)?i.max:e+f,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var m=t;t=e,e=m}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var g=[];f<1&&(f=1);var v=f,x=Math.abs(t-e);!r&&e>0&&e/x<.15&&(e=0,r=!0),!a&&t<0&&-t/x<.15&&(t=0,a=!0);var y=(x=Math.abs(t-e))/v,b=y,_=Math.floor(Math.log10(b)),k=Math.pow(10,_),P=Math.ceil(b/k);if(y=b=(P=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][P])*k,u.isBarHorizontal&&i.stepSize&&i.type!=="datetime"?(y=i.stepSize,h=!0):h&&(y=i.stepSize),h&&i.forceNiceScale){var A=Math.floor(Math.log10(y));y*=Math.pow(10,_-A)}if(r&&a){var w=x/v;if(d)if(h)if(D.mod(x,y)!=0){var C=D.getGCD(y,w);y=w/C<10?C:w}else D.mod(y,w)==0?y=w:(w=y,d=!1);else y=w;else if(h)D.mod(x,y)==0?w=y:y=w;else if(D.mod(x,y)==0)w=y;else{w=x/(v=Math.ceil(x/y));var E=D.getGCD(x,y);x/E<s&&(w=E),y=w}v=Math.round(x/y)}else{if(r||a){if(a)if(d)e=t-y*v;else{var I=e;e=y*Math.floor(e/y),Math.abs(t-e)/D.getGCD(x,y)>s&&(e=t-y*f,e+=y*Math.floor((I-e)/y))}else if(r)if(d)t=e+y*v;else{var L=t;t=y*Math.ceil(t/y),Math.abs(t-e)/D.getGCD(x,y)>s&&(t=e+y*f,t+=y*Math.ceil((L-t)/y))}}else if(u.isMultipleYAxis&&d){var M=y*Math.floor(e/y),F=M+y*v;F<t&&(y*=2),F=t,t=(e=M)+y*v,x=Math.abs(t-e),e>0&&e<Math.abs(F-t)&&(e=0,t=y*v),t<0&&-t<Math.abs(M-e)&&(t=0,e=-y*v)}else e=y*Math.floor(e/y),t=y*Math.ceil(t/y);x=Math.abs(t-e),y=D.getGCD(x,y),v=Math.round(x/y)}if(d||r||a||(v=Math.ceil((x-l)/(y+l)))>16&&D.getPrimeFactors(v).length<2&&v++,!d&&i.forceNiceScale&&u.yValueDecimal===0&&v>x&&(v=x,y=Math.round(x/v)),v>s&&(!d&&!h||i.forceNiceScale)){var B=D.getPrimeFactors(v),$=B.length-1,Y=v;e:for(var V=0;V<$;V++)for(var X=0;X<=$-V;X++){for(var G=Math.min(X+V,$),J=Y,re=1,ke=X;ke<=G;ke++)re*=B[ke];if((J/=re)<s){Y=J;break e}}y=Y===v?x:x/Y,v=Math.round(x/y)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(o)<0&&(u.multiAxisTickAmount=v);var oe=e-y,Ee=y*l;do oe+=y,g.push(D.stripNumber(oe,7));while(t-oe>Ee);return{result:g,niceMin:g[0],niceMax:g[g.length-1]}}},{key:"linearScale",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,a=Math.abs(t-e),o=[];if(e===t)return{result:o=[e],niceMin:o[0],niceMax:o[o.length-1]};(i=this._adjustTicksForSmallRange(i,s,a))==="dataPoints"&&(i=this.w.globals.dataPoints-1),r||(r=a/i),r=Math.round(100*(r+Number.EPSILON))/100,i===Number.MAX_VALUE&&(i=5,r=1);for(var l=e;i>=0;)o.push(l),l=D.preciseAddition(l,r),i-=1;return{result:o,niceMin:o[0],niceMax:o[o.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var s=[],r=Math.ceil(Math.log(t)/Math.log(i)+1),a=Math.floor(Math.log(e)/Math.log(i));a<r;a++)s.push(Math.pow(i,a));return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScale",value:function(e,t,i){t<=0&&(t=Math.max(e,i)),e<=0&&(e=Math.min(t,i));for(var s=[],r=Math.log(t)/Math.log(i),a=Math.log(e)/Math.log(i),o=r-a,l=Math.round(o),c=o/l,u=0,h=a;u<l;u++,h+=c)s.push(Math.pow(i,h));return s.push(Math.pow(i,r)),{result:s,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,i){var s=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var r=Number(this.w.config.yaxis[t].labels.formatter(1));D.isNumber(r)&&this.w.globals.yValueDecimal===0&&(s=Math.ceil(i))}return s<e?s:e}},{key:"setYScaleForIndex",value:function(e,t,i){var s=this.w.globals,r=this.w.config,a=s.isBarHorizontal?r.xaxis:r.yaxis[e];s.yAxisScale[e]===void 0&&(s.yAxisScale[e]=[]);var o=Math.abs(i-t);a.logarithmic&&o<=5&&(s.invalidLogScale=!0),a.logarithmic&&o>5?(s.allSeriesCollapsed=!1,s.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,i,a.logBase):this.logarithmicScale(t,i,a.logBase)):i!==-Number.MAX_VALUE&&D.isNumber(i)&&t!==Number.MAX_VALUE&&D.isNumber(t)?(s.allSeriesCollapsed=!1,s.yAxisScale[e]=this.niceScale(t,i,e)):s.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var i=this.w,s=i.globals;if(t!==-Number.MAX_VALUE&&D.isNumber(t)){var r=s.xTickAmount;s.xAxisScale=this.linearScale(e,t,r,0,i.config.xaxis.max===void 0?i.config.xaxis.stepSize:void 0)}else s.xAxisScale=this.linearScale(0,10,10);return s.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var s=i.seriesYAxisMap,r=i.minYArr,a=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],s.forEach(function(o,l){var c=[];o.forEach(function(u){var h,d=(h=t.series[u])===null||h===void 0?void 0:h.group;c.indexOf(d)<0&&c.push(d)}),o.length>0?function(){var u,h,d=Number.MAX_VALUE,f=-Number.MAX_VALUE,m=d,g=f;if(t.chart.stacked)(function(){var y=new Array(i.dataPoints).fill(0),b=[],_=[],k=[];c.forEach(function(){b.push(y.map(function(){return Number.MIN_VALUE})),_.push(y.map(function(){return Number.MIN_VALUE})),k.push(y.map(function(){return Number.MIN_VALUE}))});for(var P=function(w){!u&&t.series[o[w]].type&&(u=t.series[o[w]].type);var C=o[w];h=t.series[C].group?t.series[C].group:"axis-".concat(l),!(i.collapsedSeriesIndices.indexOf(C)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(C)<0)||(i.allSeriesCollapsed=!1,c.forEach(function(E,I){if(t.series[C].group===E)for(var L=0;L<i.series[C].length;L++){var M=i.series[C][L];M>=0?_[I][L]+=M:k[I][L]+=M,b[I][L]+=M,m=Math.min(m,M),g=Math.max(g,M)}})),u!=="bar"&&u!=="column"||i.barGroups.push(h)},A=0;A<o.length;A++)P(A);u||(u=t.chart.type),u==="bar"||u==="column"?c.forEach(function(w,C){d=Math.min(d,Math.min.apply(null,k[C])),f=Math.max(f,Math.max.apply(null,_[C]))}):(c.forEach(function(w,C){m=Math.min(m,Math.min.apply(null,b[C])),g=Math.max(g,Math.max.apply(null,b[C]))}),d=m,f=g),d===Number.MIN_VALUE&&f===Number.MIN_VALUE&&(f=-Number.MAX_VALUE)})();else for(var v=0;v<o.length;v++){var x=o[v];d=Math.min(d,r[x]),f=Math.max(f,a[x]),!(i.collapsedSeriesIndices.indexOf(x)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(x)<0)||(i.allSeriesCollapsed=!1)}t.yaxis[l].min!==void 0&&(d=typeof t.yaxis[l].min=="function"?t.yaxis[l].min(d):t.yaxis[l].min),t.yaxis[l].max!==void 0&&(f=typeof t.yaxis[l].max=="function"?t.yaxis[l].max(f):t.yaxis[l].max),i.barGroups=i.barGroups.filter(function(y,b,_){return _.indexOf(y)===b}),e.setYScaleForIndex(l,d,f),o.forEach(function(y){r[y]=i.yAxisScale[l].niceMin,a[y]=i.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),n}(),eg=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.scales=new yC(e)}return ne(n,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w.config,a=this.w.globals,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;s===null&&(s=e+1);var c=a.series,u=c,h=c;r.chart.type==="candlestick"?(u=a.seriesCandleL,h=a.seriesCandleH):r.chart.type==="boxPlot"?(u=a.seriesCandleO,h=a.seriesCandleC):a.isRangeData&&(u=a.seriesRangeStart,h=a.seriesRangeEnd);var d=!1;if(a.seriesX.length>=s){var f,m=(f=a.brushSource)===null||f===void 0?void 0:f.w.config.chart.brush;(r.chart.zoom.enabled&&r.chart.zoom.autoScaleYaxis||m!=null&&m.enabled&&m!=null&&m.autoScaleYaxis)&&(d=!0)}for(var g=e;g<s;g++){a.dataPoints=Math.max(a.dataPoints,c[g].length);var v=r.series[g].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(C){return C!==void 0}).length),a.labels.length&&r.xaxis.type!=="datetime"&&a.series.reduce(function(C,E){return C+E.length},0)!==0&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var x=0,y=c[g].length-1;if(d){if(r.xaxis.min)for(;x<y&&a.seriesX[g][x]<r.xaxis.min;x++);if(r.xaxis.max)for(;y>x&&a.seriesX[g][y]>r.xaxis.max;y--);}for(var b=x;b<=y&&b<a.series[g].length;b++){var _=c[g][b];if(_!==null&&D.isNumber(_)){var k,P,A,w;switch(((k=h[g])===null||k===void 0?void 0:k[b])!==void 0&&(o=Math.max(o,h[g][b]),t=Math.min(t,h[g][b])),((P=u[g])===null||P===void 0?void 0:P[b])!==void 0&&(t=Math.min(t,u[g][b]),i=Math.max(i,u[g][b])),v){case"candlestick":a.seriesCandleC[g][b]!==void 0&&(o=Math.max(o,a.seriesCandleH[g][b]),t=Math.min(t,a.seriesCandleL[g][b]));break;case"boxPlot":a.seriesCandleC[g][b]!==void 0&&(o=Math.max(o,a.seriesCandleC[g][b]),t=Math.min(t,a.seriesCandleO[g][b]))}v&&v!=="candlestick"&&v!=="boxPlot"&&v!=="rangeArea"&&v!=="rangeBar"&&(o=Math.max(o,a.series[g][b]),t=Math.min(t,a.series[g][b])),a.seriesGoals[g]&&a.seriesGoals[g][b]&&Array.isArray(a.seriesGoals[g][b])&&a.seriesGoals[g][b].forEach(function(C){o=Math.max(o,C.value),t=Math.min(t,C.value)}),i=o,_=D.noExponents(_),D.isFloat(_)&&(a.yValueDecimal=Math.max(a.yValueDecimal,_.toString().split(".")[1].length)),l>((A=u[g])===null||A===void 0?void 0:A[b])&&((w=u[g])===null||w===void 0?void 0:w[b])<0&&(l=u[g][b])}else a.hasNullValues=!0}v!=="bar"&&v!=="column"||(l<0&&o<0&&(o=0,i=Math.max(i,0)),l===Number.MIN_VALUE&&(l=0,t=Math.min(t,0)))}return r.chart.type==="rangeBar"&&a.seriesRangeStart.length&&a.isBarHorizontal&&(l=t),r.chart.type==="bar"&&(l<0&&o<0&&(o=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:o,lowestY:t,highestY:i}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var i,s=Number.MAX_VALUE;if(e.isMultipleYAxis){s=Number.MAX_VALUE;for(var r=0;r<e.series.length;r++)i=this.getMinYMaxY(r),e.minYArr[r]=i.lowestY,e.maxYArr[r]=i.highestY,s=Math.min(s,i.lowestY)}return i=this.getMinYMaxY(0,s,null,e.series.length),t.chart.type==="bar"?(e.minY=i.minY,e.maxY=i.maxY):(e.minY=i.lowestY,e.maxY=i.highestY),s=i.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&s!==-Number.MAX_VALUE&&s!==e.maxY&&(e.minY=s):e.minY=e.minY!==Number.MIN_VALUE?Math.min(i.minY,e.minY):i.minY,t.yaxis.forEach(function(a,o){a.max!==void 0&&(typeof a.max=="number"?e.maxYArr[o]=a.max:typeof a.max=="function"&&(e.maxYArr[o]=a.max(e.isMultipleYAxis?e.maxYArr[o]:e.maxY)),e.maxY=e.maxYArr[o]),a.min!==void 0&&(typeof a.min=="number"?e.minYArr[o]=a.min:typeof a.min=="function"&&(e.minYArr[o]=a.min(e.isMultipleYAxis?e.minYArr[o]===Number.MIN_VALUE?0:e.minYArr[o]:e.minY)),e.minY=e.minYArr[o])}),e.isBarHorizontal&&["min","max"].forEach(function(a){t.xaxis[a]!==void 0&&typeof t.xaxis[a]=="number"&&(a==="min"?e.minY=t.xaxis[a]:e.maxY=t.xaxis[a])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=s):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(a){switch(a.type||t.chart.type){case"bar":case"column":e.barGroups.push(a.group);break;case"line":e.lineGroups.push(a.group);break;case"area":e.areaGroups.push(a.group)}}),e.barGroups=e.barGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.lineGroups=e.lineGroups.filter(function(a,o,l){return l.indexOf(a)===o}),e.areaGroups=e.areaGroups.filter(function(a,o,l){return l.indexOf(a)===o}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,i=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&D.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var s=10;if(t.xaxis.tickAmount===void 0)s=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(s=e.dataPoints-1),s>e.dataPoints&&e.dataPoints!==0&&(s=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(s=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var r=Math.round(e.maxX-e.minX);r<30&&(s=r)}}else s=t.xaxis.tickAmount;if(e.xTickAmount=s,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],o=e.minX-1;o<e.maxX;o++)a.push(o+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,s,s,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,s-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());i&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var i=0;i<e.seriesZ[t].length;i++)e.seriesZ[t][i]!==null&&D.isNumber(e.seriesZ[t][i])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][i]),e.minZ=Math.min(e.minZ,e.seriesZ[t][i]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var i=new Dt(this.ctx);if(t.xaxis.type==="datetime"){var s=i.getDate(e.minX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()-2):s.setDate(s.getDate()-2),e.minX=new Date(s).getTime();var r=i.getDate(e.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),e.maxX=new Date(r).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,i){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var s=t.slice();s.sort(function(r,a){return r-a}),s.forEach(function(r,a){if(a>0){var o=r-s[a-1];o>0&&(e.minXDiff=Math.min(o,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var i=t.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map(function(a){return a})]);var s={},r={};i.forEach(function(a){s[a]=[],r[a]=[],e.w.config.series.map(function(o,l){return a.indexOf(t.seriesNames[l])>-1?l:null}).filter(function(o){return o!==null}).forEach(function(o){for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++){var c,u,h,d;s[a][l]===void 0&&(s[a][l]=0,r[a][l]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(u=c[o])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(d=h[o])===null||d===void 0?void 0:d.type)==="column"))&&t.series[o][l]!==null&&D.isNumber(t.series[o][l])&&(t.series[o][l]>0?s[a][l]+=parseFloat(t.series[o][l])+1e-4:r[a][l]+=parseFloat(t.series[o][l]))}})}),Object.entries(s).forEach(function(a){var o=Vk(a,1)[0];s[o].forEach(function(l,c){t.maxY=Math.max(t.maxY,s[o][c]),t.minY=Math.min(t.minY,r[o][c])})})}}}]),n}(),mx=function(){function n(e,t){te(this,n),this.ctx=e,this.elgrid=t,this.w=e.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=i.config.chart.type==="bar"&&i.config.plotOptions.bar.horizontal,this.xAxisoffX=i.config.xaxis.position==="bottom"?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new As(e)}return ne(n,[{key:"drawYaxis",value:function(e){var t=this.w,i=new W(this.ctx),s=t.config.yaxis[e].labels.style,r=s.fontSize,a=s.fontFamily,o=s.fontWeight,l=i.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=i.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridHeight/u,d=t.globals.yLabelFormatters[e],f=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var m=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?m=0:t.config.chart.type==="heatmap"&&(m-=h/2),m+=parseInt(r,10)/3;for(var g=u;g>=0;g--){var v=d(f[g],g,t),x=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(x*=-1);var y=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),b=this.axesUtils.getYAxisForeColor(s.colors,e),_=Array.isArray(b)?b[g]:b,k=D.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(A){return A.textContent}),P=i.drawText({x,y:m,text:k.includes(v)&&!t.config.yaxis[e].labels.showDuplicates?"":v,textAnchor:y,fontSize:r,fontFamily:a,fontWeight:o,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:_,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(s.cssClass)});c.add(P),this.addTooltip(P,v),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(i,P,firstLabel,t.config.yaxis[e].labels.rotate),m+=h}}return this.addYAxisTitle(i,l,e),this.addAxisBorder(i,l,e,u,h),l}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(i)}},{key:"rotateLabel",value:function(e,t,i,s){var r=e.rotateAroundCenter(i.node),a=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(s," ").concat(r.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,t,i){var s=this.w;if(s.config.yaxis[i].title.text!==void 0){var r=e.group({class:"apexcharts-yaxis-title"}),a=s.config.yaxis[i].opposite?s.globals.translateYAxisX[i]:0,o=e.drawText({x:a,y:s.globals.gridHeight/2+s.globals.translateY+s.config.yaxis[i].title.offsetY,text:s.config.yaxis[i].title.text,textAnchor:"end",foreColor:s.config.yaxis[i].title.style.color,fontSize:s.config.yaxis[i].title.style.fontSize,fontWeight:s.config.yaxis[i].title.style.fontWeight,fontFamily:s.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(s.config.yaxis[i].title.style.cssClass)});r.add(o),t.add(r)}}},{key:"addAxisBorder",value:function(e,t,i,s,r){var a=this.w,o=a.config.yaxis[i].axisBorder,l=31+o.offsetX;if(a.config.yaxis[i].opposite&&(l=-31-o.offsetX),o.show){var c=e.drawLine(l,a.globals.translateY+o.offsetY-2,l,a.globals.gridHeight+a.globals.translateY+o.offsetY+2,o.color,0,o.width);t.add(c)}a.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,s,o,a.config.yaxis[i].axisTicks,i,r,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,i=new W(this.ctx),s=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});s.add(r);var a=t.globals.yAxisScale[e].result.length-1,o=t.globals.gridWidth/a+.1,l=o+t.config.xaxis.labels.offsetX,c=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),h=t.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),a=(u=h.slice()).length),t.config.xaxis.labels.show)for(var d=h.length?0:a;h.length?d<h.length:d>=0;h.length?d++:d--){var f=c(u[d],d,t),m=t.globals.gridWidth+t.globals.padHorizontal-(l-o+t.config.xaxis.labels.offsetX);if(h.length){var g=this.axesUtils.getLabel(u,h,m,d,this.drawnLabels,this.xaxisFontSize);m=g.x,f=g.text,this.drawnLabels.push(g.text),d===0&&t.globals.skipFirstTimelinelabel&&(f=""),d===u.length-1&&t.globals.skipLastTimelinelabel&&(f="")}var v=i.drawText({x:m,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});r.add(v),v.tspan(f),this.addTooltip(v,f),l+=o}return this.inversedYAxisTitleText(s),this.inversedYAxisBorder(s),s}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,i=new W(this.ctx),s=t.config.xaxis.axisBorder;if(s.show){var r=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(r-=15);var a=i.drawLine(t.globals.padHorizontal+r+s.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,s.color,0,s.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,i=new W(this.ctx);if(t.config.xaxis.title.text!==void 0){var s=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=i.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});s.add(r),e.add(s)}}},{key:"yAxisTitleRotate",value:function(e,t){var i=this.w,s=new W(this.ctx),r=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=r?r.getBoundingClientRect():{width:0,height:0},o=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=o?o.getBoundingClientRect():{width:0,height:0};if(o){var c=this.xPaddingForYAxisTitle(e,a,l,t);o.setAttribute("x",c.xPos-(t?10:0));var u=s.rotateAroundCenter(o);o.setAttribute("transform","rotate(".concat(t?-1*i.config.yaxis[e].title.rotate:i.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,i,s){var r=this.w,a=0,o=10;return r.config.yaxis[e].title.text===void 0||e<0?{xPos:a,padd:0}:(s?a=t.width+r.config.yaxis[e].title.offsetX+i.width/2+o/2:(a=-1*t.width+r.config.yaxis[e].title.offsetX+o/2+i.width/2,r.globals.isBarHorizontal&&(o=25,a=-1*t.width-r.config.yaxis[e].title.offsetX-o)),{xPos:a,padd:o})}},{key:"setYAxisXPosition",value:function(e,t){var i=this.w,s=0,r=0,a=18,o=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach(function(l,c){var u=i.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,h=e[c].width+t[c].width;l.opposite?i.globals.isBarHorizontal?(r=i.globals.gridWidth+i.globals.translateX-1,i.globals.translateYAxisX[c]=r-l.labels.offsetX):(r=i.globals.gridWidth+i.globals.translateX+o,u||(o+=h+20),i.globals.translateYAxisX[c]=r-l.labels.offsetX+20):(s=i.globals.translateX-a,u||(a+=h+20),i.globals.translateYAxisX[c]=s+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;D.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,i){var s=e.config.yaxis[i];if(s&&!s.floating&&s.labels.align!==void 0){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),a=D.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),o=r.getBoundingClientRect();a.forEach(function(l){l.setAttribute("text-anchor",s.labels.align)}),s.labels.align!=="left"||s.opposite?s.labels.align==="center"?r.setAttribute("transform","translate(".concat(o.width/2*(s.opposite?1:-1),", 0)")):s.labels.align==="right"&&s.opposite&&r.setAttribute("transform","translate(".concat(o.width,", 0)")):r.setAttribute("transform","translate(-".concat(o.width,", 0)"))}})}}]),n}(),DN=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.documentEvent=D.bind(this.documentEvent,this)}return ne(n,[{key:"addEventListener",value:function(e,t){var i=this.w;i.globals.events.hasOwnProperty(e)?i.globals.events[e].push(t):i.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){var s=i.globals.events[e].indexOf(t);s!==-1&&i.globals.events[e].splice(s,1)}}},{key:"fireEvent",value:function(e,t){var i=this.w;if(i.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var s=i.globals.events[e],r=s.length,a=0;a<r;a++)s[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,i=this.ctx,s=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(r){s.addEventListener(r,function(a){var o=a.target.getAttribute("i")===null&&t.globals.capturedSeriesIndex!==-1?t.globals.capturedSeriesIndex:a.target.getAttribute("i"),l=a.target.getAttribute("j")===null&&t.globals.capturedDataPointIndex!==-1?t.globals.capturedDataPointIndex:a.target.getAttribute("j"),c=Object.assign({},t,{seriesIndex:t.globals.axisCharts?o:0,dataPointIndex:l});a.type==="mousemove"||a.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(a,i,c):a.type==="mouseleave"||a.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(a,i,c):(a.type==="mouseup"&&a.which===1||a.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(a,i,c),i.ctx.events.fireEvent("click",[a,i,c]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(r){t.globals.dom.baseEl.addEventListener(r,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,i=e.target.className;if(e.type==="click"){var s=t.globals.dom.baseEl.querySelector(".apexcharts-menu");s&&s.classList.contains("apexcharts-menu-open")&&i!=="apexcharts-menu-icon"&&s.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),n}(),ON=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=t.filter(function(r){return r.name===e})[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var s=D.extend(fC,i);this.w.globals.locale=s.options}}]),n}(),VN=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"drawAxis",value:function(e,t){var i,s,r=this,a=this.w.globals,o=this.w.config,l=new _l(this.ctx,t),c=new mx(this.ctx,t);a.axisCharts&&e!=="radar"&&(a.isBarHorizontal?(s=c.drawYaxisInversed(0),i=l.drawXaxisInversed(0),a.dom.elGraphical.add(i),a.dom.elGraphical.add(s)):(i=l.drawXaxis(),a.dom.elGraphical.add(i),o.yaxis.map(function(u,h){if(a.ignoreYAxisIndexes.indexOf(h)===-1&&(s=c.drawYaxis(h),a.dom.Paper.add(s),r.w.config.grid.position==="back")){var d=a.dom.Paper.children()[1];d.remove(),a.dom.Paper.add(d)}})))}}]),n}(),tg=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new W(this.ctx),i=new Vt(this.ctx),s=e.config.xaxis.crosshairs.fill.gradient,r=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,o=s.colorFrom,l=s.colorTo,c=s.opacityFrom,u=s.opacityTo,h=s.stops,d=r.enabled,f=r.left,m=r.top,g=r.blur,v=r.color,x=r.opacity,y=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){a==="gradient"&&(y=t.drawGradient("vertical",o,l,c,u,null,h,null));var b=t.drawRect();e.config.xaxis.crosshairs.width===1&&(b=t.drawLine());var _=e.globals.gridHeight;(!D.isNumber(_)||_<0)&&(_=0);var k=e.config.xaxis.crosshairs.width;(!D.isNumber(k)||k<0)&&(k=0),b.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:_,width:k,height:_,fill:y,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),d&&(b=i.dropShadow(b,{left:f,top:m,blur:g,color:v,opacity:x})),e.globals.dom.elGraphical.add(b)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new W(this.ctx),i=e.config.yaxis[0].crosshairs,s=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var r=t.drawLine(-s,0,e.globals.gridWidth+s,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(r)}var a=t.drawLine(-s,0,e.globals.gridWidth+s,0,i.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),n}(),FN=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"checkResponsiveConfig",value:function(e){var t=this,i=this.w,s=i.config;if(s.responsive.length!==0){var r=s.responsive.slice();r.sort(function(c,u){return c.breakpoint>u.breakpoint?1:u.breakpoint>c.breakpoint?-1:0}).reverse();var a=new Cl({}),o=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=r[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var d=D.clone(i.globals.initialConfig);d.series=D.clone(i.config.series);var f=dt.extendArrayProps(a,d,i);c=D.extend(f,c),c=D.extend(i.config,c),t.overrideResponsiveOptions(c)}else for(var m=0;m<r.length;m++)h<r[m].breakpoint&&(c=dt.extendArrayProps(a,r[m].options,i),c=D.extend(i.config,c),t.overrideResponsiveOptions(c))};if(e){var l=dt.extendArrayProps(a,e,i);l=D.extend(i.config,l),o(l=D.extend(l,e))}else o({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new Cl(e).init({responsiveOverride:!0});this.w.config=t}}]),n}(),zN=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return ne(n,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return t.type==="treemap"&&i.treemap&&i.treemap.distributed||t.type==="heatmap"&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,i=e.plotOptions;return i.bar&&i.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new D;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode||"light"));var i=Ct(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(i),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var s=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],s),this.applyDataLabelsColors(s),this.applyRadarPolygonsColors(),this.applyMarkersColors(s)}},{key:"getColors",value:function(e){var t=this,i=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,i.config.series.map(function(s,r){var a=e[r]||e[0];return typeof a=="function"?a({value:i.globals.axisCharts?i.globals.series[r][0]||0:i.globals.series[r],seriesIndex:r,dataPointIndex:r,w:t.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(i,s){i&&(t[s]=i)})}},{key:"getMonochromeColors",value:function(e,t,i){var s=e.color,r=e.shadeIntensity,a=e.shadeTo,o=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,l=1/(o/r),c=0;return Array.from({length:o},function(){var u=a==="dark"?i.shadeColor(-1*c,s):i.shadeColor(c,s);return c+=l,u})}},{key:"applyColorTypes",value:function(e,t){var i=this,s=this.w;e.forEach(function(r){s.globals[r].colors=s.config[r].colors===void 0?i.isColorFn?s.config.colors:t:s.config[r].colors.slice(),i.pushExtraColors(s.globals[r].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#343A3F":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.w,r=t||s.globals.series.length;if(i===null&&(i=this.isBarDistributed||this.isHeatmapDistributed||s.config.chart.type==="heatmap"&&s.config.plotOptions.heatmap&&s.config.plotOptions.heatmap.colorScale.inverse),i&&s.globals.series.length&&(r=s.globals.series[s.globals.maxValsInArrayIndex].length*s.globals.series.length),e.length<r)for(var a=r-e.length,o=0;o<a;o++)e.push(e[o])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,i=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",s=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=s,e.theme.palette=i,e}},{key:"predefined",value:function(){var e=this.w.config.theme.palette,t=this.ctx.constructor.getThemePalettes();return t[e]||t.palette1}}]),n}(),jN=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,i=e==="title"?t.config.title:t.config.subtitle,s=t.globals.svgWidth/2,r=i.offsetY,a="middle";if(i.align==="left"?(s=10,a="start"):i.align==="right"&&(s=t.globals.svgWidth-10,a="end"),s+=i.offsetX,r=r+parseInt(i.style.fontSize,10)+i.margin/2,i.text!==void 0){var o=new W(this.ctx).drawText({x:s,y:r,text:i.text,textAnchor:a,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});o.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(o)}}}]),n}(),BN=function(){function n(e){te(this,n),this.w=e.w,this.dCtx=e}return ne(n,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,i=0,s=0,r=e==="title"?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(a!==null&&!r){var o=a.getBoundingClientRect();i=o.width,s=t.globals.axisCharts?o.height+5:o.height}return{width:i,height:s}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var i=Object.assign({},D.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:i.height===0?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,i=[];t.config.series.forEach(function(l,c){l.data.forEach(function(u,h){var d;d=t.globals.series[c][h],s=t.config.dataLabels.formatter(d,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:h,w:t}),i.push(s)})});var s=D.getLargestStringFromArr(i),r=new W(this.dCtx.ctx),a=t.config.dataLabels.style,o=r.getTextRects(s,parseInt(a.fontSize),a.fontFamily);return{width:1.05*o.width,height:o.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var i=e;if(this.w.globals.isMultiLineX){var s=t.map(function(a,o){return Array.isArray(a)?a.length:1}),r=Math.max.apply(Math,Ct(s));i=t[s.indexOf(r)]}return i}}]),n}(),HN=function(){function n(e){te(this,n),this.w=e.w,this.dCtx=e}return ne(n,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,i=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&i.length===0&&(i=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var s=this.getxAxisTimeScaleLabelsCoords();e={width:s.width,height:s.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,a=D.getLargestStringFromArr(i),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,i);t.globals.isBarHorizontal&&(o=a=t.globals.yAxisScale[0].result.reduce(function(m,g){return m.length>g.length?m:g},0));var l=new Zl(this.dCtx.ctx),c=a;a=l.xLabelFormat(r,a,c,{i:void 0,dateFormatter:new Dt(this.dCtx.ctx).formatDate,w:t}),o=l.xLabelFormat(r,o,c,{i:void 0,dateFormatter:new Dt(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&a===void 0||String(a).trim()==="")&&(o=a="1");var u=new W(this.dCtx.ctx),h=u.getTextRects(a,t.config.xaxis.labels.style.fontSize),d=h;if(a!==o&&(d=u.getTextRects(o,t.config.xaxis.labels.style.fontSize)),(e={width:h.width>=d.width?h.width:d.width,height:h.height>=d.height?h.height:d.height}).width*i.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var f=function(m){return u.getTextRects(m,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};h=f(a),a!==o&&(d=f(o)),e.height=(h.height>d.height?h.height:d.height)/1.5,e.width=h.width>d.width?h.width:d.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var i,s=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map(function(h){return h.title}),a=D.getLargestStringFromArr(r),o=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,r),l=new W(this.dCtx.ctx),c=l.getTextRects(a,s),u=c;return a!==o&&(u=l.getTextRects(o,s)),i={width:c.width>=u.width?c.width:u.width,height:c.height>=u.height?c.height:u.height},t.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,i=0;if(e.config.xaxis.title.text!==void 0){var s=new W(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=s.width,i=s.height}return{width:t,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map(function(r){return r.value}),s=i.reduce(function(r,a){return r===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):r.length>a.length?r:a},0);return 1.05*(e=new W(this.dCtx.ctx).getTextRects(s,t.config.xaxis.labels.style.fontSize)).width*i.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,i=this.w,s=i.globals,r=i.config,a=r.xaxis.type,o=e.width;s.skipLastTimelinelabel=!1,s.skipFirstTimelinelabel=!1;var l=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal,c=function(u,h){r.yaxis.length>1&&function(d){return s.collapsedSeriesIndices.indexOf(d)!==-1}(h)||function(d){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var f=t.dCtx.timescaleLabels[0],m=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+o/1.75-t.dCtx.yAxisWidthRight,g=f.position-o/1.75+t.dCtx.yAxisWidthLeft,v=i.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;m>s.svgWidth-s.translateX-v&&(s.skipLastTimelinelabel=!0),g<-(d.show&&!d.floating||r.chart.type!=="bar"&&r.chart.type!=="candlestick"&&r.chart.type!=="rangeBar"&&r.chart.type!=="boxPlot"?10:o/1.75)&&(s.skipFirstTimelinelabel=!0)}else a==="datetime"?t.dCtx.gridPad.right<o&&!s.rotateXLabels&&(s.skipLastTimelinelabel=!0):a!=="datetime"&&t.dCtx.gridPad.right<o/2-t.dCtx.yAxisWidthRight&&!s.rotateXLabels&&!i.config.xaxis.labels.trim&&(t.dCtx.xPadRight=o/2+1)}(u)};r.yaxis.forEach(function(u,h){l?(t.dCtx.gridPad.left<o&&(t.dCtx.xPadLeft=o/2+1),t.dCtx.xPadRight=o/2+1):c(u,h)})}}]),n}(),XN=function(){function n(e){te(this,n),this.w=e.w,this.dCtx=e}return ne(n,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,i=[],s=10,r=new As(this.dCtx.ctx);return t.config.yaxis.map(function(a,o){var l={seriesIndex:o,dataPointIndex:-1,w:t},c=t.globals.yAxisScale[o],u=0;if(!r.isYAxisHidden(o)&&a.labels.show&&a.labels.minWidth!==void 0&&(u=a.labels.minWidth),!r.isYAxisHidden(o)&&a.labels.show&&c.result.length){var h=t.globals.yLabelFormatters[o],d=c.niceMin===Number.MIN_VALUE?0:c.niceMin,f=c.result.reduce(function(_,k){var P,A;return((P=String(h(_,l)))===null||P===void 0?void 0:P.length)>((A=String(h(k,l)))===null||A===void 0?void 0:A.length)?_:k},d),m=f=h(f,l);if(f!==void 0&&f.length!==0||(f=c.niceMax),t.globals.isBarHorizontal){s=0;var g=t.globals.labels.slice();f=D.getLargestStringFromArr(g),f=h(f,{seriesIndex:o,dataPointIndex:-1,w:t}),m=e.dCtx.dimHelpers.getLargestStringFromMultiArr(f,g)}var v=new W(e.dCtx.ctx),x="rotate(".concat(a.labels.rotate," 0 0)"),y=v.getTextRects(f,a.labels.style.fontSize,a.labels.style.fontFamily,x,!1),b=y;f!==m&&(b=v.getTextRects(m,a.labels.style.fontSize,a.labels.style.fontFamily,x,!1)),i.push({width:(u>b.width||u>y.width?u:b.width>y.width?b.width:y.width)+s,height:b.height>y.height?b.height:y.height})}else i.push({width:0,height:0})}),i}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,i=[];return t.config.yaxis.map(function(s,r){if(s.show&&s.title.text!==void 0){var a=new W(e.dCtx.ctx),o="rotate(".concat(s.title.rotate," 0 0)"),l=a.getTextRects(s.title.text,s.title.style.fontSize,s.title.style.fontFamily,o,!1);i.push({width:l.width,height:l.height})}else i.push({width:0,height:0})}),i}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,i=0,s=0,r=e.globals.yAxisScale.length>1?10:0,a=new As(this.dCtx.ctx),o=function(l,c){var u=e.config.yaxis[c].floating,h=0;l.width>0&&!u?(h=l.width+r,function(d){return e.globals.ignoreYAxisIndexes.indexOf(d)>-1}(c)&&(h=h-l.width-r)):h=u||a.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?s+=h:i+=h,t+=h};return e.globals.yLabelsCoords.map(function(l,c){o(l,c)}),e.globals.yTitleCoords.map(function(l,c){o(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=s,t}}]),n}(),WN=function(){function n(e){te(this,n),this.w=e.w,this.dCtx=e}return ne(n,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,i=t.config,s=t.globals;if(s.noData||s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===i.series.length)return 0;var r=function(f){return["bar","rangeBar","candlestick","boxPlot"].includes(f)},a=i.chart.type,o=0,l=r(a)?i.series.length:1;s.comboBarCount>0&&(l=s.comboBarCount),s.collapsedSeries.forEach(function(f){r(f.type)&&(l-=1)}),i.chart.stacked&&(l=1);var c=r(a)||s.comboBarCount>0,u=Math.abs(s.initialMaxX-s.initialMinX);if(c&&s.isXNumeric&&!s.isBarHorizontal&&l>0&&u!==0){u<=3&&(u=s.dataPoints);var h=u/e,d=s.minXDiff&&s.minXDiff/h>0?s.minXDiff/h:0;d>e/2&&(d/=2),(o=d*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(o=1),s.barPadForNumericAxis=o}return o}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,i=t.globals,s=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach(function(o){t.config[o].text!==void 0?s+=t.config[o].margin:s+=e.dCtx.isSparkline||!i.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||i.axisCharts||(s+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=r.height+a.height+s,i.translateY+=r.height+a.height+s}},{key:"setGridXPosForDualYAxis",value:function(e,t){var i=this.w,s=new As(this.dCtx.ctx);i.config.yaxis.forEach(function(r,a){i.globals.ignoreYAxisIndexes.indexOf(a)!==-1||r.floating||s.isYAxisHidden(a)||(r.opposite&&(i.globals.translateX-=t[a].width+e[a].width+parseInt(r.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))})}}]),n}(),Zu=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new BN(this),this.dimYAxis=new XN(this),this.dimXAxis=new HN(this),this.dimGrid=new WN(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return ne(n,[{key:"plotCoords",value:function(){var e=this,t=this.w,i=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var s=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Ct(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(a){var o=Vk(a,2),l=o[0],c=o[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(s/2,this.gridPad.top),this.gridPad.bottom=Math.max(s/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*r,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(r>0?r:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,i=t.globals,s=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(f,m){t.globals.yLabelsCoords.push({width:s[m].width,index:m}),t.globals.yTitleCoords.push({width:r[m].width,index:m})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),o=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,l,o),i.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+t.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+t.config.xaxis.labels.offsetX;var c=this.yAxisWidth,u=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-l.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-a.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var h=10;(t.config.chart.type==="radar"||this.isSparkline)&&(c=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(c=0,u=0,h=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(a);var d=function(){i.translateX=c+e.datalabelsCoords.width,i.gridHeight=i.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-c-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(h=i.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":i.translateY=h,d();break;case"top":i.translateY=this.lgRect.height+h,d();break;case"left":i.translateY=h,i.translateX=this.lgRect.width+c+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-u-12,i.gridWidth=i.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":i.translateY=h,i.translateX=c+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-u-12,i.gridWidth=i.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,s),new mx(this.ctx).setYAxisXPosition(s,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=e.config,s=0;e.config.legend.show&&!e.config.legend.floating&&(s=20);var r=i.chart.type==="pie"||i.chart.type==="polarArea"||i.chart.type==="donut"?"pie":"radialBar",a=i.plotOptions[r].offsetY,o=i.plotOptions[r].offsetX;if(!i.legend.show||i.legend.floating){t.gridHeight=t.svgHeight;var l=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(l,t.gridHeight),t.translateY=a,void(t.translateX=o+(t.svgWidth-t.gridWidth)/2)}switch(i.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=o+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-s,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+this.lgRect.width+s;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-s-5,t.gridHeight=i.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=o+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,i){var s=this.w,r=s.globals.hasXaxisGroups?2:1,a=i.height+e.height+t.height,o=s.globals.isMultiLineX?1.2:s.globals.LINE_HEIGHT_RATIO,l=s.globals.rotateXLabels?22:10,c=s.globals.rotateXLabels&&s.config.legend.position==="bottom"?10:0;this.xAxisHeight=a*o+r*l+c,this.xAxisWidth=e.width,this.xAxisHeight-t.height>s.config.xaxis.labels.maxHeight&&(this.xAxisHeight=s.config.xaxis.labels.maxHeight),s.config.xaxis.labels.minHeight&&this.xAxisHeight<s.config.xaxis.labels.minHeight&&(this.xAxisHeight=s.config.xaxis.labels.minHeight),s.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;s.config.yaxis.forEach(function(d){u+=d.labels.minWidth,h+=d.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),n}(),YN=function(){function n(e){te(this,n),this.w=e.w,this.lgCtx=e}return ne(n,[{key:"getLegendStyles",value:function(){var e,t,i,s=document.createElement("style");s.setAttribute("type","text/css");var r=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(i=t.chart)===null||i===void 0?void 0:i.nonce)||this.w.config.chart.nonce;r&&s.setAttribute("nonce",r);var a=document.createTextNode(mC);return s.appendChild(a),s}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){var e=this.w.globals;this.w.config.chart.injectStyleSheet!==!1&&e.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var i=this,s=this.w;if(s.globals.axisCharts||s.config.chart.type==="radialBar"){s.globals.resized=!0;var r=null,a=null;s.globals.risingSeries=[],s.globals.axisCharts?(r=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(r.getAttribute("data:realIndex"),10)):(r=s.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:s.globals.collapsedSeries,csi:s.globals.collapsedSeriesIndices},{cs:s.globals.ancillaryCollapsedSeries,csi:s.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){i.riseCollapsedSeries(u.cs,u.csi,a)}):this.hideSeries({seriesEl:r,realIndex:a})}else{var o=s.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=s.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=s.config.plotOptions.pie.donut.labels;new W(this.lgCtx.ctx).pathMouseDown(o,null),this.lgCtx.ctx.pie.printDataLabelsInner(o.node,c)}o.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,i=this.w,s=i.globals,r=D.clone(i.config.series);if(s.axisCharts){var a=i.config.yaxis[s.seriesYAxisReverseMap[t]],o={index:t,data:r[t].data.slice(),type:r[t].type||i.config.chart.type};if(a&&a.show&&a.showAlways)s.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(s.ancillaryCollapsedSeries.push(o),s.ancillaryCollapsedSeriesIndices.push(t));else if(s.collapsedSeriesIndices.indexOf(t)<0){s.collapsedSeries.push(o),s.collapsedSeriesIndices.push(t);var l=s.risingSeries.indexOf(t);s.risingSeries.splice(l,1)}}else s.collapsedSeries.push({index:t,data:r[t]}),s.collapsedSeriesIndices.push(t);return s.allSeriesCollapsed=s.collapsedSeries.length+s.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(r)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,i=e.realIndex,s=this.w,r=this.getSeriesAfterCollapsing({realIndex:i}),a=t.childNodes,o=0;o<a.length;o++)a[o].classList.contains("apexcharts-series-markers-wrap")&&(a[o].classList.contains("apexcharts-hide")?a[o].classList.remove("apexcharts-hide"):a[o].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(r,s.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,i){var s=this.w,r=D.clone(s.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===i&&(s.globals.axisCharts?r[i].data=e[a].data.slice():r[i]=e[a].data,typeof r[i]!="number"&&(r[i].hidden=!1),e.splice(a,1),t.splice(a,1),s.globals.risingSeries.push(i));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,s.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,i=0;return t.globals.axisCharts?e.forEach(function(s,r){t.globals.collapsedSeriesIndices.indexOf(r)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)<0||(e[r].data=[],i++)}):e.forEach(function(s,r){!t.globals.collapsedSeriesIndices.indexOf(r)<0&&(e[r]=0,i++)}),t.globals.allSeriesCollapsed=i===e.length,e}}]),n}(),vC=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new YN(this)}return ne(n,[{key:"init",value:function(){var e=this.w,t=e.globals,i=e.config,s=i.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(s||!t.axisCharts)&&i.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),i.legend.position==="bottom"||i.legend.position==="top"?this.legendAlignHorizontal():i.legend.position!=="right"&&i.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,i=e.fillcolor,s=this.w,r=document.createElement("span");r.classList.add("apexcharts-legend-marker");var a=s.config.legend.markers.shape||s.config.markers.shape,o=a;Array.isArray(a)&&(o=a[t]);var l=Array.isArray(s.config.legend.markers.size)?parseFloat(s.config.legend.markers.size[t]):parseFloat(s.config.legend.markers.size),c=Array.isArray(s.config.legend.markers.offsetX)?parseFloat(s.config.legend.markers.offsetX[t]):parseFloat(s.config.legend.markers.offsetX),u=Array.isArray(s.config.legend.markers.offsetY)?parseFloat(s.config.legend.markers.offsetY[t]):parseFloat(s.config.legend.markers.offsetY),h=Array.isArray(s.config.legend.markers.strokeWidth)?parseFloat(s.config.legend.markers.strokeWidth[t]):parseFloat(s.config.legend.markers.strokeWidth),d=r.style;if(d.height=2*(l+h)+"px",d.width=2*(l+h)+"px",d.left=c+"px",d.top=u+"px",s.config.legend.markers.customHTML)d.background="transparent",d.color=i[t],Array.isArray(s.config.legend.markers.customHTML)?s.config.legend.markers.customHTML[t]&&(r.innerHTML=s.config.legend.markers.customHTML[t]()):r.innerHTML=s.config.legend.markers.customHTML();else{var f=new Fa(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(o),seriesIndex:t,strokeWidth:h,size:l}),m=window.SVG().addTo(r).size("100%","100%"),g=new W(this.ctx).drawMarker(0,0,Z(Z({},f),{},{pointFillColor:Array.isArray(i)?i[t]:f.pointFillColor,shape:o}));s.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(v){v.node.classList.contains("apexcharts-marker-triangle")?v.node.style.transform="translate(50%, 45%)":v.node.style.transform="translate(50%, 50%)"}),m.add(g)}return r}},{key:"drawLegends",value:function(){var e=this,t=this,i=this.w,s=i.config.legend.fontFamily,r=i.globals.seriesNames,a=i.config.legend.markers.fillColors?i.config.legend.markers.fillColors.slice():i.globals.colors.slice();if(i.config.chart.type==="heatmap"){var o=i.config.plotOptions.heatmap.colorScale.ranges;r=o.map(function(f){return f.name?f.name:f.from+" - "+f.to}),a=o.map(function(f){return f.color})}else this.isBarsDistributed&&(r=i.globals.labels.slice());i.config.legend.customLegendItems.length&&(r=i.config.legend.customLegendItems);var l=i.globals.legendFormatter,c=i.config.legend.inverseOrder,u=[];i.globals.seriesGroups.length>1&&i.config.legend.clusterGroupedSeries&&i.globals.seriesGroups.forEach(function(f,m){u[m]=document.createElement("div"),u[m].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(m)),i.config.legend.clusterGroupedSeriesOrientation==="horizontal"?i.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[m].classList.add("apexcharts-legend-group-vertical")});for(var h=function(f){var m,g=l(r[f],{seriesIndex:f,w:i}),v=!1,x=!1;if(i.globals.collapsedSeries.length>0)for(var y=0;y<i.globals.collapsedSeries.length;y++)i.globals.collapsedSeries[y].index===f&&(v=!0);if(i.globals.ancillaryCollapsedSeriesIndices.length>0)for(var b=0;b<i.globals.ancillaryCollapsedSeriesIndices.length;b++)i.globals.ancillaryCollapsedSeriesIndices[b]===f&&(x=!0);var _=e.createLegendMarker({i:f,fillcolor:a});W.setAttrs(_,{rel:f+1,"data:collapsed":v||x}),(v||x)&&_.classList.add("apexcharts-inactive-legend");var k=document.createElement("div"),P=document.createElement("span");P.classList.add("apexcharts-legend-text"),P.innerHTML=Array.isArray(g)?g.join(" "):g;var A=i.config.legend.labels.useSeriesColors?i.globals.colors[f]:Array.isArray(i.config.legend.labels.colors)?(m=i.config.legend.labels.colors)===null||m===void 0?void 0:m[f]:i.config.legend.labels.colors;A||(A=i.config.chart.foreColor),P.style.color=A,P.style.fontSize=parseFloat(i.config.legend.fontSize)+"px",P.style.fontWeight=i.config.legend.fontWeight,P.style.fontFamily=s||i.config.chart.fontFamily,W.setAttrs(P,{rel:f+1,i:f,"data:default-text":encodeURIComponent(g),"data:collapsed":v||x}),k.appendChild(_),k.appendChild(P);var w=new dt(e.ctx);i.config.legend.showForZeroSeries||w.getSeriesTotalByIndex(f)===0&&w.seriesHaveSameValues(f)&&!w.isSeriesNull(f)&&i.globals.collapsedSeriesIndices.indexOf(f)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(f)===-1&&k.classList.add("apexcharts-hidden-zero-series"),i.config.legend.showForNullSeries||w.isSeriesNull(f)&&i.globals.collapsedSeriesIndices.indexOf(f)===-1&&i.globals.ancillaryCollapsedSeriesIndices.indexOf(f)===-1&&k.classList.add("apexcharts-hidden-null-series"),u.length?i.globals.seriesGroups.forEach(function(C,E){var I;C.includes((I=i.config.series[f])===null||I===void 0?void 0:I.name)&&(i.globals.dom.elLegendWrap.appendChild(u[E]),u[E].appendChild(k))}):i.globals.dom.elLegendWrap.appendChild(k),i.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(i.config.legend.horizontalAlign)),i.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+i.config.legend.position),k.classList.add("apexcharts-legend-series"),k.style.margin="".concat(i.config.legend.itemMargin.vertical,"px ").concat(i.config.legend.itemMargin.horizontal,"px"),i.globals.dom.elLegendWrap.style.width=i.config.legend.width?i.config.legend.width+"px":"",i.globals.dom.elLegendWrap.style.height=i.config.legend.height?i.config.legend.height+"px":"",W.setAttrs(k,{rel:f+1,seriesName:D.escapeString(r[f]),"data:collapsed":v||x}),(v||x)&&k.classList.add("apexcharts-inactive-legend"),i.config.legend.onItemClick.toggleDataSeries||k.classList.add("apexcharts-no-click")},d=c?r.length-1:0;c?d>=0:d<=r.length-1;c?d--:d++)h(d);i.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),i.config.legend.onItemHover.highlightDataSeries&&i.config.legend.customLegendItems.length===0&&(i.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),i.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var i=this.w,s=i.globals.dom.elLegendWrap,r=s.clientHeight,a=0,o=0;if(i.config.legend.position==="bottom")o=i.globals.svgHeight-Math.min(r,i.globals.svgHeight/2)-5;else if(i.config.legend.position==="top"){var l=new Zu(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,u=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;o=(c>0?c-10:0)+(u>0?u-10:0)}s.style.position="absolute",a=a+e+i.config.legend.offsetX,o=o+t+i.config.legend.offsetY,s.style.left=a+"px",s.style.top=o+"px",i.config.legend.position==="right"&&(s.style.left="auto",s.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach(function(h){s.style[h]&&(s.style[h]=parseInt(i.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new Zu(this.ctx),i=t.dimHelpers.getTitleSubtitleCoords("title"),s=t.dimHelpers.getTitleSubtitleCoords("subtitle"),r=0;e.config.legend.position==="top"&&(r=i.height+s.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,r)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),i=0;e.config.legend.position==="left"&&(i=20),e.config.legend.position==="right"&&(i=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,i=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(i){var s=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,s,this.w]),new zn(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&i&&new zn(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(e.target.getAttribute("rel"),10)-1,s=e.target.getAttribute("data:collapsed")==="true",r=this.w.config.chart.events.legendClick;typeof r=="function"&&r(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var a=this.w.config.legend.markers.onClick;typeof a=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,s)}}}]),n}(),bC=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return ne(n,[{key:"createToolbar",value:function(){var e=this,t=this.w,i=function(){return document.createElement("div")},s=i();if(s.setAttribute("class","apexcharts-toolbar"),s.style.top=t.config.chart.toolbar.offsetY+"px",s.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(s),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(i());var a=[],o=function(h,d,f){var m=h.toLowerCase();e.t[m]&&t.config.chart.zoom.enabled&&a.push({el:d,icon:typeof e.t[m]=="string"?e.t[m]:f,title:e.localeValues[h],class:"apexcharts-".concat(m,"-icon")})};o("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),o("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var l=function(h){e.t[h]&&t.config.chart[h].enabled&&a.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:"apexcharts-".concat(h,"-icon")})};l("zoom"),l("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:"apexcharts-pan-icon"}),o("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&a.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)a.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});a.forEach(function(h,d){h.index&&D.moveIndexInArray(a,d,h.index)});for(var u=0;u<a.length;u++)W.setAttrs(a[u].el,{class:a[u].class,title:a[u].title}),a[u].el.innerHTML=a[u].icon,s.appendChild(a[u].el);this._createHamburgerMenu(s),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),W.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<t.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=t[i].title,W.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(t[i].name),title:t[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(i){i.classList.contains("exportSVG")?i.addEventListener("click",e.handleDownload.bind(e,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",e.handleDownload.bind(e,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var i=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,s=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[s]=!t.w.globals[s],i.classList.contains(t.ctx.toolbar.selectedClass)?i.classList.remove(t.ctx.toolbar.selectedClass):i.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,i=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(i){i&&i.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,i=(this.minX+t)/2,s=(this.maxX+t)/2,r=this._getNewMinXMaxX(i,s);e.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,i=this.minX-(t-this.minX),s=this.maxX-(t-this.maxX),r=this._getNewMinXMaxX(i,s);e.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(e):e,maxX:i?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var i=this.w;if(e!==void 0||t!==void 0){if(!(i.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=i.globals.dataPoints),t-e<2))){var s={min:e,max:t},r=this.getBeforeZoomRange(s);r&&(s=r.xaxis);var a={xaxis:s},o=D.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(a.yaxis=o),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(s,o)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&(this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t}),this.ctx.events.fireEvent("zoomed",{xaxis:e,yaxis:t}))}},{key:"getBeforeZoomRange",value:function(e,t){var i=null;return typeof this.ev.beforeZoom=="function"&&(i=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),i}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,i=new Uo(this.ctx);switch(e){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var i=t.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof i.config.chart.events.beforeResetZoom=="function"){var s=i.config.chart.events.beforeResetZoom(t,i);s&&t.updateHelpers.revertDefaultAxisMinMax(s)}typeof i.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var r=t.ctx.series.emptyCollapsedSeries(D.clone(i.globals.initialSeries));t.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),n}(),UN=function(n){Gl(t,bC);var e=$l(t);function t(i){var s;return te(this,t),(s=e.call(this,i)).ctx=i,s.w=i.w,s.dragged=!1,s.graphics=new W(s.ctx),s.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],s.clientX=0,s.clientY=0,s.startX=0,s.endX=0,s.dragX=0,s.startY=0,s.endY=0,s.dragY=0,s.moveDirection="none",s.debounceTimer=null,s.debounceDelay=100,s.wheelDelay=400,s}return ne(t,[{key:"init",value:function(i){var s=this,r=i.xyRatios,a=this.w,o=this;this.xyRatios=r,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=a.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new ht(0,0,a.globals.gridWidth,a.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),a.globals.dom.Paper.add(this.zoomRect),a.globals.dom.Paper.add(this.selectionRect),a.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:a.globals.gridWidth,maxY:a.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):a.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:a.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=a.globals.dom.baseEl.querySelector("".concat(a.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){s.hoverArea.addEventListener(l,o.svgMouseEvents.bind(o,r),{capture:!1,passive:!0})}),a.config.chart.zoom.enabled&&a.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",o.mouseWheelEvent.bind(o),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,s){var r=this.w,a=this.ctx.toolbar,o=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type,l=r.config.chart.toolbar.autoSelected;if(s.shiftKey?(this.shiftWasPressed=!0,a.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(a.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),s.target){var c,u=s.target.classList;if(s.target.parentNode&&s.target.parentNode!==null&&(c=s.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=s.type==="touchmove"||s.type==="touchstart"?s.touches[0].clientX:s.type==="touchend"?s.changedTouches[0].clientX:s.clientX,this.clientY=s.type==="touchmove"||s.type==="touchstart"?s.touches[0].clientY:s.type==="touchend"?s.changedTouches[0].clientY:s.clientY,s.type==="mousedown"&&s.which===1||s.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-r.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(s.type==="mousemove"&&s.which===1||s.type==="touchmove")&&(this.dragged=!0,r.globals.panEnabled?(r.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:o,xyRatios:i})):(this.w.globals.mousedown&&r.globals.zoomEnabled||this.w.globals.mousedown&&r.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:o}))),s.type!=="mouseup"&&s.type!=="touchend"&&s.type!=="mouseleave"||this.handleMouseUp({zoomtype:o}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(i){var s,r=i.zoomtype,a=i.isResized,o=this.w,l=(s=this.gridRect)===null||s===void 0?void 0:s.getBoundingClientRect();l&&(this.w.globals.mousedown||a)&&(this.endX=this.clientX-l.left-o.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(o.globals.zoomEnabled||o.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:r})),o.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(i){var s=this,r=this.w;i.preventDefault();var a=Date.now();a-r.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),r.globals.lastWheelExecution=a),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){a-r.globals.lastWheelExecution>s.wheelDelay&&(s.executeMouseWheelZoom(i),r.globals.lastWheelExecution=a)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var s,r=this.w;this.minX=r.globals.isRangeBar?r.globals.minY:r.globals.minX,this.maxX=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;var a=(s=this.gridRect)===null||s===void 0?void 0:s.getBoundingClientRect();if(a){var o,l,c,u=(i.clientX-a.left)/a.width,h=this.minX,d=this.maxX,f=d-h;if(i.deltaY<0){var m=h+u*f;l=m-(o=.5*f)/2,c=m+o/2}else l=h-(o=1.5*f)/2,c=d+o/2;if(!r.globals.isRangeBar){l=Math.max(l,r.globals.initialMinX),c=Math.min(c,r.globals.initialMaxX);var g=.01*(r.globals.initialMaxX-r.globals.initialMinX);if(c-l<g){var v=(l+c)/2;l=v-g/2,c=v+g/2}}var x=this._getNewMinXMaxX(l,c);isNaN(x.minX)||isNaN(x.maxX)||this.zoomUpdateOptions(x.minX,x.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this,s=this.w;if(this.selectionRect){var r=this.selectionRect.node.getBoundingClientRect();r.width>0&&r.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(a,o,l,c,u){return u==="l"||u==="r"?a.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):a.circle(0)},updateHandle:function(a,o){return a.center(o[0],o[1])}}).resize().on("resize",function(){var a=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type;i.handleMouseUp({zoomtype:a,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var i=this.w,s=this.xyRatios;if(!i.globals.zoomEnabled){if(i.globals.selection!==void 0&&i.globals.selection!==null)this.drawSelectionRect(Z(Z({},i.globals.selection),{},{translateX:i.globals.translateX,translateY:i.globals.translateY}));else if(i.config.chart.selection.xaxis.min!==void 0&&i.config.chart.selection.xaxis.max!==void 0){var r=(i.config.chart.selection.xaxis.min-i.globals.minX)/s.xRatio,a=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/s.xRatio-r;i.globals.isRangeBar&&(r=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/s.invertedYRatio,a=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/s.invertedYRatio);var o={x:r,y:0,width:a,height:i.globals.gridHeight,translateX:i.globals.translateX,translateY:i.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(o),this.makeSelectionRectDraggable(),typeof i.config.chart.events.selection=="function"&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(i){var s=i.x,r=i.y,a=i.width,o=i.height,l=i.translateX,c=l===void 0?0:l,u=i.translateY,h=u===void 0?0:u,d=this.w,f=this.zoomRect,m=this.selectionRect;if(this.dragged||d.globals.selection!==null){var g={transform:"translate("+c+", "+h+")"};d.globals.zoomEnabled&&this.dragged&&(a<0&&(a=1),f.attr({x:s,y:r,width:a,height:o,fill:d.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":d.config.chart.zoom.zoomedArea.fill.opacity,stroke:d.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":d.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":d.config.chart.zoom.zoomedArea.stroke.opacity}),W.setAttrs(f.node,g)),d.globals.selectionEnabled&&(m.attr({x:s,y:r,width:a>0?a:0,height:o>0?o:0,fill:d.config.chart.selection.fill.color,"fill-opacity":d.config.chart.selection.fill.opacity,stroke:d.config.chart.selection.stroke.color,"stroke-width":d.config.chart.selection.stroke.width,"stroke-dasharray":d.config.chart.selection.stroke.dashArray,"stroke-opacity":d.config.chart.selection.stroke.opacity}),W.setAttrs(m.node,g))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var s=i.context,r=i.zoomtype,a=this.w,o=s,l=this.gridRect.getBoundingClientRect(),c=o.startX-1,u=o.startY,h=!1,d=!1,f=o.clientX-l.left-a.globals.barPadForNumericAxis,m=o.clientY-l.top,g=f-c,v=m-u,x={translateX:a.globals.translateX,translateY:a.globals.translateY};return Math.abs(g+c)>a.globals.gridWidth?g=a.globals.gridWidth-c:f<0&&(g=c),c>f&&(h=!0,g=Math.abs(g)),u>m&&(d=!0,v=Math.abs(v)),x=Z(Z({},x=r==="x"?{x:h?c-g:c,y:0,width:g,height:a.globals.gridHeight}:r==="y"?{x:0,y:d?u-v:u,width:a.globals.gridWidth,height:v}:{x:h?c-g:c,y:d?u-v:u,width:g,height:v}),{},{translateX:a.globals.translateX,translateY:a.globals.translateY}),o.drawSelectionRect(x),o.selectionDragging("resizing"),x}},{key:"selectionDragging",value:function(i,s){var r=this,a=this.w;if(s){s.preventDefault();var o=s.detail,l=o.handler,c=o.box,u=c.x,h=c.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),c.x2>this.constraints.x2&&(u=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(h=this.constraints.y2-c.h),l.move(u,h);var d=this.xyRatios,f=this.selectionRect,m=0;i==="resizing"&&(m=30);var g=function(x){return parseFloat(f.node.getAttribute(x))},v={x:g("x"),y:g("y"),width:g("width"),height:g("height")};a.globals.selection=v,typeof a.config.chart.events.selection=="function"&&a.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var x,y,b,_,k=r.gridRect.getBoundingClientRect(),P=f.node.getBoundingClientRect();a.globals.isRangeBar?(x=a.globals.yAxisScale[0].niceMin+(P.left-k.left)*d.invertedYRatio,y=a.globals.yAxisScale[0].niceMin+(P.right-k.left)*d.invertedYRatio,b=0,_=1):(x=a.globals.xAxisScale.niceMin+(P.left-k.left)*d.xRatio,y=a.globals.xAxisScale.niceMin+(P.right-k.left)*d.xRatio,b=a.globals.yAxisScale[0].niceMin+(k.bottom-P.bottom)*d.yRatio[0],_=a.globals.yAxisScale[0].niceMax-(P.top-k.top)*d.yRatio[0]);var A={xaxis:{min:x,max:y},yaxis:{min:b,max:_}};a.config.chart.events.selection(r.ctx,A),a.config.chart.brush.enabled&&a.config.chart.events.brushScrolled!==void 0&&a.config.chart.events.brushScrolled(r.ctx,A)},m))}}},{key:"selectionDrawn",value:function(i){var s,r,a=i.context,o=i.zoomtype,l=this.w,c=a,u=this.xyRatios,h=this.ctx.toolbar,d=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),f=c.gridRect.getBoundingClientRect(),m=d.left-f.left-l.globals.barPadForNumericAxis,g=d.right-f.left-l.globals.barPadForNumericAxis,v=d.top-f.top,x=d.bottom-f.top;l.globals.isRangeBar?(s=l.globals.yAxisScale[0].niceMin+m*u.invertedYRatio,r=l.globals.yAxisScale[0].niceMin+g*u.invertedYRatio):(s=l.globals.xAxisScale.niceMin+m*u.xRatio,r=l.globals.xAxisScale.niceMin+g*u.xRatio);var y=[],b=[];if(l.config.yaxis.forEach(function(E,I){var L=l.globals.seriesYAxisMap[I][0],M=l.globals.yAxisScale[I].niceMax-u.yRatio[L]*v,F=l.globals.yAxisScale[I].niceMax-u.yRatio[L]*x;y.push(M),b.push(F)}),c.dragged&&(c.dragX>10||c.dragY>10)&&s!==r){if(l.globals.zoomEnabled){var _=D.clone(l.globals.initialConfig.yaxis),k=D.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(s=Math.floor(s),r=Math.floor(r),s<1&&(s=1,r=l.globals.dataPoints),r-s<2&&(r=s+1)),o!=="xy"&&o!=="x"||(k={min:s,max:r}),o!=="xy"&&o!=="y"||_.forEach(function(E,I){_[I].min=b[I],_[I].max=y[I]}),h){var P=h.getBeforeZoomRange(k,_);P&&(k=P.xaxis?P.xaxis:k,_=P.yaxis?P.yaxis:_)}var A={xaxis:k};l.config.chart.group||(A.yaxis=_),c.ctx.updateHelpers._updateOptions(A,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&h.zoomCallback(k,_)}else if(l.globals.selectionEnabled){var w,C=null;w={min:s,max:r},o!=="xy"&&o!=="y"||(C=D.clone(l.config.yaxis)).forEach(function(E,I){C[I].min=b[I],C[I].max=y[I]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:w,yaxis:C})}}}},{key:"panDragging",value:function(i){var s=i.context,r=this.w,a=s;if(r.globals.lastClientPosition.x!==void 0){var o=r.globals.lastClientPosition.x-a.clientX,l=r.globals.lastClientPosition.y-a.clientY;Math.abs(o)>Math.abs(l)&&o>0?this.moveDirection="left":Math.abs(o)>Math.abs(l)&&o<0?this.moveDirection="right":Math.abs(l)>Math.abs(o)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(o)&&l<0&&(this.moveDirection="down")}r.globals.lastClientPosition={x:a.clientX,y:a.clientY};var c=r.globals.isRangeBar?r.globals.minY:r.globals.minX,u=r.globals.isRangeBar?r.globals.maxY:r.globals.maxX;a.panScrolled(c,u)}},{key:"panScrolled",value:function(i,s){var r=this.w,a=this.xyRatios,o=D.clone(r.globals.initialConfig.yaxis),l=a.xRatio,c=r.globals.minX,u=r.globals.maxX;r.globals.isRangeBar&&(l=a.invertedYRatio,c=r.globals.minY,u=r.globals.maxY),this.moveDirection==="left"?(i=c+r.globals.gridWidth/15*l,s=u+r.globals.gridWidth/15*l):this.moveDirection==="right"&&(i=c-r.globals.gridWidth/15*l,s=u-r.globals.gridWidth/15*l),r.globals.isRangeBar||(i<r.globals.initialMinX||s>r.globals.initialMaxX)&&(i=c,s=u);var h={xaxis:{min:i,max:s}};r.config.chart.group||(h.yaxis=o),this.updateScrolledChart(h,i,s)}},{key:"updateScrolledChart",value:function(i,s,r){var a=this.w;if(this.ctx.updateHelpers._updateOptions(i,!1,!1),typeof a.config.chart.events.scrolled=="function"){var o={xaxis:{min:s,max:r}};a.config.chart.events.scrolled(this.ctx,o),this.ctx.events.fireEvent("scrolled",o)}}}]),t}(),wC=function(){function n(e){te(this,n),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return ne(n,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,i=e.elGrid,s=e.clientX,r=e.clientY,a=this.w,o=i.getBoundingClientRect(),l=o.width,c=o.height,u=l/(a.globals.dataPoints-1),h=c/a.globals.dataPoints,d=this.hasBars();!a.globals.comboCharts&&!d||a.config.xaxis.convertedCatToNumeric||(u=l/a.globals.dataPoints);var f=s-o.left-a.globals.barPadForNumericAxis,m=r-o.top;f<0||m<0||f>l||m>c?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var g=Math.round(f/u),v=Math.floor(m/h);d&&!a.config.xaxis.convertedCatToNumeric&&(g=Math.ceil(f/u),g-=1);var x=null,y=null,b=a.globals.seriesXvalues.map(function(w){return w.filter(function(C){return D.isNumber(C)})}),_=a.globals.seriesYvalues.map(function(w){return w.filter(function(C){return D.isNumber(C)})});if(a.globals.isXNumeric){var k=this.ttCtx.getElGrid().getBoundingClientRect(),P=f*(k.width/l),A=m*(k.height/c);x=(y=this.closestInMultiArray(P,A,b,_)).index,g=y.j,x!==null&&a.globals.hasNullValues&&(b=a.globals.seriesXvalues[x],g=(y=this.closestInArray(P,b)).j)}return a.globals.capturedSeriesIndex=x===null?-1:x,(!g||g<1)&&(g=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=v:a.globals.capturedDataPointIndex=g,{capturedSeries:x,j:a.globals.isBarHorizontal?v:g,hoverX:f,hoverY:m}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,i=0,s=e.map(function(a,o){return a.length>0?o:-1}),r=0;r<s.length;r++)if(s[r]!==-1&&t.globals.collapsedSeriesIndices.indexOf(r)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1){i=s[r];break}return i}},{key:"closestInMultiArray",value:function(e,t,i,s){for(var r,a=this.w,o=1/0,l=null,c=null,u=0;u<i.length;u++)if(r=u,a.globals.collapsedSeriesIndices.indexOf(r)===-1&&a.globals.ancillaryCollapsedSeriesIndices.indexOf(r)===-1)for(var h=i[u],d=s[u],f=Math.min(h.length,d.length),m=0;m<f;m++){var g=e-h[m],v=Math.sqrt(g*g);if(!a.globals.allSeriesHasEqualX){var x=t-d[m];v=Math.sqrt(g*g+x*x)}v<o&&(o=v,l=u,c=m)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,t){for(var i=t[0],s=null,r=Math.abs(e-i),a=0;a<t.length;a++){var o=Math.abs(e-t[a]);o<r&&(r=o,s=a)}return{j:s}}},{key:"isXoverlap",value:function(e){var t=[],i=this.w.globals.seriesX.filter(function(r){return r[0]!==void 0});if(i.length>0)for(var s=0;s<i.length-1;s++)i[s][e]!==void 0&&i[s+1][e]!==void 0&&i[s][e]!==i[s+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,i=0;i<t.length-1;i++)if(t[i].data.length!==t[i+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Ct(e).reduce(function(t,i){return t+i.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");i=Ct(i),t&&(i=i.filter(function(r){var a=Number(r.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(a)===-1})),i.sort(function(r,a){var o=Number(r.getAttribute("data:realIndex")),l=Number(a.getAttribute("data:realIndex"));return l<o?1:l>o?-1:0});var s=[];return i.forEach(function(r){s.push(r.querySelector(".apexcharts-marker"))}),s}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var i=Number(e.getAttribute("cx")),s=Number(e.getAttribute("cy")),r=e.getAttribute("shape");return new W(this.ctx).getMarkerPath(i,s,r,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,i=t.config.markers.hover.size;return i===void 0&&(i=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,i=this.ttCtx;i.allTooltipSeriesGroups.length===0&&(i.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var s=i.allTooltipSeriesGroups,r=0;r<s.length;r++)e==="enable"?(s[r].classList.add("apexcharts-active"),s[r].style.display=t.config.tooltip.items.display):(s[r].classList.remove("apexcharts-active"),s[r].style.display="none")}}]),n}(),$N=function(){function n(e){te(this,n),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new wC(e)}return ne(n,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,i=t===void 0||t,s=e.ttItems,r=e.i,a=r===void 0?0:r,o=e.j,l=o===void 0?null:o,c=e.y1,u=e.y2,h=e.e,d=this.w;d.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:a,j:l,y1:c,y2:u,w:d}):this.toggleActiveInactiveSeries(i,a);var f=this.getValuesToPrint({i:a,j:l});this.printLabels({i:a,j:l,values:f,ttItems:s,shared:i,e:h});var m=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=m.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=m.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,i=this,s=e.i,r=e.j,a=e.values,o=e.ttItems,l=e.shared,c=e.e,u=this.w,h=[],d=function(k){return u.globals.seriesGoals[k]&&u.globals.seriesGoals[k][r]&&Array.isArray(u.globals.seriesGoals[k][r])},f=a.xVal,m=a.zVal,g=a.xAxisTTVal,v="",x=u.globals.colors[s];r!==null&&u.config.plotOptions.bar.distributed&&(x=u.globals.colors[r]);for(var y=function(k,P){var A=i.getFormatters(s);v=i.getSeriesName({fn:A.yLbTitleFormatter,index:s,seriesIndex:s,j:r}),u.config.chart.type==="treemap"&&(v=A.yLbTitleFormatter(String(u.config.series[s].data[r].x),{series:u.globals.series,seriesIndex:s,dataPointIndex:r,w:u}));var w=u.config.tooltip.inverseOrder?P:k;if(u.globals.axisCharts){var C=function(L){var M,F,B,$;return u.globals.isRangeData?A.yLbFormatter((M=u.globals.seriesRangeStart)===null||M===void 0||(F=M[L])===null||F===void 0?void 0:F[r],{series:u.globals.seriesRangeStart,seriesIndex:L,dataPointIndex:r,w:u})+" - "+A.yLbFormatter((B=u.globals.seriesRangeEnd)===null||B===void 0||($=B[L])===null||$===void 0?void 0:$[r],{series:u.globals.seriesRangeEnd,seriesIndex:L,dataPointIndex:r,w:u}):A.yLbFormatter(u.globals.series[L][r],{series:u.globals.series,seriesIndex:L,dataPointIndex:r,w:u})};if(l)A=i.getFormatters(w),v=i.getSeriesName({fn:A.yLbTitleFormatter,index:w,seriesIndex:s,j:r}),x=u.globals.colors[w],t=C(w),d(w)&&(h=u.globals.seriesGoals[w][r].map(function(L){return{attrs:L,val:A.yLbFormatter(L.value,{seriesIndex:w,dataPointIndex:r,w:u})}}));else{var E,I=c==null||(E=c.target)===null||E===void 0?void 0:E.getAttribute("fill");I&&(I.indexOf("url")!==-1?I.indexOf("Pattern")!==-1&&(x=u.globals.dom.baseEl.querySelector(I.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):x=I),t=C(s),d(s)&&Array.isArray(u.globals.seriesGoals[s][r])&&(h=u.globals.seriesGoals[s][r].map(function(L){return{attrs:L,val:A.yLbFormatter(L.value,{seriesIndex:s,dataPointIndex:r,w:u})}}))}}r===null&&(t=A.yLbFormatter(u.globals.series[s],Z(Z({},u),{},{seriesIndex:s,dataPointIndex:s}))),i.DOMHandling({i:s,t:w,j:r,ttItems:o,values:{val:t,goalVals:h,xVal:f,xAxisTTVal:g,zVal:m},seriesName:v,shared:l,pColor:x})},b=0,_=u.globals.series.length-1;b<u.globals.series.length;b++,_--)y(b,_)}},{key:"getFormatters",value:function(e){var t,i=this.w,s=i.globals.yLabelFormatters[e];return i.globals.ttVal!==void 0?Array.isArray(i.globals.ttVal)?(s=i.globals.ttVal[e]&&i.globals.ttVal[e].formatter,t=i.globals.ttVal[e]&&i.globals.ttVal[e].title&&i.globals.ttVal[e].title.formatter):(s=i.globals.ttVal.formatter,typeof i.globals.ttVal.title.formatter=="function"&&(t=i.globals.ttVal.title.formatter)):t=i.config.tooltip.y.title.formatter,typeof s!="function"&&(s=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(r){return r}),typeof t!="function"&&(t=function(r){return r?r+": ":""}),{yLbFormatter:s,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,i=e.index,s=e.seriesIndex,r=e.j,a=this.w;return t(String(a.globals.seriesNames[i]),{series:a.globals.series,seriesIndex:s,dataPointIndex:r,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,i=e.j,s=e.ttItems,r=e.values,a=e.seriesName,o=e.shared,l=e.pColor,c=this.w,u=this.ttCtx,h=r.val,d=r.goalVals,f=r.xVal,m=r.xAxisTTVal,g=r.zVal,v=null;v=s[t].children,c.config.tooltip.fillSeriesColor&&(s[t].style.backgroundColor=l,v[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=f),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=m!==""?m:f);var x=s[t].querySelector(".apexcharts-tooltip-text-y-label");x&&(x.innerHTML=a||"");var y=s[t].querySelector(".apexcharts-tooltip-text-y-value");y&&(y.innerHTML=h!==void 0?h:""),v[0]&&v[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[t]),c.config.tooltip.fillSeriesColor?v[0].style.backgroundColor=l:v[0].style.color=l),c.config.tooltip.marker.show||(v[0].style.display="none");var b=s[t].querySelector(".apexcharts-tooltip-text-goals-label"),_=s[t].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&c.globals.seriesGoals[t]){var k=function(){var w="<div>",C="<div>";d.forEach(function(E,I){w+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(E.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(E.attrs.name,"</div>"),C+="<div>".concat(E.val,"</div>")}),b.innerHTML=w+"</div>",_.innerHTML=C+"</div>"};o?c.globals.seriesGoals[t][i]&&Array.isArray(c.globals.seriesGoals[t][i])?k():(b.innerHTML="",_.innerHTML=""):k()}else b.innerHTML="",_.innerHTML="";if(g!==null&&(s[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,s[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=g!==void 0?g:""),o&&v[0]){if(c.config.tooltip.hideEmptySeries){var P=s[t].querySelector(".apexcharts-tooltip-marker"),A=s[t].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(P.style.display="none",A.style.display="none"):(P.style.display="block",A.style.display="block")}h==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||c.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?v[0].parentNode.style.display="none":v[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(v[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var i=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var s=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));s&&(s.classList.add("apexcharts-active"),s.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,i=e.j,s=this.w,r=this.ctx.series.filteredSeriesX(),a="",o="",l=null,c=null,u={series:s.globals.series,seriesIndex:t,dataPointIndex:i,w:s},h=s.globals.ttZFormatter;i===null?c=s.globals.series[t]:s.globals.isXNumeric&&s.config.chart.type!=="treemap"?(a=r[t][i],r[t].length===0&&(a=r[this.tooltipUtil.getFirstActiveXArray(r)][i])):a=new gx(this.ctx).isFormatXY()?s.config.series[t].data[i]!==void 0?s.config.series[t].data[i].x:"":s.globals.labels[i]!==void 0?s.globals.labels[i]:"";var d=a;return s.globals.isXNumeric&&s.config.xaxis.type==="datetime"?a=new Zl(this.ctx).xLabelFormat(s.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new Dt(this.ctx).formatDate,w:this.w}):a=s.globals.isBarHorizontal?s.globals.yLabelFormatters[0](d,u):s.globals.xLabelFormatter(d,u),s.config.tooltip.x.formatter!==void 0&&(a=s.globals.ttKeyFormatter(d,u)),s.globals.seriesZ.length>0&&s.globals.seriesZ[t].length>0&&(l=h(s.globals.seriesZ[t][i],s)),o=typeof s.config.xaxis.tooltip.formatter=="function"?s.globals.xaxisTooltipFormatter(d,u):a,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(o)?o.join(" "):o,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,i=e.j,s=e.y1,r=e.y2,a=e.w,o=this.ttCtx.getElTooltip(),l=a.config.tooltip.custom;Array.isArray(l)&&l[t]&&(l=l[t]);var c=l({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:i,y1:s,y2:r,w:a});typeof c=="string"||typeof c=="number"?o.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(o.innerHTML="",o.appendChild(c.cloneNode(!0)))}}]),n}(),AC=function(){function n(e){te(this,n),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return ne(n,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=this.ttCtx,s=this.w,r=i.getElXCrosshairs(),a=e-i.xcrosshairsWidth/2,o=s.globals.labels.slice().length;if(t!==null&&(a=s.globals.gridWidth/o*t),r===null||s.globals.isBarHorizontal||(r.setAttribute("x",a),r.setAttribute("x1",a),r.setAttribute("x2",a),r.setAttribute("y2",s.globals.gridHeight),r.classList.add("apexcharts-active")),a<0&&(a=0),a>s.globals.gridWidth&&(a=s.globals.gridWidth),i.isXAxisTooltipEnabled){var l=a;s.config.xaxis.crosshairs.width!=="tickWidth"&&s.config.xaxis.crosshairs.width!=="barWidth"||(l=a+i.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&W.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&W.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;if(i.xaxisTooltip!==null&&i.xcrosshairsWidth!==0){i.xaxisTooltip.classList.add("apexcharts-active");var s=i.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=i.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var r;r=new W(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=r.width+"px",i.xaxisTooltip.style.left=e+"px",i.xaxisTooltip.style.top=s+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,i=this.ttCtx;i.yaxisTTEls===null&&(i.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var s=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+s,a=i.yaxisTTEls[e].getBoundingClientRect(),o=a.height,l=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(l-=a.width),r-=o/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1&&r>0&&r<t.globals.gridHeight?(i.yaxisTTEls[e].classList.add("apexcharts-active"),i.yaxisTTEls[e].style.top=r+"px",i.yaxisTTEls[e].style.left=l+t.config.yaxis[e].tooltip.offsetX+"px"):i.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=this.w,r=this.ttCtx,a=r.getElTooltip(),o=r.tooltipRect,l=i!==null?parseFloat(i):1,c=parseFloat(e)+l+5,u=parseFloat(t)+l/2;if(c>s.globals.gridWidth/2&&(c=c-o.ttWidth-l-10),c>s.globals.gridWidth-o.ttWidth-10&&(c=s.globals.gridWidth-o.ttWidth),c<-20&&(c=-20),s.config.tooltip.followCursor){var h=r.getElGrid().getBoundingClientRect();(c=r.e.clientX-h.left)>s.globals.gridWidth/2&&(c-=r.tooltipRect.ttWidth),(u=r.e.clientY+s.globals.translateY-h.top)>s.globals.gridHeight/2&&(u-=r.tooltipRect.ttHeight)}else s.globals.isBarHorizontal||o.ttHeight/2+u>s.globals.gridHeight&&(u=s.globals.gridHeight-o.ttHeight+s.globals.translateY);isNaN(c)||(c+=s.globals.translateX,a.style.left=c+"px",a.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var i=this.w,s=this.ttCtx;if(i.globals.markers.size[e]>0)for(var r=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<r.length;a++)parseInt(r[a].getAttribute("rel"),10)===t&&(s.marker.resetPointsSize(),s.marker.enlargeCurrentPoint(t,r[a]));else s.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var i,s,r,a,o=this.w,l=this.ttCtx,c=new W(this.ctx),u=o.globals.pointsArray,h=l.tooltipUtil.getHoverMarkerSize(t),d=o.config.series[t].type;if(!d||d!=="column"&&d!=="candlestick"&&d!=="boxPlot"){r=(i=u[t][e])===null||i===void 0?void 0:i[0],a=((s=u[t][e])===null||s===void 0?void 0:s[1])||0;var f=o.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(f&&a<o.globals.gridHeight&&a>0){var m=f.getAttribute("shape"),g=c.getMarkerPath(r,a,m,1.5*h);f.setAttribute("d",g)}this.moveXCrosshairs(r),l.fixedTooltip||this.moveTooltip(r,a,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,i=this.ttCtx,s=i.w,r=0,a=0,o=s.globals.pointsArray,l=new zn(this.ctx),c=new W(this.ctx);t=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=i.tooltipUtil.getHoverMarkerSize(t);if(o[t]&&(r=o[t][e][0],a=o[t][e][1]),!isNaN(r)){var h=i.tooltipUtil.getAllMarkers();if(h.length)for(var d=0;d<s.globals.series.length;d++){var f=o[d];if(s.globals.comboCharts&&f===void 0&&h.splice(d,0,null),f&&f.length){var m=o[d][e][1],g=void 0;h[d].setAttribute("cx",r);var v=h[d].getAttribute("shape");if(s.config.chart.type==="rangeArea"&&!s.globals.comboCharts){var x=e+s.globals.series[d].length;g=o[d][x][1],m-=Math.abs(m-g)/2}if(m!==null&&!isNaN(m)&&m<s.globals.gridHeight+u&&m+u>0){var y=c.getMarkerPath(r,m,v,u);h[d].setAttribute("d",y)}else h[d].setAttribute("d","")}}this.moveXCrosshairs(r),i.fixedTooltip||this.moveTooltip(r,a||s.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var i=this.w,s=this.ttCtx,r=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length;i.config.chart.stacked&&(r=i.globals.barGroups.length);var a=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1;i.globals.isBarHorizontal&&(a=new zn(this.ctx).getActiveConfigSeriesIndex("desc")+1);var o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));o||typeof t!="number"||(o=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var l=o?parseFloat(o.getAttribute("cx")):0,c=o?parseFloat(o.getAttribute("cy")):0,u=o?parseFloat(o.getAttribute("barWidth")):0,h=s.getElGrid().getBoundingClientRect(),d=o&&(o.classList.contains("apexcharts-candlestick-area")||o.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(o&&!d&&(l-=r%2!=0?u/2:0),o&&d&&(l-=u/2)):i.globals.isBarHorizontal||(l=s.xAxisTicksPositions[e-1]+s.dataPointsDividedWidth/2,isNaN(l)&&(l=s.xAxisTicksPositions[e]-s.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?c-=s.tooltipRect.ttHeight:i.config.tooltip.followCursor?c=s.e.clientY-h.top-s.tooltipRect.ttHeight/2:c+s.tooltipRect.ttHeight+15>i.globals.gridHeight&&(c=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(l),s.fixedTooltip||this.moveTooltip(l,c||i.globals.gridHeight)}}]),n}(),GN=function(){function n(e){te(this,n),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new AC(e)}return ne(n,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new W(this.ctx),i=new Fa(this.ctx),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");s=Ct(s),e.config.chart.stacked&&s.sort(function(h,d){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(d.getAttribute("data:realIndex"))});for(var r=0;r<s.length;r++){var a=s[r].querySelector(".apexcharts-series-markers-wrap");if(a!==null){var o=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=i.getMarkerConfig({cssClass:l,seriesIndex:Number(a.getAttribute("data:realIndex"))});(o=t.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(o.node),a.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,r=this.w;r.config.chart.type!=="bubble"&&this.newPointSize(e,t);var a=t.getAttribute("cx"),o=t.getAttribute("cy");if(i!==null&&s!==null&&(a=i,o=s),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if(r.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(a,o,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,i=this,s=this.ttCtx,r=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),o=t.config.markers.hover.size,l=0;l<a.length;l++){var c=a[l].getAttribute("rel"),u=a[l].getAttribute("index");if(o===void 0&&(o=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),r===parseInt(c,10)){i.newPointSize(r,a[l]);var h=a[l].getAttribute("cx"),d=a[l].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(h),s.fixedTooltip||i.tooltipPosition.moveTooltip(h,d,o)}else i.oldPointSize(a[l])}}},{key:"newPointSize",value:function(e,t){var i=this.w,s=i.config.markers.hover.size,r=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(r.getAttribute("default-marker-size")!=="0"){var a=parseInt(r.getAttribute("index"),10);s===void 0&&(s=i.globals.markers.size[a]+i.config.markers.hover.sizeOffset),s<0&&(s=0);var o=this.ttCtx.tooltipUtil.getPathFromPoint(t,s);t.setAttribute("d",o)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var i=parseFloat(e[t].getAttribute("default-marker-size"));if(D.isNumber(i)&&i>0){var s=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],i);e[t].setAttribute("d",s)}else e[t].setAttribute("d","M0,0")}}}]),n}(),qN=function(){function n(e){te(this,n),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return ne(n,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,i=e.opt,s=e.x,r=e.y,a=e.type,o=this.ttCtx,l=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var c=this.getAttr(t,"i"),u=this.getAttr(t,"j"),h=this.getAttr(t,"cx"),d=this.getAttr(t,"cy"),f=this.getAttr(t,"width"),m=this.getAttr(t,"height");if(o.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:c,j:u,shared:!1,e:t}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=u,s=h+o.tooltipRect.ttWidth/2+f,r=d+o.tooltipRect.ttHeight/2-m/2,o.tooltipPosition.moveXCrosshairs(h+f/2),s>l.globals.gridWidth/2&&(s=h-o.tooltipRect.ttWidth/2+f),o.w.config.tooltip.followCursor){var g=l.globals.dom.elWrap.getBoundingClientRect();s=l.globals.clientX-g.left-(s>l.globals.gridWidth/2?o.tooltipRect.ttWidth:0),r=l.globals.clientY-g.top-(r>l.globals.gridHeight/2?o.tooltipRect.ttHeight:0)}}return{x:s,y:r}}},{key:"handleMarkerTooltip",value:function(e){var t,i,s=e.e,r=e.opt,a=e.x,o=e.y,l=this.w,c=this.ttCtx;if(s.target.classList.contains("apexcharts-marker")){var u=parseInt(r.paths.getAttribute("cx"),10),h=parseInt(r.paths.getAttribute("cy"),10),d=parseFloat(r.paths.getAttribute("val"));if(i=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var f=D.findAncestor(r.paths,"apexcharts-series");f&&(t=parseInt(f.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:i,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:s}),s.type==="mouseup"&&c.markerClick(s,t,i),l.globals.capturedSeriesIndex=t,l.globals.capturedDataPointIndex=i,a=u,o=h+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var m=c.getElGrid().getBoundingClientRect();o=c.e.clientY+l.globals.translateY-m.top}d<0&&(o=h),c.marker.enlargeCurrentPoint(i,r.paths,a,o)}return{x:a,y:o}}},{key:"handleBarTooltip",value:function(e){var t,i,s=e.e,r=e.opt,a=this.w,o=this.ttCtx,l=o.getElTooltip(),c=0,u=0,h=0,d=this.getBarTooltipXY({e:s,opt:r});if(d.j!==null||d.barHeight!==0||d.barWidth!==0){t=d.i;var f=d.j;if(a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=f,a.globals.isBarHorizontal&&o.tooltipUtil.hasBars()||!a.config.tooltip.shared?(u=d.x,h=d.y,i=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,c=u):a.globals.comboCharts||a.config.tooltip.shared||(c/=2),isNaN(h)&&(h=a.globals.svgHeight-o.tooltipRect.ttHeight),parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10),u+o.tooltipRect.ttWidth>a.globals.gridWidth?u-=o.tooltipRect.ttWidth:u<0&&(u=0),o.w.config.tooltip.followCursor){var m=o.getElGrid().getBoundingClientRect();h=o.e.clientY-m.top}o.tooltip===null&&(o.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?o.tooltipPosition.moveXCrosshairs(c+i/2):o.tooltipPosition.moveXCrosshairs(c)),!o.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&o.tooltipUtil.hasBars())&&(h=h+a.globals.translateY-o.tooltipRect.ttHeight/2,l.style.left=u+a.globals.translateX+"px",l.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,i=e.e,s=e.opt,r=this.w,a=null,o=this.ttCtx,l=0,c=0,u=0,h=0,d=0,f=i.target.classList;if(f.contains("apexcharts-bar-area")||f.contains("apexcharts-candlestick-area")||f.contains("apexcharts-boxPlot-area")||f.contains("apexcharts-rangebar-area")){var m=i.target,g=m.getBoundingClientRect(),v=s.elGrid.getBoundingClientRect(),x=g.height;d=g.height;var y=g.width,b=parseInt(m.getAttribute("cx"),10),_=parseInt(m.getAttribute("cy"),10);h=parseFloat(m.getAttribute("barWidth"));var k=i.type==="touchmove"?i.touches[0].clientX:i.clientX;a=parseInt(m.getAttribute("j"),10),l=parseInt(m.parentNode.getAttribute("rel"),10)-1;var P=m.getAttribute("data-range-y1"),A=m.getAttribute("data-range-y2");r.globals.comboCharts&&(l=parseInt(m.parentNode.getAttribute("data:realIndex"),10));var w=function(E){return r.globals.isXNumeric?b-y/2:t.isVerticalGroupedRangeBar?b+y/2:b-o.dataPointsDividedWidth+y/2},C=function(){return _-o.dataPointsDividedHeight+x/2-o.tooltipRect.ttHeight/2};o.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:l,j:a,y1:P?parseInt(P,10):null,y2:A?parseInt(A,10):null,shared:!o.showOnIntersect&&r.config.tooltip.shared,e:i}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(c=k-v.left+15,u=C()):(c=w(),u=i.clientY-v.top-o.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((c=b)<o.xyRatios.baseLineInvertedY&&(c=b-o.tooltipRect.ttWidth),u=C()):(c=w(),u=_)}return{x:c,y:u,barHeight:d,barWidth:h,i:l,j:a}}}]),n}(),KN=function(){function n(e){te(this,n),this.w=e.w,this.ttCtx=e}return ne(n,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,i=e.config.xaxis.position==="bottom";t.xaxisOffY=i?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var s=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,i=0;i<e.config.yaxis.length;i++){var s=e.config.yaxis[i].opposite||e.config.yaxis[i].crosshairs.opposite;t.yaxisOffX=s?e.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,s?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),i===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[i]=document.createElement("div"),t.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,i=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var s=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(s!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var r=parseFloat(s.getAttribute("barWidth"));t.xcrosshairsWidth=r}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));t.xcrosshairsWidth=c}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),i!==null&&t.xcrosshairsWidth>0&&i.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,i){var s=this.ttCtx,r=this.w,a=r.globals,o=a.seriesYAxisMap[e];if(s.yaxisTooltips[e]&&o.length>0){var l=a.yLabelFormatters[e],c=s.getElGrid().getBoundingClientRect(),u=o[0],h=0;i.yRatio.length>1&&(h=u);var d=(t-c.top)*i.yRatio[h],f=a.maxYArr[u]-a.minYArr[u],m=a.minYArr[u]+(f-d);r.config.yaxis[e].reversed&&(m=a.maxYArr[u]-(f-d)),s.tooltipPosition.moveYCrosshairs(t-c.top),s.yaxisTooltipText[e].innerHTML=l(m),s.tooltipPosition.moveYAxisTooltip(e)}}}]),n}(),_b=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new wC(this),this.tooltipLabels=new $N(this),this.tooltipPosition=new AC(this),this.marker=new GN(this),this.intersect=new qN(this),this.axesTooltip=new KN(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return ne(n,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(a,o){return!!(a.show&&a.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&i.classList.add(t.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme||"light")),t.globals.dom.elWrap.appendChild(i),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var s=new _l(this.ctx);this.xAxisTicksPositions=s.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,i=this.w,s=[],r=this.getElTooltip(),a=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=i.config.tooltip.inverseOrder?e-l:l+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),i.config.tooltip.fillSeriesColor?u.style.backgroundColor=i.globals.colors[l]:u.style.color=i.globals.colors[l];var h=i.config.markers.shape,d=h;Array.isArray(h)&&(d=h[l]),u.setAttribute("shape",d),c.appendChild(u);var f=document.createElement("div");f.classList.add("apexcharts-tooltip-text"),f.style.fontFamily=t.tConfig.style.fontFamily||i.config.chart.fontFamily,f.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(m){var g=document.createElement("div");g.classList.add("apexcharts-tooltip-".concat(m,"-group"));var v=document.createElement("span");v.classList.add("apexcharts-tooltip-text-".concat(m,"-label")),g.appendChild(v);var x=document.createElement("span");x.classList.add("apexcharts-tooltip-text-".concat(m,"-value")),g.appendChild(x),f.appendChild(g)}),c.appendChild(f),r.appendChild(c),s.push(c)},o=0;o<e;o++)a(o);return s}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,i=this.getElTooltip(),s=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),r=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",a=e.globals.dom.Paper.node,o=this.getElGrid();o&&(this.seriesBound=o.getBoundingClientRect());var l,c=[],u=[],h={hoverArea:a,elGrid:o,tooltipEl:i,tooltipY:c,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(r?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):s?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var d=0;d<l.length;d++)c.push(l[d].getAttribute("cy")),u.push(l[d].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||s&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],h);else if(s&&!e.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(f,h)}if(this.showOnIntersect){var m=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");m.length>0&&this.addPathsEventListeners(m,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),i=t.getBoundingClientRect(),s=i.width+10,r=i.height+10,a=this.tConfig.fixed.offsetX,o=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(a=a+e.globals.svgWidth-s+10),l.indexOf("bottom")>-1&&(o=o+e.globals.svgHeight-r-10),t.style.left=a+"px",t.style.top=o+"px",{x:a,y:o,ttWidth:s,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var i=this,s=function(a){var o={paths:e[a],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[a].addEventListener(l,i.onSeriesHover.bind(i,o),{capture:!1,passive:!0})})},r=0;r<e.length;r++)s(r)}},{key:"onSeriesHover",value:function(e,t){var i=this,s=Date.now()-this.lastHoverTime;s>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){i.seriesHover(e,t)},20-s))}},{key:"seriesHover",value:function(e,t){var i=this;this.lastHoverTime=Date.now();var s=[],r=this.w;r.config.chart.group&&(s=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||r.globals.dataPoints===0)||(s.length?s.forEach(function(a){var o=i.getElTooltip(a),l={paths:e.paths,tooltipEl:o,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:a.w.globals.tooltip.ttItems};a.w.globals.minX===i.w.globals.minX&&a.w.globals.maxX===i.w.globals.maxX&&a.w.globals.tooltip.seriesHoverByContext({chartCtx:a,ttCtx:a.w.globals.tooltip,opt:l,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,i=e.ttCtx,s=e.opt,r=e.e,a=t.w,o=this.getElTooltip(t);o&&(i.tooltipRect={x:0,y:0,ttWidth:o.getBoundingClientRect().width,ttHeight:o.getBoundingClientRect().height},i.e=r,i.tooltipUtil.hasBars()&&!a.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new zn(t).toggleSeriesOnHover(r,r.target.parentNode),a.globals.axisCharts?i.axisChartsTooltips({e:r,opt:s,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:r,opt:s,tooltipRect:i.tooltipRect}),i.fixedTooltip&&i.drawFixedTooltipRect())}},{key:"axisChartsTooltips",value:function(e){var t,i,s=e.e,r=e.opt,a=this.w,o=r.elGrid.getBoundingClientRect(),l=s.type==="touchmove"?s.touches[0].clientX:s.clientX,c=s.type==="touchmove"?s.touches[0].clientY:s.clientY;if(this.clientY=c,this.clientX=l,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,c<o.top||c>o.top+o.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var u=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(r)}var h=this.getElTooltip(),d=this.getElXCrosshairs(),f=[];a.config.chart.group&&(f=this.ctx.getSyncedCharts());var m=a.globals.xyCharts||a.config.chart.type==="bar"&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if(s.type==="mousemove"||s.type==="touchmove"||s.type==="mouseup"){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;d!==null&&d.classList.add("apexcharts-active");var g=this.yaxisTooltips.filter(function(y){return y===!0});if(this.ycrosshairs!==null&&g.length&&this.ycrosshairs.classList.add("apexcharts-active"),m&&!this.showOnIntersect||f.length>1)this.handleStickyTooltip(s,l,c,r);else if(a.config.chart.type==="heatmap"||a.config.chart.type==="treemap"){var v=this.intersect.handleHeatTreeTooltip({e:s,opt:r,x:t,y:i,type:a.config.chart.type});t=v.x,i=v.y,h.style.left=t+"px",h.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:s,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:s,opt:r,x:t,y:i});if(this.yaxisTooltips.length)for(var x=0;x<a.config.yaxis.length;x++)this.axesTooltip.drawYaxisTooltipText(x,c,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.tooltipEl.classList.add("apexcharts-active")}else s.type!=="mouseout"&&s.type!=="touchend"||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,i=e.opt,s=e.tooltipRect,r=this.w,a=i.paths.getAttribute("rel"),o=this.getElTooltip(),l=r.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){r.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),o.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(a,10)-1,shared:!1});var c=r.globals.clientX-l.left-s.ttWidth/2,u=r.globals.clientY-l.top-s.ttHeight-10;if(o.style.left=c+"px",o.style.top=u+"px",r.config.legend.tooltipHoverFormatter){var h=a-1,d=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:r});this.legendLabels[h].innerHTML=d}}else t.type!=="mouseout"&&t.type!=="touchend"||(o.classList.remove("apexcharts-active"),r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(f){var m=f.getAttribute("data:default-text");f.innerHTML=decodeURIComponent(m)}))}},{key:"handleStickyTooltip",value:function(e,t,i,s){var r=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:s.hoverArea,elGrid:s.elGrid,clientX:t,clientY:i}),o=a.j,l=a.capturedSeries;r.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=s.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>c.width)this.handleMouseOut(s);else if(l!==null)this.handleStickyCapturedSeries(e,l,s,o);else if(this.tooltipUtil.isXoverlap(o)||r.globals.isBarHorizontal){var u=r.globals.series.findIndex(function(h,d){return!r.globals.collapsedSeriesIndices.includes(d)});this.create(e,this,u,o,s.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,i,s){var r=this.w;if(!this.tConfig.shared&&r.globals.series[t][s]===null)return void this.handleMouseOut(i);if(r.globals.series[t][s]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(s)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,s,i.ttItems):this.create(e,this,t,s,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(s)){var a=r.globals.series.findIndex(function(o,l){return!r.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,a,s,i.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new W(this.ctx),i=e.globals.dom.Paper.find(".apexcharts-bar-area"),s=0;s<i.length;s++)t.pathMouseLeave(i[s])}},{key:"handleMouseOut",value:function(e){var t=this.w,i=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),i!==null&&i.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var s=0;s<this.yaxisTTEls.length;s++)this.yaxisTTEls[s].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(r){var a=r.getAttribute("data:default-text");r.innerHTML=decodeURIComponent(a)})}},{key:"markerClick",value:function(e,t,i){var s=this.w;typeof s.config.chart.events.markerClick=="function"&&s.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:s}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:i,w:s}])}},{key:"create",value:function(e,t,i,s,r){var a,o,l,c,u,h,d,f,m,g,v,x,y,b,_,k,P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,A=this.w,w=t;e.type==="mouseup"&&this.markerClick(e,i,s),P===null&&(P=this.tConfig.shared);var C=this.tooltipUtil.hasMarkers(i),E=this.tooltipUtil.getElBars(),I=function(){A.globals.markers.largestSize>0?w.marker.enlargePoints(s):w.tooltipPosition.moveDynamicPointsOnHover(s)};if(A.config.legend.tooltipHoverFormatter){var L=A.config.legend.tooltipHoverFormatter,M=Array.from(this.legendLabels);M.forEach(function(ke){var oe=ke.getAttribute("data:default-text");ke.innerHTML=decodeURIComponent(oe)});for(var F=0;F<M.length;F++){var B=M[F],$=parseInt(B.getAttribute("i"),10),Y=decodeURIComponent(B.getAttribute("data:default-text")),V=L(Y,{seriesIndex:P?$:i,dataPointIndex:s,w:A});if(P)B.innerHTML=A.globals.collapsedSeriesIndices.indexOf($)<0?V:Y;else if(B.innerHTML=$===i?V:Y,i===$)break}}var X=Z(Z({ttItems:r,i,j:s},((a=A.globals.seriesRange)===null||a===void 0||(o=a[i])===null||o===void 0||(l=o[s])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(u=A.globals.seriesRange)===null||u===void 0||(h=u[i])===null||h===void 0||(d=h[s])===null||d===void 0||(f=d.y[0])===null||f===void 0?void 0:f.y1}),((m=A.globals.seriesRange)===null||m===void 0||(g=m[i])===null||g===void 0||(v=g[s])===null||v===void 0||(x=v.y[0])===null||x===void 0?void 0:x.y2)!==void 0&&{y2:(y=A.globals.seriesRange)===null||y===void 0||(b=y[i])===null||b===void 0||(_=b[s])===null||_===void 0||(k=_.y[0])===null||k===void 0?void 0:k.y2});if(P){if(w.tooltipLabels.drawSeriesTexts(Z(Z({},X),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),C)I();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(E),this.barSeriesHeight>0)){var G=new W(this.ctx),J=A.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(s,"']"));this.deactivateHoverFilter(),w.tooltipUtil.getAllMarkers(!0).length&&!this.barSeriesHeight&&I(),w.tooltipPosition.moveStickyTooltipOverBars(s,i);for(var re=0;re<J.length;re++)G.pathMouseEnter(J[re])}}else w.tooltipLabels.drawSeriesTexts(Z({shared:!1},X)),this.tooltipUtil.hasBars()&&w.tooltipPosition.moveStickyTooltipOverBars(s,i),C&&w.tooltipPosition.moveMarkers(i,s)}}]),n}(),QN=function(){function n(e){te(this,n),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return ne(n,[{key:"handleBarDataLabels",value:function(e){var t,i,s=e.x,r=e.y,a=e.y1,o=e.y2,l=e.i,c=e.j,u=e.realIndex,h=e.columnGroupIndex,d=e.series,f=e.barHeight,m=e.barWidth,g=e.barXPosition,v=e.barYPosition,x=e.visibleSeries,y=this.w,b=new W(this.barCtx.ctx),_=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;y.globals.isXNumeric&&!y.globals.isBarHorizontal?(t=s+parseFloat(m*(x+1)),i=r+parseFloat(f*(x+1))-_):(t=s+parseFloat(m*x),i=r+parseFloat(f*x));var k,P=null,A=s,w=r,C={},E=y.config.dataLabels,I=this.barCtx.barOptions.dataLabels,L=this.barCtx.barOptions.dataLabels.total;v!==void 0&&this.barCtx.isRangeBar&&(i=v,w=v),g!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=g,A=g);var M=E.offsetX,F=E.offsetY,B={width:0,height:0};if(y.config.dataLabels.enabled){var $=y.globals.series[l][c];B=b.getTextRects(y.config.dataLabels.formatter?y.config.dataLabels.formatter($,Z(Z({},y),{},{seriesIndex:l,dataPointIndex:c,w:y})):y.globals.yLabelFormatters[0]($),parseFloat(E.style.fontSize))}var Y={x:s,y:r,i:l,j:c,realIndex:u,columnGroupIndex:h,bcx:t,bcy:i,barHeight:f,barWidth:m,textRects:B,strokeWidth:_,dataLabelsX:A,dataLabelsY:w,dataLabelsConfig:E,barDataLabelsConfig:I,barTotalDataLabelsConfig:L,offX:M,offY:F};return C=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Y):this.calculateColumnsDataLabelsPosition(Y),k=this.drawCalculatedDataLabels({x:C.dataLabelsX,y:C.dataLabelsY,val:this.barCtx.isRangeBar?[a,o]:y.config.chart.stackType==="100%"?d[u][c]:y.globals.series[u][c],i:u,j:c,barWidth:m,barHeight:f,textRects:B,dataLabelsConfig:E}),y.config.chart.stacked&&L.enabled&&(P=this.drawTotalDataLabels({x:C.totalDataLabelsX,y:C.totalDataLabelsY,barWidth:m,barHeight:f,realIndex:u,textAnchor:C.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:c}),dataLabelsConfig:E,barTotalDataLabelsConfig:L})),{dataLabelsPos:C,dataLabels:k,totalDataLabels:P}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,i=e.j,s=this.w,r=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(r=this.totalFormatter(r,Z(Z({},s),{},{seriesIndex:t,dataPointIndex:i,w:s}))),r}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,i=this.w,s=e.i,r=e.j,a=e.realIndex;e.columnGroupIndex;var o,l,c=e.y,u=e.bcx,h=e.barWidth,d=e.barHeight,f=e.textRects,m=e.dataLabelsX,g=e.dataLabelsY,v=e.dataLabelsConfig,x=e.barDataLabelsConfig,y=e.barTotalDataLabelsConfig,b=e.strokeWidth,_=e.offX,k=e.offY,P=u;d=Math.abs(d);var A=i.config.plotOptions.bar.dataLabels.orientation==="vertical",w=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:r}).zeroEncounters;u-=b/2;var C=i.globals.gridWidth/i.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?m+=h/2:(m=i.globals.isXNumeric?u-h/2+_:u-C+h/2+_,!i.config.chart.stacked&&w>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(m-=h*w)),A&&(m=m+f.height/2-b/2-2);var E=i.globals.series[s][r]<0,I=c;switch(this.barCtx.isReversed&&(I=c+(E?d:-d)),x.position){case"center":g=A?E?I-d/2+k:I+d/2-k:E?I-d/2+f.height/2+k:I+d/2+f.height/2-k;break;case"bottom":g=A?E?I-d+k:I+d-k:E?I-d+f.height+b+k:I+d-f.height/2+b-k;break;case"top":g=A?E?I+k:I-k:E?I-f.height/2-k:I+f.height+k}var L=I;if(i.globals.seriesGroups.forEach(function(B){var $;($=t.barCtx[B.join(",")])===null||$===void 0||$.prevY.forEach(function(Y){L=E?Math.max(Y[r],L):Math.min(Y[r],L)})}),this.barCtx.lastActiveBarSerieIndex===a&&y.enabled){var M=new W(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:r}),v.fontSize);o=E?L-M.height/2-k-y.offsetY+18:L+M.height+k+y.offsetY-18;var F=C;l=P+(i.globals.isXNumeric?-h*i.globals.barGroups.length/2:i.globals.barGroups.length*h/2-(i.globals.barGroups.length-1)*h-F)+y.offsetX}return i.config.chart.stacked||(g<0?g=0+b:g+f.height/3>i.globals.gridHeight&&(g=i.globals.gridHeight-b)),{bcx:u,bcy:c,dataLabelsX:m,dataLabelsY:g,totalDataLabelsX:l,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,i=this.w,s=e.x,r=e.i,a=e.j,o=e.realIndex,l=e.bcy,c=e.barHeight,u=e.barWidth,h=e.textRects,d=e.dataLabelsX,f=e.strokeWidth,m=e.dataLabelsConfig,g=e.barDataLabelsConfig,v=e.barTotalDataLabelsConfig,x=e.offX,y=e.offY,b=i.globals.gridHeight/i.globals.dataPoints,_=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:a}).zeroEncounters;u=Math.abs(u);var k,P,A=l-(this.barCtx.isRangeBar?0:b)+c/2+h.height/2+y-3;!i.config.chart.stacked&&_>0&&i.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(A-=c*_);var w="start",C=i.globals.series[r][a]<0,E=s;switch(this.barCtx.isReversed&&(E=s+(C?-u:u),w=C?"start":"end"),g.position){case"center":d=C?E+u/2-x:Math.max(h.width/2,E-u/2)+x;break;case"bottom":d=C?E+u-f-x:E-u+f+x;break;case"top":d=C?E-f-x:E-f+x}var I=E;if(i.globals.seriesGroups.forEach(function(M){var F;(F=t.barCtx[M.join(",")])===null||F===void 0||F.prevX.forEach(function(B){I=C?Math.min(B[a],I):Math.max(B[a],I)})}),this.barCtx.lastActiveBarSerieIndex===o&&v.enabled){var L=new W(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:a}),m.fontSize);C?(k=I-f-x-v.offsetX,w="end"):k=I+x+v.offsetX+(this.barCtx.isReversed?-(u+f):f),P=A-h.height/2+L.height/2+v.offsetY+f,i.globals.barGroups.length>1&&(P-=i.globals.barGroups.length/2*(c/2))}return i.config.chart.stacked||(m.textAnchor==="start"?d-h.width<0?d=C?h.width+f:f:d+h.width>i.globals.gridWidth&&(d=C?i.globals.gridWidth-f:i.globals.gridWidth-h.width-f):m.textAnchor==="middle"?d-h.width/2<0?d=h.width/2+f:d+h.width/2>i.globals.gridWidth&&(d=i.globals.gridWidth-h.width/2-f):m.textAnchor==="end"&&(d<1?d=h.width+f:d+1>i.globals.gridWidth&&(d=i.globals.gridWidth-h.width-f))),{bcx:s,bcy:l,dataLabelsX:d,dataLabelsY:A,totalDataLabelsX:k,totalDataLabelsY:P,totalDataLabelsAnchor:w}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,i=e.y,s=e.val,r=e.i,a=e.j,o=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,h=this.w,d="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(d="rotate(-90, ".concat(t,", ").concat(i,")"));var f=new wa(this.barCtx.ctx),m=new W(this.barCtx.ctx),g=u.formatter,v=null,x=h.globals.collapsedSeriesIndices.indexOf(r)>-1;if(u.enabled&&!x){v=m.group({class:"apexcharts-data-labels",transform:d});var y="";s!==void 0&&(y=g(s,Z(Z({},h),{},{seriesIndex:r,dataPointIndex:a,w:h}))),!s&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(y="");var b=h.globals.series[r][a]<0,_=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(_==="top"&&(u.textAnchor=b?"end":"start"),_==="center"&&(u.textAnchor="middle"),_==="bottom"&&(u.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<m.getTextRects(y,parseFloat(u.style.fontSize)).width&&(y=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?o.width/1.6>Math.abs(c)&&(y=""):o.height/1.6>Math.abs(l)&&(y=""));var k=Z({},u);this.barCtx.isHorizontal&&s<0&&(u.textAnchor==="start"?k.textAnchor="end":u.textAnchor==="end"&&(k.textAnchor="start")),f.plotDataLabelsText({x:t,y:i,text:y,i:r,j:a,parent:v,dataLabelsConfig:k,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return v}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,i=e.y,s=e.val,r=e.realIndex,a=e.textAnchor,o=e.barTotalDataLabelsConfig;this.w;var l,c=new W(this.barCtx.ctx);return o.enabled&&t!==void 0&&i!==void 0&&this.barCtx.lastActiveBarSerieIndex===r&&(l=c.drawText({x:t,y:i,foreColor:o.style.color,text:s,textAnchor:a,fontFamily:o.style.fontFamily,fontSize:o.style.fontSize,fontWeight:o.style.fontWeight})),l}}]),n}(),ZN=function(){function n(e){te(this,n),this.w=e.w,this.barCtx=e}return ne(n,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<e.length;i++)if(e[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[i].length),t.globals.isXNumeric)for(var s=0;s<e[i].length;s++)t.globals.seriesX[i][s]>t.globals.minX&&t.globals.seriesX[i][s]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),D.isSafari()&&(this.arrBorderRadius=this.arrBorderRadius.map(function(r){return r.map(function(a){return"none"})})),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,i,s,r,a,o,l,c,u=this.w,h=u.globals.dataPoints;this.barCtx.isRangeBar&&(h=u.globals.labels.length);var d=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)a=(s=u.globals.gridHeight/h)/d,u.globals.isXNumeric&&(a=(s=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),a=a*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=u.globals.gridWidth/2),i=(s-a*this.barCtx.seriesLen)/2;else{if(r=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(r=u.globals.gridWidth/u.globals.dataPoints),o=r/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var f=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/f>0&&(r=u.globals.minXDiff/f),(o=r/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),l=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:o}).x:t=u.globals.padHorizontal+D.noExponents(r-o*this.barCtx.seriesLen)/2}return u.globals.barHeight=a,u.globals.barWidth=o,{x:t,y:i,yDivision:s,xDivision:r,barHeight:a,barWidth:o,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,i,s){var r,a,o,l,c=this.w,u=this.barCtx.ctx.fill,h=null,d=this.barCtx.barOptions.distributed?i:t,f=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(m){e[t][i]>=m.from&&e[t][i]<=m.to&&(h=m.color,f=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?d:s,dataPointIndex:i,color:h,value:e[t][i],fillConfig:(r=c.config.series[t].data[i])===null||r===void 0?void 0:r.fill,fillType:(a=c.config.series[t].data[i])!==null&&a!==void 0&&(o=a.fill)!==null&&o!==void 0&&o.type?(l=c.config.series[t].data[i])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[s]:c.config.fill.type}),useRangeColor:f}}},{key:"getStrokeWidth",value:function(e,t,i){var s=0,r=this.w;return this.barCtx.series[e][t]===void 0||this.barCtx.series[e][t]===null||r.config.chart.type==="bar"&&!this.barCtx.series[e][t]?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,r.config.stroke.show&&(this.barCtx.isNullValue||(s=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),s}},{key:"createBorderRadiusArr",value:function(e){var t,i=this.w,s=!this.w.config.chart.stacked||i.config.plotOptions.bar.borderRadius<=0,r=e.length,a=0|((t=e[0])===null||t===void 0?void 0:t.length),o=Array.from({length:r},function(){return Array(a).fill(s?"top":"none")});if(s)return o;for(var l=0;l<a;l++){for(var c=[],u=[],h=0,d=0;d<r;d++){var f=e[d][l];f>0?(c.push(d),h++):f<0&&(u.push(d),h++)}if(c.length>0&&u.length===0)if(c.length===1)o[c[0]][l]="both";else{var m,g=c[0],v=c[c.length-1],x=To(c);try{for(x.s();!(m=x.n()).done;){var y=m.value;o[y][l]=y===g?"bottom":y===v?"top":"none"}}catch($){x.e($)}finally{x.f()}}else if(u.length>0&&c.length===0)if(u.length===1)o[u[0]][l]="both";else{var b,_=Math.max.apply(Math,u),k=Math.min.apply(Math,u),P=To(u);try{for(P.s();!(b=P.n()).done;){var A=b.value;o[A][l]=A===_?"bottom":A===k?"top":"none"}}catch($){P.e($)}finally{P.f()}}else if(c.length>0&&u.length>0){var w,C=c[c.length-1],E=To(c);try{for(E.s();!(w=E.n()).done;){var I=w.value;o[I][l]=I===C?"top":"none"}}catch($){E.e($)}finally{E.f()}var L,M=Math.max.apply(Math,u),F=To(u);try{for(F.s();!(L=F.n()).done;){var B=L.value;o[B][l]=B===M?"bottom":"none"}}catch($){F.e($)}finally{F.f()}}else h===1&&(o[c[0]||u[0]][l]="both")}return o}},{key:"barBackground",value:function(e){var t=e.j,i=e.i,s=e.x1,r=e.x2,a=e.y1,o=e.y2,l=e.elSeries,c=this.w,u=new W(this.barCtx.ctx),h=new zn(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===i){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[t],f=u.drawRect(s!==void 0?s:0,a!==void 0?a:0,r!==void 0?r:c.globals.gridWidth,o!==void 0?o:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(f),f.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,i=e.barWidth,s=e.barXPosition,r=e.y1,a=e.y2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,f=e.j,m=e.w,g=new W(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var v=i,x=s;(t=m.config.series[h].data[f])!==null&&t!==void 0&&t.columnWidthOffset&&(x=s-m.config.series[h].data[f].columnWidthOffset/2,v=i+m.config.series[h].data[f].columnWidthOffset);var y=o/2,b=x+y,_=x+v-y,k=(c[d][f]>=0?1:-1)*(l?-1:1);r+=.001-y*k,a+=.001+y*k;var P=g.move(b,r),A=g.move(b,r),w=g.line(_,r);if(m.globals.previousPaths.length>0&&(A=this.barCtx.getPreviousPath(h,f,!1)),P=P+g.line(b,a)+g.line(_,a)+w+(m.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][f]==="both"?" Z":" z"),A=A+g.line(b,r)+w+w+w+w+w+g.line(b,r)+(m.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][f]==="both"?" Z":" z"),this.arrBorderRadius[h][f]!=="none"&&(P=g.roundPathCorners(P,m.config.plotOptions.bar.borderRadius)),m.config.chart.stacked){var C=this.barCtx;(C=this.barCtx[u]).yArrj.push(a-y*k),C.yArrjF.push(Math.abs(r-a+o*k)),C.yArrjVal.push(this.barCtx.series[d][f])}return{pathTo:P,pathFrom:A}}},{key:"getBarpaths",value:function(e){var t,i=e.barYPosition,s=e.barHeight,r=e.x1,a=e.x2,o=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,f=e.j,m=e.w,g=new W(this.barCtx.ctx);(o=Array.isArray(o)?o[h]:o)||(o=0);var v=i,x=s;(t=m.config.series[h].data[f])!==null&&t!==void 0&&t.barHeightOffset&&(v=i-m.config.series[h].data[f].barHeightOffset/2,x=s+m.config.series[h].data[f].barHeightOffset);var y=o/2,b=v+y,_=v+x-y,k=(c[d][f]>=0?1:-1)*(l?-1:1);r+=.001+y*k,a+=.001-y*k;var P=g.move(r,b),A=g.move(r,b);m.globals.previousPaths.length>0&&(A=this.barCtx.getPreviousPath(h,f,!1));var w=g.line(r,_);if(P=P+g.line(a,b)+g.line(a,_)+w+(m.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][f]==="both"?" Z":" z"),A=A+g.line(r,b)+w+w+w+w+w+g.line(r,b)+(m.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][f]==="both"?" Z":" z"),this.arrBorderRadius[h][f]!=="none"&&(P=g.roundPathCorners(P,m.config.plotOptions.bar.borderRadius)),m.config.chart.stacked){var C=this.barCtx;(C=this.barCtx[u]).xArrj.push(a+y*k),C.xArrjF.push(Math.abs(r-a-o*k)),C.xArrjVal.push(this.barCtx.series[d][f])}return{pathTo:P,pathFrom:A}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,i=this.w,s=0;s<t.length;s++){for(var r=0,a=0;a<t[i.globals.maxValsInArrayIndex].length;a++)r+=t[s][a];r===0&&this.barCtx.zeroSerieses.push(s)}}},{key:"getXForValue",value:function(e,t){var i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(i=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(e,t,i){var s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(s=t-e/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[i]:0)),s}},{key:"getGoalValues",value:function(e,t,i,s,r,a){var o=this,l=this.w,c=[],u=function(f,m){var g;c.push((Gu(g={},e,e==="x"?o.getXForValue(f,t,!1):o.getYForValue(f,i,a,!1)),Gu(g,"attrs",m),g))};if(l.globals.seriesGoals[s]&&l.globals.seriesGoals[s][r]&&Array.isArray(l.globals.seriesGoals[s][r])&&l.globals.seriesGoals[s][r].forEach(function(f){u(f.value,f)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,d={strokeHeight:e==="x"?0:l.globals.markers.size[s],strokeWidth:e==="x"?l.globals.markers.size[s]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[s])?h[s][0]:h[s]};u(l.globals.seriesRangeStart[s][r],d),u(l.globals.seriesRangeEnd[s][r],Z(Z({},d),{},{strokeColor:Array.isArray(h[s])?h[s][1]:h[s]}))}return c}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,i=e.barYPosition,s=e.goalX,r=e.goalY,a=e.barWidth,o=e.barHeight,l=new W(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(s)&&s.forEach(function(h){if(h.x>=-1&&h.x<=l.w.globals.gridWidth+1){var d=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:o/2,f=i+d+o/2;u=l.drawLine(h.x,f-2*d,h.x,f,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),c.add(u)}}):Array.isArray(r)&&r.forEach(function(h){if(h.y>=-1&&h.y<=l.w.globals.gridHeight+1){var d=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:a/2,f=t+d+a/2;u=l.drawLine(f-2*d,h.y,f,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),c.add(u)}}),c}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,i=e.currPaths,s=e.color,r=this.w,a=t.x,o=t.x1,l=t.barYPosition,c=i.x,u=i.x1,h=i.barYPosition,d=l+i.barHeight,f=new W(this.barCtx.ctx),m=new D,g=f.move(o,d)+f.line(a,d)+f.line(c,h)+f.line(u,h)+f.line(o,d)+(r.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return f.drawPath({d:g,fill:m.shadeColor(.5,D.rgb2hex(s)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,i=e.i,s=e.j,r=this.w,a=0,o=0;return(r.config.plotOptions.bar.horizontal?r.globals.series.map(function(l,c){return c}):((t=r.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(l){return l}))||[]).forEach(function(l){var c=r.globals.seriesPercent[l][s];c&&a++,l<i&&c===0&&o++}),{nonZeroColumns:a,zeroEncounters:o}}},{key:"getGroupIndex",value:function(e){var t=this.w,i=t.globals.seriesGroups.findIndex(function(a){return a.indexOf(t.globals.seriesNames[e])>-1}),s=this.barCtx.columnGroupIndices,r=s.indexOf(i);return r<0&&(s.push(i),r=s.length-1),{groupIndex:i,columnGroupIndex:r}}}]),n}(),Aa=function(){function n(e,t){te(this,n),this.ctx=e,this.w=e.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var s=new zn(this.ctx);this.lastActiveBarSerieIndex=s.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var r=s.getBarSeriesIndices(),a=new dt(this.ctx);this.stackedSeriesTotals=a.getStackedSeriesTotals(this.w.config.series.map(function(o,l){return r.indexOf(l)===-1?l:-1}).filter(function(o){return o!==-1})),this.barHelpers=new ZN(this)}return ne(n,[{key:"draw",value:function(e,t){var i=this.w,s=new W(this.ctx),r=new dt(this.ctx,i);e=r.getLogSeries(e),this.series=e,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=s.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var o=0,l=0;o<e.length;o++,l++){var c,u,h,d,f=void 0,m=void 0,g=[],v=[],x=i.globals.comboCharts?t[o]:o,y=this.barHelpers.getGroupIndex(x).columnGroupIndex,b=s.group({class:"apexcharts-series",rel:o+1,seriesName:D.escapeString(i.globals.seriesNames[x]),"data:realIndex":x});this.ctx.series.addCollapsedClassToSeries(b,x),e[o].length>0&&(this.visibleI=this.visibleI+1);var _=0,k=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[x],this.translationsIndex=x);var P=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var A=this.barHelpers.initialPositions(x);m=A.y,_=A.barHeight,u=A.yDivision,d=A.zeroW,f=A.x,k=A.barWidth,c=A.xDivision,h=A.zeroH,this.isHorizontal||v.push(f+k/2);var w=s.group({class:"apexcharts-datalabels","data:realIndex":x});i.globals.delayedElements.push({el:w.node}),w.node.classList.add("apexcharts-element-hidden");var C=s.group({class:"apexcharts-bar-goals-markers"}),E=s.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:E.node}),E.node.classList.add("apexcharts-element-hidden");for(var I=0;I<e[o].length;I++){var L=this.barHelpers.getStrokeWidth(o,I,x),M=null,F={indexes:{i:o,j:I,realIndex:x,translationsIndex:P,bc:l},x:f,y:m,strokeWidth:L,elSeries:b};this.isHorizontal?(M=this.drawBarPaths(Z(Z({},F),{},{barHeight:_,zeroW:d,yDivision:u})),k=this.series[o][I]/this.invertedYRatio):(M=this.drawColumnPaths(Z(Z({},F),{},{xDivision:c,barWidth:k,zeroH:h})),_=this.series[o][I]/this.yRatio[P]);var B=this.barHelpers.getPathFillColor(e,o,I,x);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&I>0){var $,Y=this.barHelpers.drawBarShadow({color:typeof B.color=="string"&&(($=B.color)===null||$===void 0?void 0:$.indexOf("url"))===-1?B.color:D.hexToRgba(i.globals.colors[o]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:M});E.add(Y),i.config.chart.dropShadow.enabled&&new Vt(this.ctx).dropShadow(Y,i.config.chart.dropShadow,x)}this.pathArr.push(M);var V=this.barHelpers.drawGoalLine({barXPosition:M.barXPosition,barYPosition:M.barYPosition,goalX:M.goalX,goalY:M.goalY,barHeight:_,barWidth:k});V&&C.add(V),m=M.y,f=M.x,I>0&&v.push(f+k/2),g.push(m),this.renderSeries(Z(Z({realIndex:x,pathFill:B.color},B.useRangeColor?{lineFill:B.color}:{}),{},{j:I,i:o,columnGroupIndex:y,pathFrom:M.pathFrom,pathTo:M.pathTo,strokeWidth:L,elSeries:b,x:f,y:m,series:e,barHeight:Math.abs(M.barHeight?M.barHeight:_),barWidth:Math.abs(M.barWidth?M.barWidth:k),elDataLabelsWrap:w,elGoalsMarkers:C,elBarShadows:E,visibleSeries:this.visibleI,type:"bar"}))}i.globals.seriesXvalues[x]=v,i.globals.seriesYvalues[x]=g,a.add(b)}return a}},{key:"renderSeries",value:function(e){var t=e.realIndex,i=e.pathFill,s=e.lineFill,r=e.j,a=e.i,o=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,u=e.strokeWidth,h=e.elSeries,d=e.x,f=e.y,m=e.y1,g=e.y2,v=e.series,x=e.barHeight,y=e.barWidth,b=e.barXPosition,_=e.barYPosition,k=e.elDataLabelsWrap,P=e.elGoalsMarkers,A=e.elBarShadows,w=e.visibleSeries,C=e.type,E=e.classes,I=this.w,L=new W(this.ctx),M=!1;if(!s){var F=typeof I.globals.stroke.colors[t]=="function"?function(X){var G,J=I.config.stroke.colors;return Array.isArray(J)&&J.length>0&&((G=J[X])||(G=""),typeof G=="function")?G({value:I.globals.series[X][r],dataPointIndex:r,w:I}):G}(t):I.globals.stroke.colors[t];s=this.barOptions.distributed?I.globals.stroke.colors[r]:F}var B=new QN(this).handleBarDataLabels({x:d,y:f,y1:m,y2:g,i:a,j:r,series:v,realIndex:t,columnGroupIndex:o,barHeight:x,barWidth:y,barXPosition:b,barYPosition:_,visibleSeries:w});I.globals.isBarHorizontal||(B.dataLabelsPos.dataLabelsX+Math.max(y,I.globals.barPadForNumericAxis)<0||B.dataLabelsPos.dataLabelsX-Math.max(y,I.globals.barPadForNumericAxis)>I.globals.gridWidth)&&(M=!0),I.config.series[a].data[r]&&I.config.series[a].data[r].strokeColor&&(s=I.config.series[a].data[r].strokeColor),this.isNullValue&&(i="none");var $=r/I.config.chart.animations.animateGradually.delay*(I.config.chart.animations.speed/I.globals.dataPoints)/2.4;if(!M){var Y=L.renderPaths({i:a,j:r,realIndex:t,pathFrom:l,pathTo:c,stroke:s,strokeWidth:u,strokeLineCap:I.config.stroke.lineCap,fill:i,animationDelay:$,initialSpeed:I.config.chart.animations.speed,dataChangeSpeed:I.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(C,"-area ").concat(E),chartType:C});Y.attr("clip-path","url(#gridRectBarMask".concat(I.globals.cuid,")"));var V=I.config.forecastDataPoints;V.count>0&&r>=I.globals.dataPoints-V.count&&(Y.node.setAttribute("stroke-dasharray",V.dashArray),Y.node.setAttribute("stroke-width",V.strokeWidth),Y.node.setAttribute("fill-opacity",V.fillOpacity)),m!==void 0&&g!==void 0&&(Y.attr("data-range-y1",m),Y.attr("data-range-y2",g)),new Vt(this.ctx).setSelectionFilter(Y,t,r),h.add(Y),Y.attr({cy:B.dataLabelsPos.bcy,cx:B.dataLabelsPos.bcx,j:r,val:I.globals.series[a][r],barHeight:x,barWidth:y}),B.dataLabels!==null&&k.add(B.dataLabels),B.totalDataLabels&&k.add(B.totalDataLabels),h.add(k),P&&h.add(P),A&&h.add(A)}return h}},{key:"drawBarPaths",value:function(e){var t,i=e.indexes,s=e.barHeight,r=e.strokeWidth,a=e.zeroW,o=e.x,l=e.y,c=e.yDivision,u=e.elSeries,h=this.w,d=i.i,f=i.j;if(h.globals.isXNumeric)t=(l=(h.globals.seriesX[d][f]-h.globals.minX)/this.invertedXRatio-s)+s*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var m=this.barHelpers.getZeroValueEncounters({i:d,j:f}),g=m.nonZeroColumns,v=m.zeroEncounters;g>0&&(s=this.seriesLen*s/g),t=l+s*this.visibleI,t-=s*v}else t=l+s*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[d][f],a)-a)/2),o=this.barHelpers.getXForValue(this.series[d][f],a);var x=this.barHelpers.getBarpaths({barYPosition:t,barHeight:s,x1:a,x2:o,strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:d,j:f,w:h});return h.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:f,i:d,y1:t-s*this.visibleI,y2:s*this.seriesLen,elSeries:u}),{pathTo:x.pathTo,pathFrom:x.pathFrom,x1:a,x:o,y:l,goalX:this.barHelpers.getGoalValues("x",a,null,d,f),barYPosition:t,barHeight:s}}},{key:"drawColumnPaths",value:function(e){var t,i=e.indexes,s=e.x,r=e.y,a=e.xDivision,o=e.barWidth,l=e.zeroH,c=e.strokeWidth,u=e.elSeries,h=this.w,d=i.realIndex,f=i.translationsIndex,m=i.i,g=i.j,v=i.bc;if(h.globals.isXNumeric){var x=this.getBarXForNumericXAxis({x:s,j:g,realIndex:d,barWidth:o});s=x.x,t=x.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=this.barHelpers.getZeroValueEncounters({i:m,j:g}),b=y.nonZeroColumns,_=y.zeroEncounters;b>0&&(o=this.seriesLen*o/b),t=s+o*this.visibleI,t-=o*_}else t=s+o*this.visibleI;r=this.barHelpers.getYForValue(this.series[m][g],l,f);var k=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:o,y1:l,y2:r,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:d,i:m,j:g,w:h});return h.globals.isXNumeric||(s+=a),this.barHelpers.barBackground({bc:v,j:g,i:m,x1:t-c/2-o*this.visibleI,x2:o*this.seriesLen+c/2,elSeries:u}),{pathTo:k.pathTo,pathFrom:k.pathFrom,x:s,y:r,goalY:this.barHelpers.getGoalValues("y",null,l,m,g,f),barXPosition:t,barWidth:o}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,i=e.barWidth,s=e.realIndex,r=e.j,a=this.w,o=s;return a.globals.seriesX[s].length||(o=a.globals.maxValsInArrayIndex),D.isNumber(a.globals.seriesX[o][r])&&(t=(a.globals.seriesX[o][r]-a.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:t+i*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var i=this.w,s="M 0 0",r=0;r<i.globals.previousPaths.length;r++){var a=i.globals.previousPaths[r];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&i.globals.previousPaths[r].paths[t]!==void 0&&(s=i.globals.previousPaths[r].paths[t].d)}return s}}]),n}(),Tb=function(n){Gl(t,Aa);var e=$l(t);function t(){return te(this,t),e.apply(this,arguments)}return ne(t,[{key:"draw",value:function(i,s){var r=this,a=this.w;this.graphics=new W(this.ctx),this.bar=new Aa(this.ctx,this.xyRatios);var o=new dt(this.ctx,a);i=o.getLogSeries(i),this.yRatio=o.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),a.config.chart.stackType==="100%"&&(i=a.globals.comboCharts?s.map(function(m){return a.globals.seriesPercent[m]}):a.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,u=0,h=function(m,g){var v=void 0,x=void 0,y=void 0,b=void 0,_=a.globals.comboCharts?s[m]:m,k=r.barHelpers.getGroupIndex(_),P=k.groupIndex,A=k.columnGroupIndex;r.groupCtx=r[a.globals.seriesGroups[P]];var w=[],C=[],E=0;r.yRatio.length>1&&(r.yaxisIndex=a.globals.seriesYAxisReverseMap[_][0],E=_),r.isReversed=a.config.yaxis[r.yaxisIndex]&&a.config.yaxis[r.yaxisIndex].reversed;var I=r.graphics.group({class:"apexcharts-series",seriesName:D.escapeString(a.globals.seriesNames[_]),rel:m+1,"data:realIndex":_});r.ctx.series.addCollapsedClassToSeries(I,_);var L=r.graphics.group({class:"apexcharts-datalabels","data:realIndex":_}),M=r.graphics.group({class:"apexcharts-bar-goals-markers"}),F=0,B=0,$=r.initialPositions(c,u,v,x,y,b,E);u=$.y,F=$.barHeight,x=$.yDivision,b=$.zeroW,c=$.x,B=$.barWidth,v=$.xDivision,y=$.zeroH,a.globals.barHeight=F,a.globals.barWidth=B,r.barHelpers.initializeStackedXYVars(r),r.groupCtx.prevY.length===1&&r.groupCtx.prevY[0].every(function(Ee){return isNaN(Ee)})&&(r.groupCtx.prevY[0]=r.groupCtx.prevY[0].map(function(){return y}),r.groupCtx.prevYF[0]=r.groupCtx.prevYF[0].map(function(){return 0}));for(var Y=0;Y<a.globals.dataPoints;Y++){var V=r.barHelpers.getStrokeWidth(m,Y,_),X={indexes:{i:m,j:Y,realIndex:_,translationsIndex:E,bc:g},strokeWidth:V,x:c,y:u,elSeries:I,columnGroupIndex:A,seriesGroup:a.globals.seriesGroups[P]},G=null;r.isHorizontal?(G=r.drawStackedBarPaths(Z(Z({},X),{},{zeroW:b,barHeight:F,yDivision:x})),B=r.series[m][Y]/r.invertedYRatio):(G=r.drawStackedColumnPaths(Z(Z({},X),{},{xDivision:v,barWidth:B,zeroH:y})),F=r.series[m][Y]/r.yRatio[E]);var J=r.barHelpers.drawGoalLine({barXPosition:G.barXPosition,barYPosition:G.barYPosition,goalX:G.goalX,goalY:G.goalY,barHeight:F,barWidth:B});J&&M.add(J),u=G.y,c=G.x,w.push(c),C.push(u);var re=r.barHelpers.getPathFillColor(i,m,Y,_),ke="",oe=a.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(r.barHelpers.arrBorderRadius[_][Y]==="bottom"&&a.globals.series[_][Y]>0||r.barHelpers.arrBorderRadius[_][Y]==="top"&&a.globals.series[_][Y]<0)&&(ke=oe),I=r.renderSeries(Z(Z({realIndex:_,pathFill:re.color},re.useRangeColor?{lineFill:re.color}:{}),{},{j:Y,i:m,columnGroupIndex:A,pathFrom:G.pathFrom,pathTo:G.pathTo,strokeWidth:V,elSeries:I,x:c,y:u,series:i,barHeight:F,barWidth:B,elDataLabelsWrap:L,elGoalsMarkers:M,type:"bar",visibleSeries:A,classes:ke}))}a.globals.seriesXvalues[_]=w,a.globals.seriesYvalues[_]=C,r.groupCtx.prevY.push(r.groupCtx.yArrj),r.groupCtx.prevYF.push(r.groupCtx.yArrjF),r.groupCtx.prevYVal.push(r.groupCtx.yArrjVal),r.groupCtx.prevX.push(r.groupCtx.xArrj),r.groupCtx.prevXF.push(r.groupCtx.xArrjF),r.groupCtx.prevXVal.push(r.groupCtx.xArrjVal),l.add(I)},d=0,f=0;d<i.length;d++,f++)h(d,f);return l}},{key:"initialPositions",value:function(i,s,r,a,o,l,c){var u,h,d=this.w;if(this.isHorizontal){a=d.globals.gridHeight/d.globals.dataPoints;var f=d.config.plotOptions.bar.barHeight;u=String(f).indexOf("%")===-1?parseInt(f,10):a*parseInt(f,10)/100,l=d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),s=(a-u)/2}else{h=r=d.globals.gridWidth/d.globals.dataPoints;var m=d.config.plotOptions.bar.columnWidth;d.globals.isXNumeric&&d.globals.dataPoints>1?h=(r=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(m).indexOf("%")===-1?h=parseInt(m,10):h*=parseInt(m,10)/100,o=this.isReversed?this.baseLineY[c]:d.globals.gridHeight-this.baseLineY[c],i=d.globals.padHorizontal+(r-h)/2}var g=d.globals.barGroups.length||1;return{x:i,y:s,yDivision:a,xDivision:r,barHeight:u/g,barWidth:h/g,zeroH:o,zeroW:l}}},{key:"drawStackedBarPaths",value:function(i){for(var s,r=i.indexes,a=i.barHeight,o=i.strokeWidth,l=i.zeroW,c=i.x,u=i.y,h=i.columnGroupIndex,d=i.seriesGroup,f=i.yDivision,m=i.elSeries,g=this.w,v=u+h*a,x=r.i,y=r.j,b=r.realIndex,_=r.translationsIndex,k=0,P=0;P<this.groupCtx.prevXF.length;P++)k+=this.groupCtx.prevXF[P][y];var A=x;if(g.config.series[b].name&&(A=d.indexOf(g.config.series[b].name)),A>0){var w=l;this.groupCtx.prevXVal[A-1][y]<0?w=this.series[x][y]>=0?this.groupCtx.prevX[A-1][y]+k-2*(this.isReversed?k:0):this.groupCtx.prevX[A-1][y]:this.groupCtx.prevXVal[A-1][y]>=0&&(w=this.series[x][y]>=0?this.groupCtx.prevX[A-1][y]:this.groupCtx.prevX[A-1][y]-k+2*(this.isReversed?k:0)),s=w}else s=l;c=this.series[x][y]===null?s:s+this.series[x][y]/this.invertedYRatio-2*(this.isReversed?this.series[x][y]/this.invertedYRatio:0);var C=this.barHelpers.getBarpaths({barYPosition:v,barHeight:a,x1:s,x2:c,strokeWidth:o,isReversed:this.isReversed,series:this.series,realIndex:r.realIndex,seriesGroup:d,i:x,j:y,w:g});return this.barHelpers.barBackground({j:y,i:x,y1:v,y2:a,elSeries:m}),u+=f,{pathTo:C.pathTo,pathFrom:C.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,x,y,_),barXPosition:s,barYPosition:v,x:c,y:u}}},{key:"drawStackedColumnPaths",value:function(i){var s=i.indexes,r=i.x,a=i.y,o=i.xDivision,l=i.barWidth,c=i.zeroH,u=i.columnGroupIndex,h=i.seriesGroup,d=i.elSeries,f=this.w,m=s.i,g=s.j,v=s.bc,x=s.realIndex,y=s.translationsIndex;if(f.globals.isXNumeric){var b=f.globals.seriesX[x][g];b||(b=0),r=(b-f.globals.minX)/this.xRatio-l/2*f.globals.barGroups.length}for(var _,k=r+u*l,P=0,A=0;A<this.groupCtx.prevYF.length;A++)P+=isNaN(this.groupCtx.prevYF[A][g])?0:this.groupCtx.prevYF[A][g];var w=m;if(h&&(w=h.indexOf(f.globals.seriesNames[x])),w>0&&!f.globals.isXNumeric||w>0&&f.globals.isXNumeric&&f.globals.seriesX[x-1][g]===f.globals.seriesX[x][g]){var C,E,I,L=Math.min(this.yRatio.length+1,x+1);if(this.groupCtx.prevY[w-1]!==void 0&&this.groupCtx.prevY[w-1].length)for(var M=1;M<L;M++){var F;if(!isNaN((F=this.groupCtx.prevY[w-M])===null||F===void 0?void 0:F[g])){I=this.groupCtx.prevY[w-M][g];break}}for(var B=1;B<L;B++){var $,Y;if((($=this.groupCtx.prevYVal[w-B])===null||$===void 0?void 0:$[g])<0){E=this.series[m][g]>=0?I-P+2*(this.isReversed?P:0):I;break}if(((Y=this.groupCtx.prevYVal[w-B])===null||Y===void 0?void 0:Y[g])>=0){E=this.series[m][g]>=0?I:I+P-2*(this.isReversed?P:0);break}}E===void 0&&(E=f.globals.gridHeight),_=(C=this.groupCtx.prevYF[0])!==null&&C!==void 0&&C.every(function(X){return X===0})&&this.groupCtx.prevYF.slice(1,w).every(function(X){return X.every(function(G){return isNaN(G)})})?c:E}else _=c;a=this.series[m][g]?_-this.series[m][g]/this.yRatio[y]+2*(this.isReversed?this.series[m][g]/this.yRatio[y]:0):_;var V=this.barHelpers.getColumnPaths({barXPosition:k,barWidth:l,y1:_,y2:a,yRatio:this.yRatio[y],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:s.realIndex,i:m,j:g,w:f});return this.barHelpers.barBackground({bc:v,j:g,i:m,x1:k,x2:l,elSeries:d}),{pathTo:V.pathTo,pathFrom:V.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,m,g),barXPosition:k,x:f.globals.isXNumeric?r:r+o,y:a}}}]),t}(),xf=function(n){Gl(t,Aa);var e=$l(t);function t(){return te(this,t),e.apply(this,arguments)}return ne(t,[{key:"draw",value:function(i,s,r){var a=this,o=this.w,l=new W(this.ctx),c=o.globals.comboCharts?s:o.config.chart.type,u=new ni(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=o.config.plotOptions.bar.horizontal,this.isOHLC=this.candlestickOptions&&this.candlestickOptions.type==="ohlc";var h=new dt(this.ctx,o);i=h.getLogSeries(i),this.series=i,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),f=function(g){a.isBoxPlot=o.config.chart.type==="boxPlot"||o.config.series[g].type==="boxPlot";var v,x,y,b,_=void 0,k=void 0,P=[],A=[],w=o.globals.comboCharts?r[g]:g,C=a.barHelpers.getGroupIndex(w).columnGroupIndex,E=l.group({class:"apexcharts-series",seriesName:D.escapeString(o.globals.seriesNames[w]),rel:g+1,"data:realIndex":w});a.ctx.series.addCollapsedClassToSeries(E,w),i[g].length>0&&(a.visibleI=a.visibleI+1);var I,L,M=0;a.yRatio.length>1&&(a.yaxisIndex=o.globals.seriesYAxisReverseMap[w][0],M=w);var F=a.barHelpers.initialPositions(w);k=F.y,I=F.barHeight,x=F.yDivision,b=F.zeroW,_=F.x,L=F.barWidth,v=F.xDivision,y=F.zeroH,A.push(_+L/2);for(var B=l.group({class:"apexcharts-datalabels","data:realIndex":w}),$=l.group({class:"apexcharts-bar-goals-markers"}),Y=function(X){var G=a.barHelpers.getStrokeWidth(g,X,w),J=null,re={indexes:{i:g,j:X,realIndex:w,translationsIndex:M},x:_,y:k,strokeWidth:G,elSeries:E};J=a.isHorizontal?a.drawHorizontalBoxPaths(Z(Z({},re),{},{yDivision:x,barHeight:I,zeroW:b})):a.drawVerticalBoxPaths(Z(Z({},re),{},{xDivision:v,barWidth:L,zeroH:y})),k=J.y,_=J.x;var ke=a.barHelpers.drawGoalLine({barXPosition:J.barXPosition,barYPosition:J.barYPosition,goalX:J.goalX,goalY:J.goalY,barHeight:I,barWidth:L});ke&&$.add(ke),X>0&&A.push(_+L/2),P.push(k),J.pathTo.forEach(function(oe,Ee){var de=!a.isBoxPlot&&a.candlestickOptions.wick.useFillColor?J.color[Ee]:o.globals.stroke.colors[g],fe=u.fillPath({seriesNumber:w,dataPointIndex:X,color:J.color[Ee],value:i[g][X]});a.renderSeries({realIndex:w,pathFill:fe,lineFill:de,j:X,i:g,pathFrom:J.pathFrom,pathTo:oe,strokeWidth:G,elSeries:E,x:_,y:k,series:i,columnGroupIndex:C,barHeight:I,barWidth:L,elDataLabelsWrap:B,elGoalsMarkers:$,visibleSeries:a.visibleI,type:o.config.chart.type})})},V=0;V<o.globals.dataPoints;V++)Y(V);o.globals.seriesXvalues[w]=A,o.globals.seriesYvalues[w]=P,d.add(E)},m=0;m<i.length;m++)f(m);return d}},{key:"drawVerticalBoxPaths",value:function(i){var s=i.indexes,r=i.x;i.y;var a=i.xDivision,o=i.barWidth,l=i.zeroH,c=i.strokeWidth,u=this.w,h=new W(this.ctx),d=s.i,f=s.j,m=u.config.plotOptions.candlestick.colors,g=this.boxOptions.colors,v=s.realIndex,x=function(V){return Array.isArray(V)?V[v]:V},y=x(m.upward),b=x(m.downward),_=this.yRatio[s.translationsIndex],k=this.getOHLCValue(v,f),P=l,A=l,w=k.o<k.c?[y]:[b];this.isBoxPlot&&(w=[x(g.lower),x(g.upper)]);var C=Math.min(k.o,k.c),E=Math.max(k.o,k.c),I=k.m;u.globals.isXNumeric&&(r=(u.globals.seriesX[v][f]-u.globals.minX)/this.xRatio-o/2);var L=r+o*this.visibleI;this.series[d][f]===void 0||this.series[d][f]===null?(C=l,E=l):(C=l-C/_,E=l-E/_,P=l-k.h/_,A=l-k.l/_,I=l-k.m/_);var M=h.move(L,l),F=h.move(L+o/2,C);if(u.globals.previousPaths.length>0&&(F=this.getPreviousPath(v,f,!0)),this.isOHLC){var B=L+o/2,$=l-k.o/_,Y=l-k.c/_;M=[h.move(B,P)+h.line(B,A)+h.move(B,$)+h.line(L,$)+h.move(B,Y)+h.line(L+o,Y)]}else M=this.isBoxPlot?[h.move(L,C)+h.line(L+o/2,C)+h.line(L+o/2,P)+h.line(L+o/4,P)+h.line(L+o-o/4,P)+h.line(L+o/2,P)+h.line(L+o/2,C)+h.line(L+o,C)+h.line(L+o,I)+h.line(L,I)+h.line(L,C+c/2),h.move(L,I)+h.line(L+o,I)+h.line(L+o,E)+h.line(L+o/2,E)+h.line(L+o/2,A)+h.line(L+o-o/4,A)+h.line(L+o/4,A)+h.line(L+o/2,A)+h.line(L+o/2,E)+h.line(L,E)+h.line(L,I)+"z"]:[h.move(L,E)+h.line(L+o/2,E)+h.line(L+o/2,P)+h.line(L+o/2,E)+h.line(L+o,E)+h.line(L+o,C)+h.line(L+o/2,C)+h.line(L+o/2,A)+h.line(L+o/2,C)+h.line(L,C)+h.line(L,E-c/2)];return F+=h.move(L,C),u.globals.isXNumeric||(r+=a),{pathTo:M,pathFrom:F,x:r,y:E,goalY:this.barHelpers.getGoalValues("y",null,l,d,f,s.translationsIndex),barXPosition:L,color:w}}},{key:"drawHorizontalBoxPaths",value:function(i){var s=i.indexes;i.x;var r=i.y,a=i.yDivision,o=i.barHeight,l=i.zeroW,c=i.strokeWidth,u=this.w,h=new W(this.ctx),d=s.i,f=s.j,m=this.boxOptions.colors.lower;this.isBoxPlot&&(m=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var g=this.invertedYRatio,v=s.realIndex,x=this.getOHLCValue(v,f),y=l,b=l,_=Math.min(x.o,x.c),k=Math.max(x.o,x.c),P=x.m;u.globals.isXNumeric&&(r=(u.globals.seriesX[v][f]-u.globals.minX)/this.invertedXRatio-o/2);var A=r+o*this.visibleI;this.series[d][f]===void 0||this.series[d][f]===null?(_=l,k=l):(_=l+_/g,k=l+k/g,y=l+x.h/g,b=l+x.l/g,P=l+x.m/g);var w=h.move(l,A),C=h.move(_,A+o/2);return u.globals.previousPaths.length>0&&(C=this.getPreviousPath(v,f,!0)),w=[h.move(_,A)+h.line(_,A+o/2)+h.line(y,A+o/2)+h.line(y,A+o/2-o/4)+h.line(y,A+o/2+o/4)+h.line(y,A+o/2)+h.line(_,A+o/2)+h.line(_,A+o)+h.line(P,A+o)+h.line(P,A)+h.line(_+c/2,A),h.move(P,A)+h.line(P,A+o)+h.line(k,A+o)+h.line(k,A+o/2)+h.line(b,A+o/2)+h.line(b,A+o-o/4)+h.line(b,A+o/4)+h.line(b,A+o/2)+h.line(k,A+o/2)+h.line(k,A)+h.line(P,A)+"z"],C+=h.move(_,A),u.globals.isXNumeric||(r+=a),{pathTo:w,pathFrom:C,x:k,y:r,goalX:this.barHelpers.getGoalValues("x",l,null,d,f),barYPosition:A,color:m}}},{key:"getOHLCValue",value:function(i,s){var r=this.w,a=new dt(this.ctx,r),o=a.getLogValAtSeriesIndex(r.globals.seriesCandleH[i][s],i),l=a.getLogValAtSeriesIndex(r.globals.seriesCandleO[i][s],i),c=a.getLogValAtSeriesIndex(r.globals.seriesCandleM[i][s],i),u=a.getLogValAtSeriesIndex(r.globals.seriesCandleC[i][s],i),h=a.getLogValAtSeriesIndex(r.globals.seriesCandleL[i][s],i);return{o:this.isBoxPlot?o:l,h:this.isBoxPlot?l:o,m:c,l:this.isBoxPlot?u:h,c:this.isBoxPlot?h:u}}}]),t}(),SC=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,i=e.config.plotOptions[e.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(s,r){s.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,i,s){var r=this.w,a=1,o=r.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,t,i);r.globals.hasNegs||s?a=r.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*o):(1-l.percent/100)*(1.25*o):l.percent<=0?1-(1+l.percent/100)*o:(1-l.percent/100)*o:(a=1-l.percent/100,e==="treemap"&&(a=(1-l.percent/100)*(1.25*o)));var c=l.color,u=new D;if(r.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*a,l.color);c=D.hexToRgba(D.isColorHex(h)?h:D.rgb2hex(h),r.config.fill.opacity)}else{var d=u.shadeColor(a,l.color);c=D.hexToRgba(D.isColorHex(d)?d:D.rgb2hex(d),r.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,t,i){var s=this.w,r=s.globals.series[t][i],a=s.config.plotOptions[e],o=a.colorScale.inverse?i:t;a.distributed&&s.config.chart.type==="treemap"&&(o=i);var l=s.globals.colors[o],c=null,u=Math.min.apply(Math,Ct(s.globals.series[t])),h=Math.max.apply(Math,Ct(s.globals.series[t]));a.distributed||e!=="heatmap"||(u=s.globals.minY,h=s.globals.maxY),a.colorScale.min!==void 0&&(u=a.colorScale.min<s.globals.minY?a.colorScale.min:s.globals.minY,h=a.colorScale.max>s.globals.maxY?a.colorScale.max:s.globals.maxY);var d=Math.abs(h)+Math.abs(u),f=100*r/(d===0?d-1e-6:d);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(m,g){if(r>=m.from&&r<=m.to){l=m.color,c=m.foreColor?m.foreColor:null,u=m.from,h=m.to;var v=Math.abs(h)+Math.abs(u);f=100*r/(v===0?v-1e-6:v)}}),{color:l,foreColor:c,percent:f}}},{key:"calculateDataLabels",value:function(e){var t=e.text,i=e.x,s=e.y,r=e.i,a=e.j,o=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,u=new W(this.ctx),h=new wa(this.ctx),d=null;if(c.enabled){d=u.group({class:"apexcharts-data-labels"});var f=c.offsetX,m=c.offsetY,g=i+f,v=s+parseFloat(c.style.fontSize)/3+m;h.plotDataLabelsText({x:g,y:v,text:t,i:r,j:a,color:o.foreColor,parent:d,fontSize:l,dataLabelsConfig:c})}return d}},{key:"addListeners",value:function(e){var t=new W(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),n}(),JN=function(){function n(e,t){te(this,n),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new SC(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return ne(n,[{key:"draw",value:function(e){var t=this.w,i=new W(this.ctx),s=i.group({class:"apexcharts-heatmap"});s.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,o=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();t.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var u=l?0:c.length-1;l?u<c.length:u>=0;l?u++:u--){var h=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:D.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),t.config.chart.dropShadow.enabled){var d=t.config.chart.dropShadow;new Vt(this.ctx).dropShadow(h,d,u)}for(var f=0,m=t.config.plotOptions.heatmap.shadeIntensity,g=0,v=0;v<t.globals.dataPoints;v++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*v<t.globals.seriesX[u][g])f+=r;else{if(g>=c[u].length)break;var x=this.helpers.getShadeColor(t.config.chart.type,u,g,this.negRange),y=x.color,b=x.colorProps;t.config.fill.type==="image"&&(y=new ni(this.ctx).fillPath({seriesNumber:u,dataPointIndex:g,opacity:t.globals.hasNegs?b.percent<0?1-(1+b.percent/100):m+b.percent/100:b.percent/100,patternID:D.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:a}));var _=this.rectRadius,k=i.drawRect(f,o,r,a,_);if(k.attr({cx:f,cy:o}),k.node.classList.add("apexcharts-heatmap-rect"),h.add(k),k.attr({fill:y,i:u,index:u,j:g,val:e[u][g],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?y:t.globals.stroke.colors[0],color:y}),this.helpers.addListeners(k),t.config.chart.animations.enabled&&!t.globals.dataChanged){var P=1;t.globals.resized||(P=t.config.chart.animations.speed),this.animateHeatMap(k,f,o,r,a,P)}if(t.globals.dataChanged){var A=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){A=this.dynamicAnim.speed;var w=t.globals.previousPaths[u]&&t.globals.previousPaths[u][g]&&t.globals.previousPaths[u][g].color;w||(w="rgba(255, 255, 255, 0)"),this.animateHeatColor(k,D.isColorHex(w)?w:D.rgb2hex(w),D.isColorHex(y)?y:D.rgb2hex(y),A)}}var C=(0,t.config.dataLabels.formatter)(t.globals.series[u][g],{value:t.globals.series[u][g],seriesIndex:u,dataPointIndex:g,w:t}),E=this.helpers.calculateDataLabels({text:C,x:f+r/2,y:o+a/2,i:u,j:g,colorProps:b,series:c});E!==null&&h.add(E),f+=r,g++}o+=a,s.add(h)}var I=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?I.unshift(""):I.push(""),t.globals.yAxisScale[0].result=I,s}},{key:"animateHeatMap",value:function(e,t,i,s,r,a){var o=new Na(this.ctx);o.animateRect(e,{x:t+s/2,y:i+r/2,width:0,height:0},{x:t,y:i,width:s,height:r},a,function(){o.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,i,s){e.attr({fill:t}).animate(s).attr({fill:i})}}]),n}(),kC=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"drawYAxisTexts",value:function(e,t,i,s){var r=this.w,a=r.config.yaxis[0],o=r.globals.yLabelFormatters[0];return new W(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:o(s,i),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[i]:a.labels.style.colors})}}]),n}(),CC=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var i=t.config.plotOptions.pie.customScale,s=t.globals.gridWidth/2,r=t.globals.gridHeight/2;this.translateX=s-s*i,this.translateY=r-r*i,this.dataLabelsGroup=new W(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return ne(n,[{key:"draw",value:function(e){var t=this,i=this.w,s=new W(this.ctx),r=s.group({class:"apexcharts-pie"});if(i.globals.noData)return r;for(var a=0,o=0;o<e.length;o++)a+=D.negToZero(e[o]);var l=[],c=s.group();a===0&&(a=1e-5),e.forEach(function(b){t.maxY=Math.max(t.maxY,b)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),i.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(r);for(var u=0;u<e.length;u++){var h=this.fullAngle*D.negToZero(e[u])/a;l.push(h),this.chartType==="polarArea"?(l[u]=this.fullAngle/e.length,this.sliceSizes.push(i.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var d,f=0,m=0;m<i.globals.previousPaths.length;m++)f+=D.negToZero(i.globals.previousPaths[m]);for(var g=0;g<i.globals.previousPaths.length;g++)d=this.fullAngle*D.negToZero(i.globals.previousPaths[g])/f,this.prevSectorAngleArr.push(d)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var v=s.drawCircle(this.donutSize);v.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),c.add(v)}var x=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(b){x.add(b)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),c.add(x),r.add(c),this.donutDataLabels.show){var y=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});r.add(y)}return i.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(r),r}},{key:"drawArcs",value:function(e,t){var i=this.w,s=new Vt(this.ctx),r=new W(this.ctx),a=new ni(this.ctx),o=r.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var d=0;d<e.length;d++){var f=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:D.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});o.add(f),c=h,u=(l=u)+e[d],h=c+this.prevSectorAngleArr[d];var m=u<l?this.fullAngle+u-l:u-l,g=a.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:t[d]}),v=this.getChangedPath(c,h),x=r.drawPath({d:v,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:g,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(x.attr({index:0,j:d}),s.setSelectionFilter(x,0,d),i.config.chart.dropShadow.enabled){var y=i.config.chart.dropShadow;s.dropShadow(x,y,d)}this.addListeners(x,this.donutDataLabels),W.setAttrs(x.node,{"data:angle":m,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":t[d]});var b={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?b=D.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(l+m/2)%this.fullAngle):this.chartType==="donut"&&(b=D.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(l+m/2)%this.fullAngle)),f.add(x);var _=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):((_=m/this.fullAngle*i.config.chart.animations.speed)===0&&(_=1),this.animDur=_+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&i.globals.dataChanged?this.animatePaths(x,{size:this.sliceSizes[d],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:h,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(x,{size:this.sliceSizes[d],endAngle:u,startAngle:l,i:d,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:_}),i.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&x.node.addEventListener("mouseup",this.pieClicked.bind(this,d)),i.globals.selectedDataPoints[0]!==void 0&&i.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),i.config.dataLabels.enabled){var k=b.x,P=b.y,A=100*m/this.fullAngle+"%";if(m!==0&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[d]){var w=i.config.dataLabels.formatter;w!==void 0&&(A=w(i.globals.seriesPercent[d][0],{seriesIndex:d,w:i}));var C=i.globals.dataLabels.style.colors[d],E=r.group({class:"apexcharts-datalabels"}),I=r.drawText({x:k,y:P,text:A,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:C});if(E.add(I),i.config.dataLabels.dropShadow.enabled){var L=i.config.dataLabels.dropShadow;s.dropShadow(I,L)}I.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&i.globals.resized===!1&&(I.node.classList.add("apexcharts-pie-label-delay"),I.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(E)}}}return o}},{key:"addListeners",value:function(e,t){var i=new W(this.ctx);e.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",i.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var i=this.w,s=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=s,a=t.startAngle,o=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(a=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===i.config.series.length-1&&(s+o>this.fullAngle?t.endAngle=t.endAngle-(s+o):s+o<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(s+o)))),s===this.fullAngle&&(s=this.fullAngle-.01),this.animateArc(e,a,o,s,r,t)}},{key:"animateArc",value:function(e,t,i,s,r,a){var o,l=this,c=this.w,u=new Na(this.ctx),h=a.size;(isNaN(t)||isNaN(r))&&(t=i,r=s,a.dur=0);var d=s,f=i,m=t<i?this.fullAngle+t-i:t-i;c.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(o=l.getPiePath({me:l,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:h}),e.attr({d:o})),a.dur!==0?e.animate(a.dur,a.animBeginArr[a.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),a.i===c.config.series.length-1&&u.animationCompleted(e)}).during(function(g){d=m+(s-m)*g,a.animateStartingPos&&(d=r+(s-r)*g,f=t-r+(i-(t-r))*g),o=l.getPiePath({me:l,startAngle:f,angle:d,size:h}),e.node.setAttribute("data:pathOrig",o),e.attr({d:o})}):(o=l.getPiePath({me:l,startAngle:f,angle:s,size:h}),a.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",o),e.attr({d:o,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,i=this.w,s=this,r=s.sliceSizes[e]+(i.config.plotOptions.pie.expandOnClick?4:0),a=i.globals.dom.Paper.findOne(".apexcharts-".concat(s.chartType.toLowerCase(),"-slice-").concat(e));if(a.attr("data:pieClicked")!=="true"){var o=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(o,function(h){h.setAttribute("data:pieClicked","false");var d=h.getAttribute("data:pathOrig");d&&h.setAttribute("d",d)}),i.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var l=parseInt(a.attr("data:startAngle"),10),c=parseInt(a.attr("data:angle"),10);t=s.getPiePath({me:s,startAngle:l,angle:c,size:r}),c!==360&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var u=a.attr("data:pathOrig");a.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),i}},{key:"getPiePath",value:function(e){var t,i=e.me,s=e.startAngle,r=e.angle,a=e.size,o=new W(this.ctx),l=s,c=Math.PI*(l-90)/180,u=r+s;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,d=i.centerX+a*Math.cos(c),f=i.centerY+a*Math.sin(c),m=i.centerX+a*Math.cos(h),g=i.centerY+a*Math.sin(h),v=D.polarToCartesian(i.centerX,i.centerY,i.donutSize,u),x=D.polarToCartesian(i.centerX,i.centerY,i.donutSize,l),y=r>180?1:0,b=["M",d,f,"A",a,a,0,y,1,m,g];return t=i.chartType==="donut"?[].concat(b,["L",v.x,v.y,"A",i.donutSize,i.donutSize,0,y,0,x.x,x.y,"L",d,f,"z"]).join(" "):i.chartType==="pie"||i.chartType==="polarArea"?[].concat(b,["L",i.centerX,i.centerY,"L",d,f]).join(" "):[].concat(b).join(" "),o.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,i=new yC(this.ctx),s=new W(this.ctx),r=new kC(this.ctx),a=s.group(),o=s.group(),l=i.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),u=l.result.length;this.maxY=l.niceMax;for(var h=t.globals.radialSize,d=h/(u-1),f=0;f<u-1;f++){var m=s.drawCircle(h);if(m.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var g=r.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,f,c[f]);o.add(g)}a.add(m),h-=d}this.drawSpokes(e),e.add(a),e.add(o)}},{key:"renderInnerDataLabels",value:function(e,t,i){var s=this.w,r=new W(this.ctx),a=t.total.show;e.node.innerHTML="",e.node.style.opacity=i.opacity;var o,l,c=i.centerX,u=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;o=t.name.color===void 0?s.globals.colors[0]:t.name.color;var h=t.name.fontSize,d=t.name.fontFamily,f=t.name.fontWeight;l=t.value.color===void 0?s.config.chart.foreColor:t.value.color;var m=t.value.formatter,g="",v="";if(a?(o=t.total.color,h=t.total.fontSize,d=t.total.fontFamily,f=t.total.fontWeight,v=this.donutDataLabels.total.label?t.total.label:"",g=t.total.formatter(s)):s.globals.series.length===1&&(g=m(s.globals.series[0],s),v=s.globals.seriesNames[0]),v&&(v=t.name.formatter(v,t.total.show,s)),t.name.show){var x=r.drawText({x:c,y:u+parseFloat(t.name.offsetY),text:v,textAnchor:"middle",foreColor:o,fontSize:h,fontWeight:f,fontFamily:d});x.node.classList.add("apexcharts-datalabel-label"),e.add(x)}if(t.value.show){var y=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,b=r.drawText({x:c,y:u+y,text:g,textAnchor:"middle",foreColor:l,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});b.node.classList.add("apexcharts-datalabel-value"),e.add(b)}return e}},{key:"printInnerLabels",value:function(e,t,i,s){var r,a=this.w;s?r=e.name.color===void 0?a.globals.colors[parseInt(s.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(r=e.total.color);var o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,e.value.formatter)(i,a),s||typeof e.total.formatter!="function"||(i=e.total.formatter(a));var c=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,c,a):"",o!==null&&(o.textContent=t),l!==null&&(l.textContent=i),o!==null&&(o.style.fill=r)}},{key:"printDataLabelsInner",value:function(e,t){var i=this.w,s=e.getAttribute("data:value"),r=i.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(t,r,s,e);var a=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");a!==null&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,i=this.w,s=new W(this.ctx),r=i.config.plotOptions.polarArea.spokes;if(r.strokeWidth!==0){for(var a=[],o=360/i.globals.series.length,l=0;l<i.globals.series.length;l++)a.push(D.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+o*l));a.forEach(function(c,u){var h=s.drawLine(c.x,c.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[u]:r.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),i=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(i)}}}]),n}(),eD=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new W(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new dt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return ne(n,[{key:"draw",value:function(e){var t=this,i=this.w,s=new ni(this.ctx),r=[],a=new wa(this.ctx);e.length&&(this.dataPointsLen=e[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var o=i.globals.gridWidth/2,l=i.globals.gridHeight/2,c=o+i.config.plotOptions.radar.offsetX,u=l+i.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),d=[],f=null,m=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(v,x){var y=v.length===i.globals.dataPoints,b=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":y,seriesName:D.escapeString(i.globals.seriesNames[x]),rel:x+1,"data:realIndex":x});t.dataRadiusOfPercent[x]=[],t.dataRadius[x]=[],t.angleArr[x]=[],v.forEach(function(M,F){var B=Math.abs(t.maxValue-t.minValue);M-=t.minValue,t.isLog&&(M=t.coreUtils.getLogVal(t.logBase,M,0)),t.dataRadiusOfPercent[x][F]=M/B,t.dataRadius[x][F]=t.dataRadiusOfPercent[x][F]*t.size,t.angleArr[x][F]=F*t.disAngle}),d=t.getDataPointsPos(t.dataRadius[x],t.angleArr[x]);var _=t.createPaths(d,{x:0,y:0});f=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),m=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":x}),i.globals.delayedElements.push({el:f.node,index:x});var k={i:x,realIndex:x,animationDelay:x,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[x],strokeLineCap:i.config.stroke.lineCap},P=null;i.globals.previousPaths.length>0&&(P=t.getPreviousPath(x));for(var A=0;A<_.linePathsTo.length;A++){var w=t.graphics.renderPaths(Z(Z({},k),{},{pathFrom:P===null?_.linePathsFrom[A]:P,pathTo:_.linePathsTo[A],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[x]:t.strokeWidth,fill:"none",drawShadow:!1}));b.add(w);var C=s.fillPath({seriesNumber:x}),E=t.graphics.renderPaths(Z(Z({},k),{},{pathFrom:P===null?_.areaPathsFrom[A]:P,pathTo:_.areaPathsTo[A],strokeWidth:0,fill:C,drawShadow:!1}));if(i.config.chart.dropShadow.enabled){var I=new Vt(t.ctx),L=i.config.chart.dropShadow;I.dropShadow(E,Object.assign({},L,{noUserSpaceOnUse:!0}),x)}b.add(E)}v.forEach(function(M,F){var B=new Fa(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:x,dataPointIndex:F}),$=t.graphics.drawMarker(d[F].x,d[F].y,B);$.attr("rel",F),$.attr("j",F),$.attr("index",x),$.node.setAttribute("default-marker-size",B.pSize);var Y=t.graphics.group({class:"apexcharts-series-markers"});Y&&Y.add($),f.add(Y),b.add(f);var V=i.config.dataLabels;if(V.enabled){var X=V.formatter(i.globals.series[x][F],{seriesIndex:x,dataPointIndex:F,w:i});a.plotDataLabelsText({x:d[F].x,y:d[F].y,text:X,textAnchor:"middle",i:x,j:x,parent:m,offsetCorrection:!1,dataLabelsConfig:Z({},V)})}b.add(m)}),r.push(b)}),this.drawPolygons({parent:h}),i.config.xaxis.labels.show){var g=this.drawXAxisTexts();h.add(g)}return r.forEach(function(v){h.add(v)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var t=this,i=this.w,s=e.parent,r=new kC(this.ctx),a=i.globals.yAxisScale[0].result.reverse(),o=a.length,l=[],c=this.size/(o-1),u=0;u<o;u++)l[u]=c*u;l.reverse();var h=[],d=[];l.forEach(function(f,m){var g=D.getPolygonPos(f,t.dataPointsLen),v="";g.forEach(function(x,y){if(m===0){var b=t.graphics.drawLine(x.x,x.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[y]:t.polygons.connectorColors);d.push(b)}y===0&&t.yaxisLabelsTextsPos.push({x:x.x,y:x.y}),v+=x.x+","+x.y+" "}),h.push(v)}),h.forEach(function(f,m){var g=t.polygons.strokeColors,v=t.polygons.strokeWidth,x=t.graphics.drawPolygon(f,Array.isArray(g)?g[m]:g,Array.isArray(v)?v[m]:v,i.globals.radarPolygons.fill.colors[m]);s.add(x)}),d.forEach(function(f){s.add(f)}),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(f,m){var g=r.drawYAxisTexts(f.x,f.y,m,a[m]);t.yaxisLabels.add(g)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,i=t.config.xaxis.labels,s=this.graphics.group({class:"apexcharts-xaxis"}),r=D.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(a,o){var l=t.config.xaxis.labels.formatter,c=new wa(e.ctx);if(r[o]){var u=e.getTextPos(r[o],e.size),h=l(a,{seriesIndex:-1,dataPointIndex:o,w:t});c.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:o,j:o,parent:s,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[o]?i.style.colors[o]:"#a8a8a8",dataLabelsConfig:Z({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",function(d){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var f=Object.assign({},t,{labelIndex:o});t.config.chart.events.xAxisLabelClick(d,e.ctx,f)}})}}),s}},{key:"createPaths",value:function(e,t){var i=this,s=[],r=[],a=[],o=[];if(e.length){r=[this.graphics.move(t.x,t.y)],o=[this.graphics.move(t.x,t.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,h){l+=i.graphics.line(u.x,u.y),c+=i.graphics.line(u.x,u.y),h===e.length-1&&(l+="Z",c+="Z")}),s.push(l),a.push(c)}return{linePathsFrom:r,linePathsTo:s,areaPathsFrom:o,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var i="middle",s=e.x,r=e.y;return Math.abs(e.x)>=10?e.x>0?(i="start",s+=10):e.x<0&&(i="end",s-=10):i="middle",Math.abs(e.y)>=t-10&&(e.y<0?r-=10:e.y>0&&(r+=10)),{textAnchor:i,newX:s,newY:r}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,i=null,s=0;s<t.globals.previousPaths.length;s++){var r=t.globals.previousPaths[s];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[s].paths[0]!==void 0&&(i=t.globals.previousPaths[s].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var s=[],r=0;r<i;r++){var a={};a.x=e[r]*Math.sin(t[r]),a.y=-e[r]*Math.cos(t[r]),s.push(a)}return s}}]),n}(),tD=function(n){Gl(t,CC);var e=$l(t);function t(i){var s;te(this,t),(s=e.call(this,i)).ctx=i,s.w=i.w,s.animBeginArr=[0],s.animDur=0;var r=s.w;return s.startAngle=r.config.plotOptions.radialBar.startAngle,s.endAngle=r.config.plotOptions.radialBar.endAngle,s.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),s.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,s.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,s.barLabels=s.w.config.plotOptions.radialBar.barLabels,s.donutDataLabels=s.w.config.plotOptions.radialBar.dataLabels,s.radialDataLabels=s.donutDataLabels,s.trackStartAngle||(s.trackStartAngle=s.startAngle),s.trackEndAngle||(s.trackEndAngle=s.endAngle),s.endAngle===360&&(s.endAngle=359.99),s.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),s.onBarLabelClick=s.onBarLabelClick.bind(Dk(s)),s}return ne(t,[{key:"draw",value:function(i){var s=this.w,r=new W(this.ctx),a=r.group({class:"apexcharts-radialbar"});if(s.globals.noData)return a;var o=r.group(),l=this.defaultSize/2,c=s.globals.gridWidth/2,u=this.defaultSize/2.05;s.config.chart.sparkline.enabled||(u=u-s.config.stroke.width-s.config.chart.dropShadow.blur);var h=s.globals.fill.colors;if(s.config.plotOptions.radialBar.track.show){var d=this.drawTracks({size:u,centerX:c,centerY:l,colorArr:h,series:i});o.add(d)}var f=this.drawArcs({size:u,centerX:c,centerY:l,colorArr:h,series:i}),m=360;s.config.plotOptions.radialBar.startAngle<0&&(m=this.totalAngle);var g=(360-m)/360;if(s.globals.radialSize=u-u*g,this.radialDataLabels.value.show){var v=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);s.globals.radialSize+=v*g}return o.add(f.g),s.config.plotOptions.radialBar.hollow.position==="front"&&(f.g.add(f.elHollow),f.dataLabels&&f.g.add(f.dataLabels)),a.add(o),a}},{key:"drawTracks",value:function(i){var s=this.w,r=new W(this.ctx),a=r.group({class:"apexcharts-tracks"}),o=new Vt(this.ctx),l=new ni(this.ctx),c=this.getStrokeWidth(i);i.size=i.size-c/2;for(var u=0;u<i.series.length;u++){var h=r.group({class:"apexcharts-radialbar-track apexcharts-track"});a.add(h),h.attr({rel:u+1}),i.size=i.size-c-this.margin;var d=s.config.plotOptions.radialBar.track,f=l.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(d.background)?d.background[u]:d.background,solid:!0}),m=this.trackStartAngle,g=this.trackEndAngle;Math.abs(g)+Math.abs(m)>=360&&(g=360-Math.abs(this.startAngle)-.1);var v=r.drawPath({d:"",stroke:f,strokeWidth:c*parseInt(d.strokeWidth,10)/100,fill:"none",strokeOpacity:d.opacity,classes:"apexcharts-radialbar-area"});if(d.dropShadow.enabled){var x=d.dropShadow;o.dropShadow(v,x)}h.add(v),v.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(v,{centerX:i.centerX,centerY:i.centerY,endAngle:g,startAngle:m,size:i.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return a}},{key:"drawArcs",value:function(i){var s=this.w,r=new W(this.ctx),a=new ni(this.ctx),o=new Vt(this.ctx),l=r.group(),c=this.getStrokeWidth(i);i.size=i.size-c/2;var u=s.config.plotOptions.radialBar.hollow.background,h=i.size-c*i.series.length-this.margin*i.series.length-c*parseInt(s.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,d=h-s.config.plotOptions.radialBar.hollow.margin;s.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(i,l,h,u));var f=this.drawHollow({size:d,centerX:i.centerX,centerY:i.centerY,fill:u||"transparent"});if(s.config.plotOptions.radialBar.hollow.dropShadow.enabled){var m=s.config.plotOptions.radialBar.hollow.dropShadow;o.dropShadow(f,m)}var g=1;!this.radialDataLabels.total.show&&s.globals.series.length>1&&(g=0);var v=null;if(this.radialDataLabels.show){var x=s.globals.dom.Paper.findOne(".apexcharts-datalabels-group");v=this.renderInnerDataLabels(x,this.radialDataLabels,{hollowSize:h,centerX:i.centerX,centerY:i.centerY,opacity:g})}s.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(f),v&&l.add(v));var y=!1;s.config.plotOptions.radialBar.inverseOrder&&(y=!0);for(var b=y?i.series.length-1:0;y?b>=0:b<i.series.length;y?b--:b++){var _=r.group({class:"apexcharts-series apexcharts-radial-series",seriesName:D.escapeString(s.globals.seriesNames[b])});l.add(_),_.attr({rel:b+1,"data:realIndex":b}),this.ctx.series.addCollapsedClassToSeries(_,b),i.size=i.size-c-this.margin;var k=a.fillPath({seriesNumber:b,size:i.size,value:i.series[b]}),P=this.startAngle,A=void 0,w=D.negToZero(i.series[b]>100?100:i.series[b])/100,C=Math.round(this.totalAngle*w)+this.startAngle,E=void 0;s.globals.dataChanged&&(A=this.startAngle,E=Math.round(this.totalAngle*D.negToZero(s.globals.previousPaths[b])/100)+A),Math.abs(C)+Math.abs(P)>360&&(C-=.01),Math.abs(E)+Math.abs(A)>360&&(E-=.01);var I=C-P,L=Array.isArray(s.config.stroke.dashArray)?s.config.stroke.dashArray[b]:s.config.stroke.dashArray,M=r.drawPath({d:"",stroke:k,strokeWidth:c,fill:"none",fillOpacity:s.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+b,strokeDashArray:L});if(W.setAttrs(M.node,{"data:angle":I,"data:value":i.series[b]}),s.config.chart.dropShadow.enabled){var F=s.config.chart.dropShadow;o.dropShadow(M,F,b)}if(o.setSelectionFilter(M,0,b),this.addListeners(M,this.radialDataLabels),_.add(M),M.attr({index:0,j:b}),this.barLabels.enabled){var B=D.polarToCartesian(i.centerX,i.centerY,i.size,P),$=this.barLabels.formatter(s.globals.seriesNames[b],{seriesIndex:b,w:s}),Y=["apexcharts-radialbar-label"];this.barLabels.onClick||Y.push("apexcharts-no-click");var V=this.barLabels.useSeriesColors?s.globals.colors[b]:s.config.chart.foreColor;V||(V=s.config.chart.foreColor);var X=B.x+this.barLabels.offsetX,G=B.y+this.barLabels.offsetY,J=r.drawText({x:X,y:G,text:$,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:V,cssClass:Y.join(" ")});J.on("click",this.onBarLabelClick),J.attr({rel:b+1}),P!==0&&J.attr({"transform-origin":"".concat(X," ").concat(G),transform:"rotate(".concat(P," 0 0)")}),_.add(J)}var re=0;!this.initialAnim||s.globals.resized||s.globals.dataChanged||(re=s.config.chart.animations.speed),s.globals.dataChanged&&(re=s.config.chart.animations.dynamicAnimation.speed),this.animDur=re/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(M,{centerX:i.centerX,centerY:i.centerY,endAngle:C,startAngle:P,prevEndAngle:E,prevStartAngle:A,size:i.size,i:b,totalItems:2,animBeginArr:this.animBeginArr,dur:re,shouldSetPrevPaths:!0})}return{g:l,elHollow:f,dataLabels:v}}},{key:"drawHollow",value:function(i){var s=new W(this.ctx).drawCircle(2*i.size);return s.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),s}},{key:"drawHollowImage",value:function(i,s,r,a){var o=this.w,l=new ni(this.ctx),c=D.randomId(),u=o.config.plotOptions.radialBar.hollow.image;if(o.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:r,height:r,image:u,patternID:"pattern".concat(o.globals.cuid).concat(c)}),a="url(#pattern".concat(o.globals.cuid).concat(c,")");else{var h=o.config.plotOptions.radialBar.hollow.imageWidth,d=o.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&d===void 0){var f=o.globals.dom.Paper.image(u,function(g){this.move(i.centerX-g.width/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-g.height/2+o.config.plotOptions.radialBar.hollow.imageOffsetY)});s.add(f)}else{var m=o.globals.dom.Paper.image(u,function(g){this.move(i.centerX-h/2+o.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-d/2+o.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,d)});s.add(m)}}return a}},{key:"getStrokeWidth",value:function(i){var s=this.w;return i.size*(100-parseInt(s.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var s=parseInt(i.target.getAttribute("rel"),10)-1,r=this.barLabels.onClick,a=this.w;r&&r(a.globals.seriesNames[s],{w:a,seriesIndex:s})}}]),t}(),nD=function(n){Gl(t,Aa);var e=$l(t);function t(){return te(this,t),e.apply(this,arguments)}return ne(t,[{key:"draw",value:function(i,s){var r=this.w,a=new W(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=r.globals.seriesRangeStart,this.seriesRangeEnd=r.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var o=a.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<i.length;l++){var c,u,h,d,f=void 0,m=void 0,g=r.globals.comboCharts?s[l]:l,v=this.barHelpers.getGroupIndex(g).columnGroupIndex,x=a.group({class:"apexcharts-series",seriesName:D.escapeString(r.globals.seriesNames[g]),rel:l+1,"data:realIndex":g});this.ctx.series.addCollapsedClassToSeries(x,g),i[l].length>0&&(this.visibleI=this.visibleI+1);var y=0,b=0,_=0;this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[g][0],_=g);var k=this.barHelpers.initialPositions(g);m=k.y,d=k.zeroW,f=k.x,b=k.barWidth,y=k.barHeight,c=k.xDivision,u=k.yDivision,h=k.zeroH;for(var P=a.group({class:"apexcharts-datalabels","data:realIndex":g}),A=a.group({class:"apexcharts-rangebar-goals-markers"}),w=0;w<r.globals.dataPoints;w++){var C=this.barHelpers.getStrokeWidth(l,w,g),E=this.seriesRangeStart[l][w],I=this.seriesRangeEnd[l][w],L=null,M=null,F=null,B={x:f,y:m,strokeWidth:C,elSeries:x},$=this.seriesLen;if(r.config.plotOptions.bar.rangeBarGroupRows&&($=1),r.config.series[l].data[w]===void 0)break;if(this.isHorizontal){F=m+y*this.visibleI;var Y=(u-y*$)/2;if(r.config.series[l].data[w].x){var V=this.detectOverlappingBars({i:l,j:w,barYPosition:F,srty:Y,barHeight:y,yDivision:u,initPositions:k});y=V.barHeight,F=V.barYPosition}b=(L=this.drawRangeBarPaths(Z({indexes:{i:l,j:w,realIndex:g},barHeight:y,barYPosition:F,zeroW:d,yDivision:u,y1:E,y2:I},B))).barWidth}else{r.globals.isXNumeric&&(f=(r.globals.seriesX[l][w]-r.globals.minX)/this.xRatio-b/2),M=f+b*this.visibleI;var X=(c-b*$)/2;if(r.config.series[l].data[w].x){var G=this.detectOverlappingBars({i:l,j:w,barXPosition:M,srtx:X,barWidth:b,xDivision:c,initPositions:k});b=G.barWidth,M=G.barXPosition}y=(L=this.drawRangeColumnPaths(Z({indexes:{i:l,j:w,realIndex:g,translationsIndex:_},barWidth:b,barXPosition:M,zeroH:h,xDivision:c},B))).barHeight}var J=this.barHelpers.drawGoalLine({barXPosition:L.barXPosition,barYPosition:F,goalX:L.goalX,goalY:L.goalY,barHeight:y,barWidth:b});J&&A.add(J),m=L.y,f=L.x;var re=this.barHelpers.getPathFillColor(i,l,w,g);this.renderSeries({realIndex:g,pathFill:re.color,lineFill:re.useRangeColor?re.color:r.globals.stroke.colors[g],j:w,i:l,x:f,y:m,y1:E,y2:I,pathFrom:L.pathFrom,pathTo:L.pathTo,strokeWidth:C,elSeries:x,series:i,barHeight:y,barWidth:b,barXPosition:M,barYPosition:F,columnGroupIndex:v,elDataLabelsWrap:P,elGoalsMarkers:A,visibleSeries:this.visibleI,type:"rangebar"})}o.add(x)}return o}},{key:"detectOverlappingBars",value:function(i){var s=i.i,r=i.j,a=i.barYPosition,o=i.barXPosition,l=i.srty,c=i.srtx,u=i.barHeight,h=i.barWidth,d=i.yDivision,f=i.xDivision,m=i.initPositions,g=this.w,v=[],x=g.config.series[s].data[r].rangeName,y=g.config.series[s].data[r].x,b=Array.isArray(y)?y.join(" "):y,_=g.globals.labels.map(function(P){return Array.isArray(P)?P.join(" "):P}).indexOf(b),k=g.globals.seriesRange[s].findIndex(function(P){return P.x===b&&P.overlaps.length>0});return this.isHorizontal?(a=g.config.plotOptions.bar.rangeBarGroupRows?l+d*_:l+u*this.visibleI+d*_,k>-1&&!g.config.plotOptions.bar.rangeBarOverlap&&(v=g.globals.seriesRange[s][k].overlaps).indexOf(x)>-1&&(a=(u=m.barHeight/v.length)*this.visibleI+d*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+v.indexOf(x))+d*_)):(_>-1&&!g.globals.timescaleLabels.length&&(o=g.config.plotOptions.bar.rangeBarGroupRows?c+f*_:c+h*this.visibleI+f*_),k>-1&&!g.config.plotOptions.bar.rangeBarOverlap&&(v=g.globals.seriesRange[s][k].overlaps).indexOf(x)>-1&&(o=(h=m.barWidth/v.length)*this.visibleI+f*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+v.indexOf(x))+f*_)),{barYPosition:a,barXPosition:o,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(i){var s=i.indexes,r=i.x,a=i.xDivision,o=i.barWidth,l=i.barXPosition,c=i.zeroH,u=this.w,h=s.i,d=s.j,f=s.realIndex,m=s.translationsIndex,g=this.yRatio[m],v=this.getRangeValue(f,d),x=Math.min(v.start,v.end),y=Math.max(v.start,v.end);this.series[h][d]===void 0||this.series[h][d]===null?x=c:(x=c-x/g,y=c-y/g);var b=Math.abs(y-x),_=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:o,y1:x,y2:y,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:f,i:f,j:d,w:u});if(u.globals.isXNumeric){var k=this.getBarXForNumericXAxis({x:r,j:d,realIndex:f,barWidth:o});r=k.x,l=k.barXPosition}else r+=a;return{pathTo:_.pathTo,pathFrom:_.pathFrom,barHeight:b,x:r,y:v.start<0&&v.end<0?x:y,goalY:this.barHelpers.getGoalValues("y",null,c,h,d,m),barXPosition:l}}},{key:"preventBarOverflow",value:function(i){var s=this.w;return i<0&&(i=0),i>s.globals.gridWidth&&(i=s.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var s=i.indexes,r=i.y,a=i.y1,o=i.y2,l=i.yDivision,c=i.barHeight,u=i.barYPosition,h=i.zeroW,d=this.w,f=s.realIndex,m=s.j,g=this.preventBarOverflow(h+a/this.invertedYRatio),v=this.preventBarOverflow(h+o/this.invertedYRatio),x=this.getRangeValue(f,m),y=Math.abs(v-g),b=this.barHelpers.getBarpaths({barYPosition:u,barHeight:c,x1:g,x2:v,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:f,realIndex:f,j:m,w:d});return d.globals.isXNumeric||(r+=l),{pathTo:b.pathTo,pathFrom:b.pathFrom,barWidth:y,x:x.start<0&&x.end<0?g:v,goalX:this.barHelpers.getGoalValues("x",h,null,f,m),y:r}}},{key:"getRangeValue",value:function(i,s){var r=this.w;return{start:r.globals.seriesRangeStart[i][s],end:r.globals.seriesRangeEnd[i][s]}}}]),t}(),iD=function(){function n(e){te(this,n),this.w=e.w,this.lineCtx=e}return ne(n,[{key:"sameValueSeriesFix",value:function(e,t){var i=this.w;if((i.config.fill.type==="gradient"||i.config.fill.type[e]==="gradient")&&new dt(this.lineCtx.ctx,i).seriesHaveSameValues(e)){var s=t[e].slice();s[s.length-1]=s[s.length-1]+1e-6,t[e]=s}return t}},{key:"calculatePoints",value:function(e){var t=e.series,i=e.realIndex,s=e.x,r=e.y,a=e.i,o=e.j,l=e.prevY,c=this.w,u=[],h=[],d=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(d=(c.globals.seriesX[i][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),o===0&&(u.push(d),h.push(D.isNumber(t[a][0])?l+c.config.markers.offsetY:null)),u.push(s+c.config.markers.offsetX),h.push(D.isNumber(t[a][o+1])?r+c.config.markers.offsetY:null),{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,i=e.pathFromArea,s=e.realIndex,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var o=r.globals.previousPaths[a];(o.type==="line"||o.type==="area")&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(s,10)&&(o.type==="line"?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[a].paths[0].d):o.type==="area"&&(this.lineCtx.appendPathFrom=!1,i=r.globals.previousPaths[a].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[a].paths[1]&&(t=r.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(e){var t,i,s,r=e.i,a=e.realIndex,o=e.series,l=e.prevY,c=e.lineYPosition,u=e.translationsIndex,h=this.w,d=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[a])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[a])===null||i===void 0?void 0:i.type)==="column");if(((s=o[r])===null||s===void 0?void 0:s[0])!==void 0)l=(c=d&&r>0?this.lineCtx.prevSeriesY[r-1][0]:this.lineCtx.zeroY)-o[r][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?o[r][0]/this.lineCtx.yRatio[u]:0);else if(d&&r>0&&o[r][0]===void 0){for(var f=r-1;f>=0;f--)if(o[f][0]!==null&&o[f][0]!==void 0){l=c=this.lineCtx.prevSeriesY[f][0];break}}return{prevY:l,lineYPosition:c}}}]),n}(),sD=function(n){for(var e,t,i,s,r=function(u){for(var h=[],d=u[0],f=u[1],m=h[0]=yf(d,f),g=1,v=u.length-1;g<v;g++)d=f,f=u[g+1],h[g]=.5*(m+(m=yf(d,f)));return h[g]=m,h}(n),a=n.length-1,o=[],l=0;l<a;l++)i=yf(n[l],n[l+1]),Math.abs(i)<1e-6?r[l]=r[l+1]=0:(s=(e=r[l]/i)*e+(t=r[l+1]/i)*t)>9&&(s=3*i/Math.sqrt(s),r[l]=s*e,r[l+1]=s*t);for(var c=0;c<=a;c++)s=(n[Math.min(a,c+1)][0]-n[Math.max(0,c-1)][0])/(6*(1+r[c]*r[c])),o.push([s||0,r[c]*s||0]);return o},rD=function(n){var e=sD(n),t=n[1],i=n[0],s=[],r=e[1],a=e[0];s.push(i,[i[0]+a[0],i[1]+a[1],t[0]-r[0],t[1]-r[1],t[0],t[1]]);for(var o=2,l=e.length;o<l;o++){var c=n[o],u=e[o];s.push([c[0]-u[0],c[1]-u[1],c[0],c[1]])}return s},aD=function(n,e,t){var i=n.slice(e,t);if(e){if(t-e>1&&i[1].length<6){var s=i[0].length;i[1]=[2*i[0][s-2]-i[0][s-4],2*i[0][s-1]-i[0][s-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function yf(n,e){return(e[1]-n[1])/(e[0]-n[0])}var vf=function(){function n(e,t,i){te(this,n),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||i,this.scatter=new gC(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new iD(this),this.markers=new Fa(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return ne(n,[{key:"draw",value:function(e,t,i,s){var r,a=this.w,o=new W(this.ctx),l=a.globals.comboCharts?t:a.config.chart.type,c=o.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),u=new dt(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],d=0;d<e.length;d++){e=this.lineHelpers.sameValueSeriesFix(d,e);var f=a.globals.comboCharts?i[d]:d,m=this.yRatio.length>1?f:0;this._initSerieVariables(e,d,f);var g=[],v=[],x=[],y=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,f),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(y=(a.globals.seriesX[f][0]-a.globals.minX)/this.xRatio),x.push(y);var b,_=y,k=void 0,P=_,A=this.zeroY,w=this.zeroY;A=this.lineHelpers.determineFirstPrevY({i:d,realIndex:f,series:e,prevY:A,lineYPosition:0,translationsIndex:m}).prevY,a.config.stroke.curve==="monotoneCubic"&&e[d][0]===null?g.push(null):g.push(A),b=A,l==="rangeArea"&&(k=w=this.lineHelpers.determineFirstPrevY({i:d,realIndex:f,series:s,prevY:w,lineYPosition:0,translationsIndex:m}).prevY,v.push(g[0]!==null?w:null));var C=this._calculatePathsFrom({type:l,series:e,i:d,realIndex:f,translationsIndex:m,prevX:P,prevY:A,prevY2:w}),E=[g[0]],I=[v[0]],L={type:l,series:e,realIndex:f,translationsIndex:m,i:d,x:y,y:1,pX:_,pY:b,pathsFrom:C,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:x,yArrj:g,y2Arrj:v,seriesRangeEnd:s},M=this._iterateOverDataPoints(Z(Z({},L),{},{iterations:l==="rangeArea"?e[d].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var F=this._calculatePathsFrom({series:s,i:d,realIndex:f,prevX:P,prevY:w}),B=this._iterateOverDataPoints(Z(Z({},L),{},{series:s,xArrj:[y],yArrj:E,y2Arrj:I,pY:k,areaPaths:M.areaPaths,pathsFrom:F,iterations:s[d].length-1,isRangeStart:!1})),$=M.linePaths.length/2,Y=0;Y<$;Y++)M.linePaths[Y]=B.linePaths[Y+$]+M.linePaths[Y];M.linePaths.splice($),M.pathFromLine=B.pathFromLine+M.pathFromLine}else M.pathFromArea+="z";this._handlePaths({type:l,realIndex:f,i:d,paths:M}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((r=a.config.series[0])===null||r===void 0?void 0:r.zIndex)!==void 0&&h.sort(function(G,J){return Number(G.node.getAttribute("zIndex"))-Number(J.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var V=h.length-1;V>=0;V--)c.add(h[V]);else for(var X=0;X<h.length;X++)c.add(h[X]);return c}},{key:"_initSerieVariables",value:function(e,t,i){var s=this.w,r=new W(this.ctx);this.xDivision=s.globals.gridWidth/(s.globals.dataPoints-(s.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(s.config.stroke.width)?s.config.stroke.width[i]:s.config.stroke.width;var a=0;if(this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[i],a=i),this.isReversed=s.config.yaxis[this.yaxisIndex]&&s.config.yaxis[this.yaxisIndex].reversed,this.zeroY=s.globals.gridHeight-this.baseLineY[a]-(this.isReversed?s.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>s.globals.gridHeight||s.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=s.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",zIndex:s.config.series[i].zIndex!==void 0?s.config.series[i].zIndex:i,seriesName:D.escapeString(s.globals.seriesNames[i])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),s.globals.hasNullValues){var o=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[s.globals.gridHeight+s.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});o!==null&&this.elPointsMain.add(o)}this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":i});var l=e[t].length===s.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:t+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,i,s,r,a=e.type,o=e.series,l=e.i,c=e.realIndex,u=e.translationsIndex,h=e.prevX,d=e.prevY,f=e.prevY2,m=this.w,g=new W(this.ctx);if(o[l][0]===null){for(var v=0;v<o[l].length;v++)if(o[l][v]!==null){h=this.xDivision*v,d=this.zeroY-o[l][v]/this.yRatio[u],t=g.move(h,d),i=g.move(h,this.areaBottomY);break}}else t=g.move(h,d),a==="rangeArea"&&(t=g.move(h,f)+g.line(h,d)),i=g.move(h,this.areaBottomY)+g.line(h,d);if(s=g.move(0,this.areaBottomY)+g.line(0,this.areaBottomY),r=g.move(0,this.areaBottomY)+g.line(0,this.areaBottomY),m.globals.previousPaths.length>0){var x=this.lineHelpers.checkPreviousPaths({pathFromLine:s,pathFromArea:r,realIndex:c});s=x.pathFromLine,r=x.pathFromArea}return{prevX:h,prevY:d,linePath:t,areaPath:i,pathFromLine:s,pathFromArea:r}}},{key:"_handlePaths",value:function(e){var t=e.type,i=e.realIndex,s=e.i,r=e.paths,a=this.w,o=new W(this.ctx),l=new ni(this.ctx);this.prevSeriesY.push(r.yArrj),a.globals.seriesXvalues[i]=r.xArrj,a.globals.seriesYvalues[i]=r.yArrj;var c=a.config.forecastDataPoints;if(c.count>0&&t!=="rangeArea"){var u=a.globals.seriesXvalues[i][a.globals.seriesXvalues[i].length-c.count-1],h=o.drawRect(u,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(h.node);var d=o.drawRect(0,0,u,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var f={i:s,realIndex:i,animationDelay:s,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var m=l.fillPath({seriesNumber:i}),g=0;g<r.areaPaths.length;g++){var v=o.renderPaths(Z(Z({},f),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[g],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:m}));this.elSeries.add(v)}if(a.config.stroke.show&&!this.pointsChart){var x=null;if(t==="line")x=l.fillPath({seriesNumber:i,i:s});else if(a.config.stroke.fill.type==="solid")x=a.globals.stroke.colors[i];else{var y=a.config.fill;a.config.fill=a.config.stroke.fill,x=l.fillPath({seriesNumber:i,i:s}),a.config.fill=y}for(var b=0;b<r.linePaths.length;b++){var _=x;t==="rangeArea"&&(_=l.fillPath({seriesNumber:i}));var k=Z(Z({},f),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[b],stroke:x,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:t==="rangeArea"?_:"none"}),P=o.renderPaths(k);if(this.elSeries.add(P),P.attr("fill-rule","evenodd"),c.count>0&&t!=="rangeArea"){var A=o.renderPaths(k);A.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&A.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(A),A.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),P.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,i,s=this,r=e.type,a=e.series,o=e.iterations,l=e.realIndex,c=e.translationsIndex,u=e.i,h=e.x,d=e.y,f=e.pX,m=e.pY,g=e.pathsFrom,v=e.linePaths,x=e.areaPaths,y=e.seriesIndex,b=e.lineYPosition,_=e.xArrj,k=e.yArrj,P=e.y2Arrj,A=e.isRangeStart,w=e.seriesRangeEnd,C=this.w,E=new W(this.ctx),I=this.yRatio,L=g.prevY,M=g.linePath,F=g.areaPath,B=g.pathFromLine,$=g.pathFromArea,Y=D.isNumber(C.globals.minYArr[l])?C.globals.minYArr[l]:C.globals.minY;o||(o=C.globals.dataPoints>1?C.globals.dataPoints-1:C.globals.dataPoints);var V=function(je,Ue){return Ue-je/I[c]+2*(s.isReversed?je/I[c]:0)},X=d,G=C.config.chart.stacked&&!C.globals.comboCharts||C.config.chart.stacked&&C.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[l])===null||t===void 0?void 0:t.type)==="bar"||((i=this.w.config.series[l])===null||i===void 0?void 0:i.type)==="column"),J=C.config.stroke.curve;Array.isArray(J)&&(J=Array.isArray(y)?J[y[u]]:J[u]);for(var re,ke=0,oe=0;oe<o&&a[u].length!==0;oe++){var Ee=a[u][oe+1]===void 0||a[u][oe+1]===null;if(C.globals.isXNumeric){var de=C.globals.seriesX[l][oe+1];C.globals.seriesX[l][oe+1]===void 0&&(de=C.globals.seriesX[l][o-1]),h=(de-C.globals.minX)/this.xRatio}else h+=this.xDivision;G?u>0&&C.globals.collapsedSeries.length<C.config.series.length-1?b=this.prevSeriesY[function(je){for(var Ue=je;Ue>0;Ue--){if(!(C.globals.collapsedSeriesIndices.indexOf((y==null?void 0:y[Ue])||Ue)>-1))return Ue;Ue--}return 0}(u-1)][oe+1]:b=this.zeroY:b=this.zeroY,Ee?d=V(Y,b):(d=V(a[u][oe+1],b),r==="rangeArea"&&(X=V(w[u][oe+1],b))),_.push(a[u][oe+1]===null?null:h),!Ee||C.config.stroke.curve!=="smooth"&&C.config.stroke.curve!=="monotoneCubic"?(k.push(d),P.push(X)):(k.push(null),P.push(null));var fe=this.lineHelpers.calculatePoints({series:a,x:h,y:d,realIndex:l,i:u,j:oe,prevY:L}),we=this._createPaths({type:r,series:a,i:u,realIndex:l,j:oe,x:h,y:d,y2:X,xArrj:_,yArrj:k,y2Arrj:P,pX:f,pY:m,pathState:ke,segmentStartX:re,linePath:M,areaPath:F,linePaths:v,areaPaths:x,curve:J,isRangeStart:A});x=we.areaPaths,v=we.linePaths,f=we.pX,m=we.pY,ke=we.pathState,re=we.segmentStartX,F=we.areaPath,M=we.linePath,!this.appendPathFrom||C.globals.hasNullValues||J==="monotoneCubic"&&r==="rangeArea"||(B+=E.line(h,this.areaBottomY),$+=E.line(h,this.areaBottomY)),this.handleNullDataPoints(a,fe,u,oe,l),this._handleMarkersAndLabels({type:r,pointsPos:fe,i:u,j:oe,realIndex:l,isRangeStart:A})}return{yArrj:k,xArrj:_,pathFromArea:$,areaPaths:x,pathFromLine:B,linePaths:v,linePath:M,areaPath:F}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,i=e.pointsPos,s=e.isRangeStart,r=e.i,a=e.j,o=e.realIndex,l=this.w,c=new wa(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:o,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[r].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:i,seriesIndex:o,j:a+1});u!==null&&this.elPointsMain.add(u)}var h=c.drawDataLabel({type:t,isRangeStart:s,pos:i,i:o,j:a+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var t=e.type,i=e.series,s=e.i;e.realIndex;var r,a=e.j,o=e.x,l=e.y,c=e.xArrj,u=e.yArrj,h=e.y2,d=e.y2Arrj,f=e.pX,m=e.pY,g=e.pathState,v=e.segmentStartX,x=e.linePath,y=e.areaPath,b=e.linePaths,_=e.areaPaths,k=e.curve,P=e.isRangeStart,A=new W(this.ctx),w=this.areaBottomY,C=t==="rangeArea",E=t==="rangeArea"&&P;switch(k){case"monotoneCubic":var I=P?u:d;switch(g){case 0:if(I[a+1]===null)break;g=1;case 1:if(!(C?c.length===i[s].length:a===i[s].length-2))break;case 2:var L=P?c:c.slice().reverse(),M=P?I:I.slice().reverse(),F=(r=M,L.map(function(de,fe){return[de,r[fe]]}).filter(function(de){return de[1]!==null})),B=F.length>1?rD(F):F,$=[];C&&(E?_=F:$=_.reverse());var Y=0,V=0;if(function(de,fe){for(var we=function(Ae){var ot=[],Jt=0;return Ae.forEach(function(Ar){Ar!==null?Jt++:Jt>0&&(ot.push(Jt),Jt=0)}),Jt>0&&ot.push(Jt),ot}(de),je=[],Ue=0,mt=0;Ue<we.length;mt+=we[Ue++])je[Ue]=aD(fe,mt,mt+we[Ue]);return je}(M,B).forEach(function(de){Y++;var fe=function(Ue){for(var mt="",Ae=0;Ae<Ue.length;Ae++){var ot=Ue[Ae],Jt=ot.length;Jt>4?(mt+="C".concat(ot[0],", ").concat(ot[1]),mt+=", ".concat(ot[2],", ").concat(ot[3]),mt+=", ".concat(ot[4],", ").concat(ot[5])):Jt>2&&(mt+="S".concat(ot[0],", ").concat(ot[1]),mt+=", ".concat(ot[2],", ").concat(ot[3]))}return mt}(de),we=V,je=(V+=de.length)-1;E?x=A.move(F[we][0],F[we][1])+fe:C?x=A.move($[we][0],$[we][1])+A.line(F[we][0],F[we][1])+fe+A.line($[je][0],$[je][1]):(x=A.move(F[we][0],F[we][1])+fe,y=x+A.line(F[je][0],w)+A.line(F[we][0],w)+"z",_.push(y)),b.push(x)}),C&&Y>1&&!E){var X=b.slice(Y).reverse();b.splice(Y),X.forEach(function(de){return b.push(de)})}g=0}break;case"smooth":var G=.35*(o-f);if(i[s][a]===null)g=0;else switch(g){case 0:if(v=f,x=E?A.move(f,d[a])+A.line(f,m):A.move(f,m),y=A.move(f,m),i[s][a+1]===null||i[s][a+1]===void 0){b.push(x),_.push(y);break}if(g=1,a<i[s].length-2){var J=A.curve(f+G,m,o-G,l,o,l);x+=J,y+=J;break}case 1:if(i[s][a+1]===null)x+=E?A.line(f,h):A.move(f,m),y+=A.line(f,w)+A.line(v,w)+"z",b.push(x),_.push(y),g=-1;else{var re=A.curve(f+G,m,o-G,l,o,l);x+=re,y+=re,a>=i[s].length-2&&(E&&(x+=A.curve(o,l,o,l,o,h)+A.move(o,h)),y+=A.curve(o,l,o,l,o,w)+A.line(v,w)+"z",b.push(x),_.push(y),g=-1)}}f=o,m=l;break;default:var ke=function(de,fe,we){var je=[];switch(de){case"stepline":je=A.line(fe,null,"H")+A.line(null,we,"V");break;case"linestep":je=A.line(null,we,"V")+A.line(fe,null,"H");break;case"straight":je=A.line(fe,we)}return je};if(i[s][a]===null)g=0;else switch(g){case 0:if(v=f,x=E?A.move(f,d[a])+A.line(f,m):A.move(f,m),y=A.move(f,m),i[s][a+1]===null||i[s][a+1]===void 0){b.push(x),_.push(y);break}if(g=1,a<i[s].length-2){var oe=ke(k,o,l);x+=oe,y+=oe;break}case 1:if(i[s][a+1]===null)x+=E?A.line(f,h):A.move(f,m),y+=A.line(f,w)+A.line(v,w)+"z",b.push(x),_.push(y),g=-1;else{var Ee=ke(k,o,l);x+=Ee,y+=Ee,a>=i[s].length-2&&(E&&(x+=A.line(o,h)),y+=A.line(o,w)+A.line(v,w)+"z",b.push(x),_.push(y),g=-1)}}f=o,m=l}return{linePaths:b,areaPaths:_,pX:f,pY:m,pathState:g,segmentStartX:v,linePath:x,areaPath:y}}},{key:"handleNullDataPoints",value:function(e,t,i,s,r){var a=this.w;if(e[i][s]===null&&a.config.markers.showNullDataPoints||e[i].length===1){var o=this.strokeWidth-a.config.markers.strokeWidth/2;o>0||(o=0);var l=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:r,j:s+1,pSize:o,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),n}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function n(o,l,c,u){this.xoffset=o,this.yoffset=l,this.height=u,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var d,f=[],m=this.xoffset,g=this.yoffset,v=r(h)/this.height,x=r(h)/this.width;if(this.width>=this.height)for(d=0;d<h.length;d++)f.push([m,g,m+v,g+h[d]/v]),g+=h[d]/v;else for(d=0;d<h.length;d++)f.push([m,g,m+h[d]/x,g+x]),m+=h[d]/x;return f},this.cutArea=function(h){var d;if(this.width>=this.height){var f=h/this.height,m=this.width-f;d=new n(this.xoffset+f,this.yoffset,m,this.height)}else{var g=h/this.width,v=this.height-g;d=new n(this.xoffset,this.yoffset+g,this.width,v)}return d}}function e(o,l,c,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var d=t(function(f,m){var g,v=[],x=m/r(f);for(g=0;g<f.length;g++)v[g]=f[g]*x;return v}(o,l*c),[],new n(u,h,l,c),[]);return function(f){var m,g,v=[];for(m=0;m<f.length;m++)for(g=0;g<f[m].length;g++)v.push(f[m][g]);return v}(d)}function t(o,l,c,u){var h,d,f;if(o.length!==0)return h=c.shortestEdge(),function(m,g,v){var x;if(m.length===0)return!0;(x=m.slice()).push(g);var y=i(m,v),b=i(x,v);return y>=b}(l,d=o[0],h)?(l.push(d),t(o.slice(1),l,c,u)):(f=c.cutArea(r(l),u),u.push(c.getCoordinates(l)),t(o,[],f,u)),u;u.push(c.getCoordinates(l))}function i(o,l){var c=Math.min.apply(Math,o),u=Math.max.apply(Math,o),h=r(o);return Math.max(Math.pow(l,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(l,2)*c))}function s(o){return o&&o.constructor===Array}function r(o){var l,c=0;for(l=0;l<o.length;l++)c+=o[l];return c}function a(o){var l,c=0;if(s(o[0]))for(l=0;l<o.length;l++)c+=a(o[l]);else c=r(o);return c}return function o(l,c,u,h,d){h=h===void 0?0:h,d=d===void 0?0:d;var f,m,g=[],v=[];if(s(l[0])){for(m=0;m<l.length;m++)g[m]=a(l[m]);for(f=e(g,c,u,h,d),m=0;m<l.length;m++)v.push(o(l[m],f[m][2]-f[m][0],f[m][3]-f[m][1],f[m][0],f[m][1]))}else v=e(l,c,u,h,d);return v}}();var oD=function(){function n(e,t){te(this,n),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new SC(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return ne(n,[{key:"draw",value:function(e){var t=this,i=this.w,s=new W(this.ctx),r=new ni(this.ctx),a=s.group({class:"apexcharts-treemap"});if(i.globals.noData)return a;var o=[];return e.forEach(function(l){var c=l.map(function(u){return Math.abs(u)});o.push(c)}),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach(function(l,c){l.data.forEach(function(u){Array.isArray(t.labels[c])||(t.labels[c]=[]),t.labels[c].push(u.x)})}),window.TreemapSquared.generate(o,i.globals.gridWidth,i.globals.gridHeight).forEach(function(l,c){var u=s.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:D.escapeString(i.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(i.config.chart.dropShadow.enabled){var h=i.config.chart.dropShadow;new Vt(t.ctx).dropShadow(a,h,c)}var d=s.group({class:"apexcharts-data-labels"}),f={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(B,$){var Y=B[0],V=B[1],X=B[2],G=B[3];f.xMin=Math.min(f.xMin,Y),f.yMin=Math.min(f.yMin,V),f.xMax=Math.max(f.xMax,X),f.yMax=Math.max(f.yMax,G);var J=t.helpers.getShadeColor(i.config.chart.type,c,$,t.negRange),re=J.color,ke=r.fillPath({color:re,seriesNumber:c,dataPointIndex:$}),oe=s.drawRect(Y,V,X-Y,G-V,i.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?re:i.globals.stroke.colors[c]);oe.attr({cx:Y,cy:V,index:c,i:c,j:$,width:X-Y,height:G-V,fill:ke}),oe.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(oe);var Ee={x:Y+(X-Y)/2,y:V+(G-V)/2,width:0,height:0},de={x:Y,y:V,width:X-Y,height:G-V};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var fe=1;i.globals.resized||(fe=i.config.chart.animations.speed),t.animateTreemap(oe,Ee,de,fe)}if(i.globals.dataChanged){var we=1;t.dynamicAnim.enabled&&i.globals.shouldAnimate&&(we=t.dynamicAnim.speed,i.globals.previousPaths[c]&&i.globals.previousPaths[c][$]&&i.globals.previousPaths[c][$].rect&&(Ee=i.globals.previousPaths[c][$].rect),t.animateTreemap(oe,Ee,de,we))}var je=t.getFontSize(B),Ue=i.config.dataLabels.formatter(t.labels[c][$],{value:i.globals.series[c][$],seriesIndex:c,dataPointIndex:$,w:i});i.config.plotOptions.treemap.dataLabels.format==="truncate"&&(je=parseInt(i.config.dataLabels.style.fontSize,10),Ue=t.truncateLabels(Ue,je,Y,V,X,G));var mt=null;i.globals.series[c][$]&&(mt=t.helpers.calculateDataLabels({text:Ue,x:(Y+X)/2,y:(V+G)/2+t.strokeWidth/2+je/3,i:c,j:$,colorProps:J,fontSize:je,series:e})),i.config.dataLabels.enabled&&mt&&t.rotateToFitLabel(mt,je,Ue,Y,V,X,G),u.add(oe),mt!==null&&u.add(mt)});var m=i.config.plotOptions.treemap.seriesTitle;if(i.config.series.length>1&&m&&m.show){var g=i.config.series[c].name||"";if(g&&f.xMin<1/0&&f.yMin<1/0){var v=m.offsetX,x=m.offsetY,y=m.borderColor,b=m.borderWidth,_=m.borderRadius,k=m.style,P=k.color||i.config.chart.foreColor,A={left:k.padding.left,right:k.padding.right,top:k.padding.top,bottom:k.padding.bottom},w=s.getTextRects(g,k.fontSize,k.fontFamily),C=w.width+A.left+A.right,E=w.height+A.top+A.bottom,I=f.xMin+(v||0),L=f.yMin+(x||0),M=s.drawRect(I,L,C,E,_,k.background,1,b,y),F=s.drawText({x:I+A.left,y:L+A.top+.75*w.height,text:g,fontSize:k.fontSize,fontFamily:k.fontFamily,fontWeight:k.fontWeight,foreColor:P,cssClass:k.cssClass||""});u.add(M),u.add(F)}}u.add(d),a.add(u)}),a}},{key:"getFontSize",value:function(e){var t=this.w,i=function s(r){var a,o=0;if(Array.isArray(r[0]))for(a=0;a<r.length;a++)o+=s(r[a]);else for(a=0;a<r.length;a++)o+=r[a].length;return o}(this.labels)/function s(r){var a,o=0;if(Array.isArray(r[0]))for(a=0;a<r.length;a++)o+=s(r[a]);else for(a=0;a<r.length;a++)o+=1;return o}(this.labels);return function(s,r){var a=s*r,o=Math.pow(a,.5);return Math.min(o/i,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,i,s,r,a,o){var l=new W(this.ctx),c=l.getTextRects(i,t);if(c.width+this.w.config.stroke.width+5>a-s&&c.width<=o-r){var u=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,i,s,r,a){var o=new W(this.ctx),l=o.getTextRects(e,t).width+this.w.config.stroke.width+5>r-i&&a-s>r-i?a-s:r-i,c=o.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:t});return e.length!==c.length&&l/t<5?"":c}},{key:"animateTreemap",value:function(e,t,i,s){var r=new Na(this.ctx);r.animateRect(e,t,i,s,function(){r.animationCompleted(e)})}}]),n}(),_C=86400,lD=10/_C,cD=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return ne(n,[{key:"calculateTimeScaleTicks",value:function(e,t){var i=this,s=this.w;if(s.globals.allSeriesCollapsed)return s.globals.labels=[],s.globals.timescaleLabels=[],[];var r=new Dt(this.ctx),a=(t-e)/864e5;this.determineInterval(a),s.globals.disableZoomIn=!1,s.globals.disableZoomOut=!1,a<lD?s.globals.disableZoomIn=!0:a>5e4&&(s.globals.disableZoomOut=!0);var o=r.getTimeUnitsfromTimestamp(e,t,this.utc),l=s.globals.gridWidth/a,c=l/24,u=c/60,h=u/60,d=Math.floor(24*a),f=Math.floor(1440*a),m=Math.floor(a*_C),g=Math.floor(a),v=Math.floor(a/30),x=Math.floor(a/365),y={minMillisecond:o.minMillisecond,minSecond:o.minSecond,minMinute:o.minMinute,minHour:o.minHour,minDate:o.minDate,minMonth:o.minMonth,minYear:o.minYear},b={firstVal:y,currentMillisecond:y.minMillisecond,currentSecond:y.minSecond,currentMinute:y.minMinute,currentHour:y.minHour,currentMonthDate:y.minDate,currentDate:y.minDate,currentMonth:y.minMonth,currentYear:y.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:m,numberOfMinutes:f,numberOfHours:d,numberOfDays:g,numberOfMonths:v,numberOfYears:x};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var _=this.timeScaleArray.map(function(k){var P={position:k.position,unit:k.unit,year:k.year,day:k.day?k.day:1,hour:k.hour?k.hour:0,month:k.month+1};return k.unit==="month"?Z(Z({},P),{},{day:1,value:k.value+1}):k.unit==="day"||k.unit==="hour"?Z(Z({},P),{},{value:k.value}):k.unit==="minute"?Z(Z({},P),{},{value:k.value,minute:k.value}):k.unit==="second"?Z(Z({},P),{},{value:k.value,minute:k.minute,second:k.second}):k});return _.filter(function(k){var P=1,A=Math.ceil(s.globals.gridWidth/120),w=k.value;s.config.xaxis.tickAmount!==void 0&&(A=s.config.xaxis.tickAmount),_.length>A&&(P=Math.floor(_.length/A));var C=!1,E=!1;switch(i.tickInterval){case"years":k.unit==="year"&&(C=!0);break;case"half_year":P=7,k.unit==="year"&&(C=!0);break;case"months":P=1,k.unit==="year"&&(C=!0);break;case"months_fortnight":P=15,k.unit!=="year"&&k.unit!=="month"||(C=!0),w===30&&(E=!0);break;case"months_days":P=10,k.unit==="month"&&(C=!0),w===30&&(E=!0);break;case"week_days":P=8,k.unit==="month"&&(C=!0);break;case"days":P=1,k.unit==="month"&&(C=!0);break;case"hours":k.unit==="day"&&(C=!0);break;case"minutes_fives":case"seconds_fives":w%5!=0&&(E=!0);break;case"seconds_tens":w%10!=0&&(E=!0)}if(i.tickInterval==="hours"||i.tickInterval==="minutes_fives"||i.tickInterval==="seconds_tens"||i.tickInterval==="seconds_fives"){if(!E)return!0}else if((w%P==0||C)&&!E)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var i=this.w,s=this.formatDates(e),r=this.removeOverlappingTS(s);i.globals.timescaleLabels=r.slice(),new Zu(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,i=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,i=e.currentMonth,s=e.currentYear,r=e.daysWidthOnXAxis,a=e.numberOfYears,o=t.minYear,l=0,c=new Dt(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var h=c.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);l=(c.determineDaysOfYear(t.minYear)-h+1)*r,o=t.minYear+1,this.timeScaleArray.push({position:l,value:o,unit:u,year:o,month:D.monthMod(i+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:l,value:o,unit:u,year:s,month:D.monthMod(i+1)});for(var d=o,f=l,m=0;m<a;m++)d++,f=c.determineDaysOfYear(d-1)*r+f,this.timeScaleArray.push({position:f,value:d,unit:u,year:d,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,i=e.currentMonthDate,s=e.currentMonth,r=e.currentYear,a=e.daysWidthOnXAxis,o=e.numberOfMonths,l=s,c=0,u=new Dt(this.ctx),h="month",d=0;if(t.minDate>1){c=(u.determineDaysOfMonths(s+1,t.minYear)-i+1)*a,l=D.monthMod(s+1);var f=r+d,m=D.monthMod(l),g=l;l===0&&(h="year",g=f,m=1,f+=d+=1),this.timeScaleArray.push({position:c,value:g,unit:h,year:f,month:m})}else this.timeScaleArray.push({position:c,value:l,unit:h,year:r,month:D.monthMod(s)});for(var v=l+1,x=c,y=0,b=1;y<o;y++,b++){(v=D.monthMod(v))===0?(h="year",d+=1):h="month";var _=this._getYear(r,v,d);x=u.determineDaysOfMonths(v,_)*a+x;var k=v===0?_:v;this.timeScaleArray.push({position:x,value:k,unit:h,year:_,month:v===0?1:v}),v++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,i=e.currentMonth,s=e.currentYear,r=e.hoursWidthOnXAxis,a=e.numberOfDays,o=new Dt(this.ctx),l="day",c=t.minDate+1,u=c,h=function(b,_,k){return b>o.determineDaysOfMonths(_+1,k)&&(u=1,l="month",f=_+=1),_},d=(24-t.minHour)*r,f=c,m=h(u,i,s);t.minHour===0&&t.minDate===1?(d=0,f=D.monthMod(t.minMonth),l="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(d=0,c=t.minDate,f=c,m=h(u=c,i,s),f!==1&&(l="day")),this.timeScaleArray.push({position:d,value:f,unit:l,year:this._getYear(s,m,0),month:D.monthMod(m),day:u});for(var g=d,v=0;v<a;v++){l="day",m=h(u+=1,m,this._getYear(s,m,0));var x=this._getYear(s,m,0);g=24*r+g;var y=u===1?D.monthMod(m):u;this.timeScaleArray.push({position:g,value:y,unit:l,year:x,month:D.monthMod(m),day:y})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,i=e.currentDate,s=e.currentMonth,r=e.currentYear,a=e.minutesWidthOnXAxis,o=e.numberOfHours,l=new Dt(this.ctx),c="hour",u=function(P,A){return P>l.determineDaysOfMonths(A+1,r)&&(v=1,A+=1),{month:A,date:v}},h=function(P,A){return P>l.determineDaysOfMonths(A+1,r)?A+=1:A},d=60-(t.minMinute+t.minSecond/60),f=d*a,m=t.minHour+1,g=m;d===60&&(f=0,g=m=t.minHour);var v=i;g>=24&&(g=0,c="day",m=v+=1);var x=u(v,s).month;x=h(v,x),m>31&&(m=v=1),this.timeScaleArray.push({position:f,value:m,unit:c,day:v,hour:g,year:r,month:D.monthMod(x)}),g++;for(var y=f,b=0;b<o;b++){c="hour",g>=24&&(g=0,c="day",x=u(v+=1,x).month,x=h(v,x));var _=this._getYear(r,x,0);y=60*a+y;var k=g===0?v:g;this.timeScaleArray.push({position:y,value:k,unit:c,hour:g,day:v,year:_,month:D.monthMod(x)}),g++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,s=e.currentMinute,r=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,d=s+1,f=a,m=o,g=l,v=r,x=(60-i-t/1e3)*u,y=0;y<h;y++)d>=60&&(d=0,(v+=1)===24&&(v=0)),this.timeScaleArray.push({position:x,value:d,unit:"minute",hour:v,minute:d,day:f,year:this._getYear(g,m,0),month:D.monthMod(m)}),x+=c,d++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,i=e.currentSecond,s=e.currentMinute,r=e.currentHour,a=e.currentDate,o=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=i+1,d=s,f=a,m=o,g=l,v=r,x=(1e3-t)/1e3*c,y=0;y<u;y++)h>=60&&(h=0,++d>=60&&(d=0,++v===24&&(v=0))),this.timeScaleArray.push({position:x,value:h,unit:"second",hour:v,minute:d,second:h,day:f,year:this._getYear(g,m,0),month:D.monthMod(m)}),x+=c,h++}},{key:"createRawDateString",value:function(e,t){var i=e.year;return e.month===0&&(e.month=1),i+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?i+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":i+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?i+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":i+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?i+=":"+("0"+t).slice(-2):i+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?i+=":"+("0"+t).slice(-2):i+=":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(e){var t=this,i=this.w;return e.map(function(s){var r=s.value.toString(),a=new Dt(t.ctx),o=t.createRawDateString(s,r),l=a.getDate(a.parseDate(o));if(t.utc||(l=a.getDate(a.parseDateWithTimezone(o))),i.config.xaxis.labels.format===void 0){var c="dd MMM",u=i.config.xaxis.labels.datetimeFormatter;s.unit==="year"&&(c=u.year),s.unit==="month"&&(c=u.month),s.unit==="day"&&(c=u.day),s.unit==="hour"&&(c=u.hour),s.unit==="minute"&&(c=u.minute),s.unit==="second"&&(c=u.second),r=a.formatDate(l,c)}else r=a.formatDate(l,i.config.xaxis.labels.format);return{dateString:o,position:s.position,value:r,unit:s.unit,year:s.year,month:s.month}})}},{key:"removeOverlappingTS",value:function(e){var t,i=this,s=new W(this.ctx),r=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(r=!0,t=s.getTextRects(e[0].value).width);var a=0,o=e.map(function(l,c){if(c>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var u=r?t:s.getTextRects(e[a].value).width,h=e[a].position;return l.position>h+u+10?(a=c,l):null}return l});return o=o.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,t,i){return e+Math.floor(t/12)+i}}]),n}(),uD=function(){function n(e,t){te(this,n),this.ctx=t,this.w=t.w,this.el=e}return ne(n,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,i=e.config,s=i.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(s),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(s),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(s)&&i.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),W.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),t.dom.Paper.node.style.background=i.theme.mode!=="dark"||i.chart.background?i.theme.mode!=="light"||i.chart.background?i.chart.background:"#fff":"#343A3F",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),W.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var i=this.w,s=this.ctx,r=i.config,a=i.globals,o={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=r.chart.type||"line",c=null,u=0;a.series.forEach(function(P,A){var w,C,E=((w=e[A])===null||w===void 0?void 0:w.type)==="column"?"bar":((C=e[A])===null||C===void 0?void 0:C.type)||(l==="column"?"bar":l);o[E]?(E==="rangeArea"?(o[E].series.push(a.seriesRangeStart[A]),o[E].seriesRangeEnd.push(a.seriesRangeEnd[A])):o[E].series.push(P),o[E].i.push(A),E==="bar"&&(i.globals.columnSeries=o.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(E)?c=E:console.warn("You have specified an unrecognized series type (".concat(E,").")),l!==E&&E!=="scatter"&&u++}),u>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),o.bar.series.length>0&&r.plotOptions.bar.horizontal&&(u-=o.bar.series.length,o.bar={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=u>0);var h=new vf(s,t),d=new xf(s,t);s.pie=new CC(s);var f=new tD(s);s.rangeBar=new nD(s,t);var m=new eD(s),g=[];if(a.comboCharts){var v,x,y=new dt(s);if(o.area.series.length>0&&(v=g).push.apply(v,Ct(y.drawSeriesByGroup(o.area,a.areaGroups,"area",h))),o.bar.series.length>0)if(r.chart.stacked){var b=new Tb(s,t);g.push(b.draw(o.bar.series,o.bar.i))}else s.bar=new Aa(s,t),g.push(s.bar.draw(o.bar.series,o.bar.i));if(o.rangeArea.series.length>0&&g.push(h.draw(o.rangeArea.series,"rangeArea",o.rangeArea.i,o.rangeArea.seriesRangeEnd)),o.line.series.length>0&&(x=g).push.apply(x,Ct(y.drawSeriesByGroup(o.line,a.lineGroups,"line",h))),o.candlestick.series.length>0&&g.push(d.draw(o.candlestick.series,"candlestick",o.candlestick.i)),o.boxPlot.series.length>0&&g.push(d.draw(o.boxPlot.series,"boxPlot",o.boxPlot.i)),o.rangeBar.series.length>0&&g.push(s.rangeBar.draw(o.rangeBar.series,o.rangeBar.i)),o.scatter.series.length>0){var _=new vf(s,t,!0);g.push(_.draw(o.scatter.series,"scatter",o.scatter.i))}if(o.bubble.series.length>0){var k=new vf(s,t,!0);g.push(k.draw(o.bubble.series,"bubble",o.bubble.i))}}else switch(r.chart.type){case"line":g=h.draw(a.series,"line");break;case"area":g=h.draw(a.series,"area");break;case"bar":r.chart.stacked?g=new Tb(s,t).draw(a.series):(s.bar=new Aa(s,t),g=s.bar.draw(a.series));break;case"candlestick":g=new xf(s,t).draw(a.series,"candlestick");break;case"boxPlot":g=new xf(s,t).draw(a.series,r.chart.type);break;case"rangeBar":g=s.rangeBar.draw(a.series);break;case"rangeArea":g=h.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":g=new JN(s,t).draw(a.series);break;case"treemap":g=new oD(s,t).draw(a.series);break;case"pie":case"donut":case"polarArea":g=s.pie.draw(a.series);break;case"radialBar":g=f.draw(a.series);break;case"radar":g=m.draw(a.series);break;default:g=h.draw(a.series)}return g}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,i=e.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",t.svgWidth=i.chart.width,t.svgHeight=i.chart.height;var s=D.getDimensions(this.el),r=i.chart.width.toString().split(/[0-9]+/g).pop();r==="%"?D.isNumber(s[0])&&(s[0].width===0&&(s=D.getDimensions(this.el.parentNode)),t.svgWidth=s[0]*parseInt(i.chart.width,10)/100):r!=="px"&&r!==""||(t.svgWidth=parseInt(i.chart.width,10));var a=String(i.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(a==="%"){var o=D.getDimensions(this.el.parentNode);t.svgHeight=o[1]*parseInt(i.chart.height,10)/100}else t.svgHeight=parseInt(i.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),W.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),a!=="%"){var l=i.chart.sparkline.enabled?0:t.axisCharts?i.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+l,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,i=e.translateX;W.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(i,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,i=0,s=e.config.chart.sparkline.enabled?1:15;s+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(i=new vC(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var r=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(r&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var o=D.getBoundingClientRect(r);a=o.bottom;var l=o.bottom-o.top;a=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(a+t.translateY+i+s);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(c,"px"),W.setAttrs(t.dom.Paper.node,{height:c}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new eg(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},i=new pC,s=this.w.globals,r={dataWasParsed:s.dataWasParsed,originalSeries:s.originalSeries};i.initGlobalVars(s),s.seriesXvalues=t(),s.seriesYvalues=t(),r.dataWasParsed&&(s.dataWasParsed=r.dataWasParsed,s.originalSeries=r.originalSeries)}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new tg(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new tg(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new cD(this.ctx);var i=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}t=new dt(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,i=this.w;if(i.config.chart.brush.enabled&&typeof i.config.chart.events.selection!="function"){var s=Array.isArray(i.config.chart.brush.targets)?i.config.chart.brush.targets:[i.config.chart.brush.target];s.forEach(function(r){var a=t.constructor.getChartByID(r);a.w.globals.brushSource=e.ctx,typeof a.w.config.chart.events.zoomed!="function"&&(a.w.config.chart.events.zoomed=function(){return e.updateSourceChart(a)}),typeof a.w.config.chart.events.scrolled!="function"&&(a.w.config.chart.events.scrolled=function(){return e.updateSourceChart(a)})}),i.config.chart.events.selection=function(r,a){s.forEach(function(o){t.constructor.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:a.xaxis.min,max:a.xaxis.max}},!1,!1,!1,!1)})}}}}]),n}(),hD=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"_updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(o){var l=[t.ctx];r&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,u){var h=c.w;if(h.globals.shouldAnimate=s,i||(h.globals.resized=!0,h.globals.dataChanged=!0,s&&c.series.getPreviousPaths()),e&&sn(e)==="object"&&(c.config=new Cl(e),e=dt.extendArrayProps(c.config,e,h),c.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,h.config=D.extend(h.config,e),a&&(h.globals.lastXAxis=e.xaxis?D.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?D.clone(e.yaxis):[],h.globals.initialConfig=D.extend({},h.config),h.globals.initialSeries=D.clone(h.config.series),e.series))){for(var d=0;d<h.globals.collapsedSeriesIndices.length;d++){var f=h.config.series[h.globals.collapsedSeriesIndices[d]];h.globals.collapsedSeries[d].data=h.globals.axisCharts?f.data.slice():f}for(var m=0;m<h.globals.ancillaryCollapsedSeriesIndices.length;m++){var g=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[m]];h.globals.ancillaryCollapsedSeries[m].data=h.globals.axisCharts?g.data.slice():g}c.series.emptyCollapsedSeries(h.config.series)}return c.update(e).then(function(){u===l.length-1&&o(c)})})})}},{key:"_updateSeries",value:function(e,t){var i=this,s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(r){var a=i.w;return a.globals.shouldAnimate=t,a.globals.dataChanged=!0,t&&i.ctx.series.getPreviousPaths(),i.ctx.data.resetParsingFlags(),i.ctx.data.parseData(e),s&&(a.globals.initialConfig.series=D.clone(a.config.series),a.globals.initialSeries=D.clone(a.config.series)),i.ctx.update().then(function(){r(i.ctx)})})}},{key:"_extendSeries",value:function(e,t){var i=this.w,s=i.config.series[t];return Z(Z({},i.config.series[t]),{},{name:e.name?e.name:s==null?void 0:s.name,color:e.color?e.color:s==null?void 0:s.color,type:e.type?e.type:s==null?void 0:s.type,group:e.group?e.group:s==null?void 0:s.group,hidden:e.hidden!==void 0?e.hidden:s==null?void 0:s.hidden,data:e.data?e.data:s==null?void 0:s.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var i=this.w,s=null,r=".apexcharts-series[data\\:realIndex='".concat(e,"']");return i.globals.axisCharts?s=i.globals.dom.Paper.findOne("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")):t===void 0&&(s=i.globals.dom.Paper.findOne("".concat(r," path[j='").concat(e,"']")),i.config.chart.type!=="pie"&&i.config.chart.type!=="polarArea"&&i.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),s?(new W(this.ctx).pathMouseDown(s,null),s.node?s.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(s){e.xaxis[s]!==void 0&&(t.config.xaxis[s]=e.xaxis[s],t.globals.lastXAxis[s]=e.xaxis[s])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var i=new kl(e);e=i.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,i){e.yaxis[i].min=0,e.yaxis[i].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,i=this.w,s=i.globals.lastXAxis,r=i.globals.lastYAxis;e&&e.xaxis&&(s=e.xaxis),e&&e.yaxis&&(r=e.yaxis),i.config.xaxis.min=s.min,i.config.xaxis.max=s.max;var a=function(o){r[o]!==void 0&&(i.config.yaxis[o].min=r[o].min,i.config.yaxis[o].max=r[o].max)};i.config.yaxis.map(function(o,l){i.globals.zoomed||r[l]!==void 0?a(l):t.ctx.opts.yaxis[l]!==void 0&&(o.min=t.ctx.opts.yaxis[l].min,o.max=t.ctx.opts.yaxis[l].max)})}}]),n}();(function(){function n(){for(var r=arguments.length>0&&arguments[0]!==h?arguments[0]:[],a=arguments.length>1?arguments[1]:h,o=arguments.length>2?arguments[2]:h,l=arguments.length>3?arguments[3]:h,c=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,d=r.slice(a,o||h),f=l.slice(c,u||h),m=0,g={pos:[0,0],start:[0,0]},v={pos:[0,0],start:[0,0]};d[m]=e.call(g,d[m]),f[m]=e.call(v,f[m]),d[m][0]!=f[m][0]||d[m][0]=="M"||d[m][0]=="A"&&(d[m][4]!=f[m][4]||d[m][5]!=f[m][5])?(Array.prototype.splice.apply(d,[m,1].concat(i.call(g,d[m]))),Array.prototype.splice.apply(f,[m,1].concat(i.call(v,f[m])))):(d[m]=t.call(g,d[m]),f[m]=t.call(v,f[m])),!(++m==d.length&&m==f.length);)m==d.length&&d.push(["C",g.pos[0],g.pos[1],g.pos[0],g.pos[1],g.pos[0],g.pos[1]]),m==f.length&&f.push(["C",v.pos[0],v.pos[1],v.pos[0],v.pos[1],v.pos[0],v.pos[1]]);return{start:d,dest:f}}function e(r){switch(r[0]){case"z":case"Z":r[0]="L",r[1]=this.start[0],r[2]=this.start[1];break;case"H":r[0]="L",r[2]=this.pos[1];break;case"V":r[0]="L",r[2]=r[1],r[1]=this.pos[0];break;case"T":r[0]="Q",r[3]=r[1],r[4]=r[2],r[1]=this.reflection[1],r[2]=this.reflection[0];break;case"S":r[0]="C",r[6]=r[4],r[5]=r[3],r[4]=r[2],r[3]=r[1],r[2]=this.reflection[1],r[1]=this.reflection[0]}return r}function t(r){var a=r.length;return this.pos=[r[a-2],r[a-1]],"SCQT".indexOf(r[0])!=-1&&(this.reflection=[2*this.pos[0]-r[a-4],2*this.pos[1]-r[a-3]]),r}function i(r){var a=[r];switch(r[0]){case"M":return this.pos=this.start=[r[1],r[2]],a;case"L":r[5]=r[3]=r[1],r[6]=r[4]=r[2],r[1]=this.pos[0],r[2]=this.pos[1];break;case"Q":r[6]=r[4],r[5]=r[3],r[4]=1*r[4]/3+2*r[2]/3,r[3]=1*r[3]/3+2*r[1]/3,r[2]=1*this.pos[1]/3+2*r[2]/3,r[1]=1*this.pos[0]/3+2*r[1]/3;break;case"A":a=function(o,l){var c,u,h,d,f,m,g,v,x,y,b,_,k,P,A,w,C,E,I,L,M,F,B,$,Y,V,X=Math.abs(l[1]),G=Math.abs(l[2]),J=l[3]%360,re=l[4],ke=l[5],oe=l[6],Ee=l[7],de=new De(o),fe=new De(oe,Ee),we=[];if(X===0||G===0||de.x===fe.x&&de.y===fe.y)return[["C",de.x,de.y,fe.x,fe.y,fe.x,fe.y]];for(c=new De((de.x-fe.x)/2,(de.y-fe.y)/2).transform(new Se().rotate(J)),u=c.x*c.x/(X*X)+c.y*c.y/(G*G),u>1&&(X*=u=Math.sqrt(u),G*=u),h=new Se().rotate(J).scale(1/X,1/G).rotate(-J),de=de.transform(h),fe=fe.transform(h),d=[fe.x-de.x,fe.y-de.y],m=d[0]*d[0]+d[1]*d[1],f=Math.sqrt(m),d[0]/=f,d[1]/=f,g=m<4?Math.sqrt(1-m/4):0,re===ke&&(g*=-1),v=new De((fe.x+de.x)/2+g*-d[1],(fe.y+de.y)/2+g*d[0]),x=new De(de.x-v.x,de.y-v.y),y=new De(fe.x-v.x,fe.y-v.y),b=Math.acos(x.x/Math.sqrt(x.x*x.x+x.y*x.y)),x.y<0&&(b*=-1),_=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(_*=-1),ke&&b>_&&(_+=2*Math.PI),!ke&&b<_&&(_-=2*Math.PI),P=Math.ceil(2*Math.abs(b-_)/Math.PI),w=[],C=b,k=(_-b)/P,A=4*Math.tan(k/4)/3,M=0;M<=P;M++)I=Math.cos(C),E=Math.sin(C),L=new De(v.x+I,v.y+E),w[M]=[new De(L.x+A*E,L.y-A*I),L,new De(L.x-A*E,L.y+A*I)],C+=k;for(w[0][0]=w[0][1].clone(),w[w.length-1][2]=w[w.length-1][1].clone(),h=new Se().rotate(J).scale(X,G).rotate(-J),M=0,F=w.length;M<F;M++)w[M][0]=w[M][0].transform(h),w[M][1]=w[M][1].transform(h),w[M][2]=w[M][2].transform(h);for(M=1,F=w.length;M<F;M++)B=(L=w[M-1][2]).x,$=L.y,Y=(L=w[M][0]).x,V=L.y,oe=(L=w[M][1]).x,Ee=L.y,we.push(["C",B,$,Y,V,oe,Ee]);return we}(this.pos,r),r=a[0]}return r[0]="C",this.pos=[r[5],r[6]],this.reflection=[2*r[5]-r[3],2*r[6]-r[4]],a}function s(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a===!1)return!1;for(var o=a,l=r.length;o<l;++o)if(r[o][0]=="M")return o;return!1}ue(Qn,{morph:function(r,a,o,l,c){for(var u=this.parse(r),h=this.parse(a),d=0,f=0,m=!1,g=!1;d!==!1||f!==!1;){var v;m=s(u,d!==!1&&d+1),g=s(h,f!==!1&&f+1),d===!1&&(d=(v=new Qn(x.start).bbox()).height==0||v.width==0?u.push(u[0])-1:u.push(["M",v.x+v.width/2,v.y+v.height/2])-1),f===!1&&(f=(v=new Qn(x.dest).bbox()).height==0||v.width==0?h.push(h[0])-1:h.push(["M",v.x+v.width/2,v.y+v.height/2])-1);var x=n(u,d,m,h,f,g);u=u.slice(0,d).concat(x.start,m===!1?[]:u.slice(m)),h=h.slice(0,f).concat(x.dest,g===!1?[]:h.slice(g)),d=m!==!1&&d+x.start.length,f=g!==!1&&f+x.dest.length}this._array=u,this.destination=new Qn,this.destination._array=h;var y=this.fromArray(u.map(function(b,_){var k=h[_].map(function(P,A){return A===0?P:l.step(b[A],h[_][A],o,c[_],c)});return k}));return y}})})();const Eb=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY});class dD{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Eb(e));const i=(t?"mouseup":"touchend")+".drag";Ci(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),Ci(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:i}=this,s=this.el.point(Eb(e)),r=s.x-i.x,a=s.y-i.y;if(!r&&!a)return t;const o=t.x+r,l=t.y+a;this.box=new ht(o,l,t.w,t.h),this.lastClick=s,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(o,l)}move(e,t){this.el.type==="svg"?ds.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Vn(window,"mousemove.drag"),Vn(window,"touchmove.drag"),Vn(window,"mouseup.drag"),Vn(window,"touchend.drag"),this.init(!0)}}/*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function ng(n,e,t,i=null){return function(s){s.preventDefault(),s.stopPropagation();var r=s.pageX||s.touches[0].pageX,a=s.pageY||s.touches[0].pageY;e.fire(n,{x:r,y:a,event:s,index:i,points:t})}}function ig([n,e],{a:t,b:i,c:s,d:r,e:a,f:o}){return[n*t+e*s+a,n*i+e*r+o]}ue(jt,{draggable(n=!0){return(this.remember("_draggable")||new dD(this)).init(n),this}});let TC=class{constructor(n){this.el=n,n.remember("_selectHandler",this),this.selection=new ds,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=ql();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.createRot=n.createRot||this.createRotFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.updateRot=n.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((n,e,t)=>{const i=this.order[e];this.createHandle.call(this,this.selection,n,e,t,i),this.selection.get(e+1).addClass("svg_select_handle svg_select_handle_"+i).on("mousedown.selection touchstart.selection",ng(i,this.el,this.handlePoints,e))})}createHandleFn(n){n.polyline()}updateHandleFn(n,e,t,i){const s=i.at(t-1),r=i[(t+1)%i.length],a=e,o=[a[0]-s[0],a[1]-s[1]],l=[a[0]-r[0],a[1]-r[1]],c=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=[o[0]/c,o[1]/c],d=[l[0]/u,l[1]/u],f=[a[0]-10*h[0],a[1]-10*h[1]],m=[a[0]-10*d[0],a[1]-10*d[1]];n.plot([f,a,m])}updateResizeHandles(){this.handlePoints.forEach((n,e,t)=>{const i=this.order[e];this.updateHandle.call(this,this.selection.get(e+1),n,e,t,i)})}createRotFn(n){n.line(),n.circle(5)}getPoint(n){return this.handlePoints[this.order.indexOf(n)]}getPointHandle(n){return this.selection.get(this.order.indexOf(n)+1)}updateRotFn(n,e){const t=this.getPoint("t");n.get(0).plot(t[0],t[1],e[0],e[1]),n.get(1).center(e[0],e[1])}createRotationHandle(){const n=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",ng("rot",this.el,this.handlePoints));this.createRot.call(this,n)}updateRotationHandle(){const n=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(n,this.rotationPoint,this.handlePoints)}updatePoints(){const n=this.el.bbox(),e=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(n).map(t=>ig(t,e)),this.rotationPoint=ig(this.getRotationPoint(n),e)}getHandlePoints({x:n,x2:e,y:t,y2:i,cx:s,cy:r}=this.el.bbox()){return[[n,t],[s,t],[e,t],[e,r],[e,i],[s,i],[n,i],[n,r]]}getRotationPoint({y:n,cx:e}=this.el.bbox()){return[e,n-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Pb=n=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+n.name);return i||(e.prototype instanceof TC?(i=new e(this),e=!0):i=new n(this),this.remember("_"+n.name,i)),i.active(e,t),this};/*!
* @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
* @version 2.0.4
* https://github.com/svgdotjs/svg.resize.js
*
* @copyright [object Object]
* @license MIT
*
* BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
*//*!
* @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
* @version 4.0.1
* https://github.com/svgdotjs/svg.select.js
*
* @copyright Ulrich-Matthias Schfer
* @license MIT
*
* BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
*/function sg(n,e,t,i=null){return function(s){s.preventDefault(),s.stopPropagation();var r=s.pageX||s.touches[0].pageX,a=s.pageY||s.touches[0].pageY;e.fire(n,{x:r,y:a,event:s,index:i,points:t})}}function rg([n,e],{a:t,b:i,c:s,d:r,e:a,f:o}){return[n*t+e*s+a,n*i+e*r+o]}ue(jt,{select:Pb(TC)}),ue([Qs,Zs,Ks],{pointSelect:Pb(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new ds,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=ql();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((n,e,t)=>{this.createHandle.call(this,this.selection,n,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",ng("point",this.el,this.points,e))})}createHandleFn(n){n.circle(5)}updateHandleFn(n,e){n.center(e[0],e[1])}updatePointHandles(){this.points.forEach((n,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),n,e,t)})}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>ig(e,n))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class EC{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new ds,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=ql();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,i)=>{const s=this.order[t];this.createHandle.call(this,this.selection,e,t,i,s),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+s).on("mousedown.selection touchstart.selection",sg(s,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,i,s){const r=s.at(i-1),a=s[(i+1)%s.length],o=t,l=[o[0]-r[0],o[1]-r[1]],c=[o[0]-a[0],o[1]-a[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[l[0]/u,l[1]/u],f=[c[0]/h,c[1]/h],m=[o[0]-10*d[0],o[1]-10*d[1]],g=[o[0]-10*f[0],o[1]-10*f[1]];e.plot([m,o,g])}updateResizeHandles(){this.handlePoints.forEach((e,t,i)=>{const s=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,i,s)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const i=this.getPoint("t");e.get(0).plot(i[0],i[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",sg("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(i=>rg(i,t)),this.rotationPoint=rg(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:i,y2:s,cx:r,cy:a}=this.el.bbox()){return[[e,i],[r,i],[t,i],[t,a],[t,s],[r,s],[e,s],[e,a]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const Ib=n=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let i=this.remember("_"+n.name);return i||(e.prototype instanceof EC?(i=new e(this),e=!0):i=new n(this),this.remember("_"+n.name,i)),i.active(e,t),this};ue(jt,{select:Ib(EC)}),ue([Qs,Zs,Ks],{pointSelect:Ib(class{constructor(n){this.el=n,n.remember("_pointSelectHandler",this),this.selection=new ds,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=ql();this.observer=new e.MutationObserver(this.mutationHandler)}init(n){this.createHandle=n.createHandle||this.createHandleFn,this.updateHandle=n.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(n,e){if(!n)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((n,e,t)=>{this.createHandle.call(this,this.selection,n,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",sg("point",this.el,this.points,e))})}createHandleFn(n){n.circle(5)}updateHandleFn(n,e){n.center(e[0],e[1])}updatePointHandles(){this.points.forEach((n,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),n,e,t)})}updatePoints(){const n=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>rg(e,n))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const zc=n=>(n.changedTouches&&(n=n.changedTouches[0]),{x:n.clientX,y:n.clientY}),Rb=n=>{let e=1/0,t=1/0,i=-1/0,s=-1/0;for(let r=0;r<n.length;r++){const a=n[r];e=Math.min(e,a[0]),t=Math.min(t,a[1]),i=Math.max(i,a[0]),s=Math.max(s,a[1])}return new ht(e,t,i-e,s-t)};class Mb{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:i,points:s}=e.detail,r=!t.type.indexOf("mouse");if(r&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(zc(t)),this.index=i,this.points=s.slice();const a=(r?"mousemove":"touchmove")+".resize",o=(r?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?Ci(window,a,this.movePoint):e.type==="rot"?Ci(window,a,this.rotate):Ci(window,a,this.resize),Ci(window,o,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(zc(e)));let i=t.x-this.startPoint.x,s=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(i*=2,s*=2);const r=this.box.x+i,a=this.box.y+s,o=this.box.x2+i,l=this.box.y2+s;let c=new ht(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(r,this.box.x2),c.x2=Math.max(r,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(o,this.box.x),c.x2=Math.max(o,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(a,this.box.y2),c.y2=Math.max(a,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const u=c.width/this.box.width,h=c.height/this.box.height,d=["lt","t","rt","r","rb","b","lb","l"],f=(d.indexOf(this.eventType)+4)%d.length,m=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[f];let g=this.eventType.includes("t")||this.eventType.includes("b")?h:u;g=this.eventType.length===2?Math.max(u,h):g,c=function(v,x,y){const b=[[v.x,v.y],[v.x+v.width,v.y],[v.x+v.width,v.y+v.height],[v.x,v.y+v.height]].map(([_,k])=>{const P=_-x[0],A=(k-x[1])*y;return[P*y+x[0],A+x[1]]});return Rb(b)}(this.box,m,g)}this.el.dispatch("resize",{box:new ht(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:t,y:i}=this.snapToGrid(this.el.point(zc(e))),s=this.el.array().slice();s[this.index]=[t,i],this.el.dispatch("resize",{box:Rb(s),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(s)}rotate(e){this.lastEvent=e;const t=this.startPoint,i=this.el.point(zc(e)),{cx:s,cy:r}=this.box,a=t.x-s,o=t.y-r,l=i.x-s,c=i.y-r,u=Math.sqrt(a*a+o*o)*Math.sqrt(l*l+c*c);if(u===0)return;let h=Math.acos((a*l+o*c)/u)/Math.PI*180;if(!h)return;i.x<t.x&&(h=-h);const d=new Se(this.el),{x:f,y:m}=new De(s,r).transformO(d),{rotate:g}=d.decompose(),v=this.snapToAngle(g+h)-g;this.el.dispatch("resize",{box:this.box,angle:v,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(d.rotateO(v,f,m))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",Vn(window,"mousemove.resize touchmove.resize"),Vn(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}ue(jt,{resize:function(n=!0,e={}){typeof n=="object"&&(e=n,n=!0);let t=this.remember("_ResizeHandler");return t||(n.prototype instanceof Mb?(t=new n(this),n=!0):t=new Mb(this),this.remember("_resizeHandler",t)),t.active(n,e),this}}),window.SVG===void 0&&(window.SVG=TN),window.Apex===void 0&&(window.Apex={});var Lb=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Na(this.ctx),this.ctx.axes=new VN(this.ctx),this.ctx.core=new uD(this.ctx.el,this.ctx),this.ctx.config=new Cl({}),this.ctx.data=new gx(this.ctx),this.ctx.grid=new xC(this.ctx),this.ctx.graphics=new W(this.ctx),this.ctx.coreUtils=new dt(this.ctx),this.ctx.crosshairs=new tg(this.ctx),this.ctx.events=new DN(this.ctx),this.ctx.exports=new Uo(this.ctx),this.ctx.fill=new ni(this.ctx),this.ctx.localization=new ON(this.ctx),this.ctx.options=new Ys,this.ctx.responsive=new FN(this.ctx),this.ctx.series=new zn(this.ctx),this.ctx.theme=new zN(this.ctx),this.ctx.formatters=new Zl(this.ctx),this.ctx.titleSubtitle=new jN(this.ctx),this.ctx.legend=new vC(this.ctx),this.ctx.toolbar=new bC(this.ctx),this.ctx.tooltip=new _b(this.ctx),this.ctx.dimensions=new Zu(this.ctx),this.ctx.updateHelpers=new hD(this.ctx),this.ctx.zoomPanSelection=new UN(this.ctx),this.ctx.w.globals.tooltip=new _b(this.ctx)}}]),n}(),Nb=function(){function n(e){te(this,n),this.ctx=e,this.w=e.w}return ne(n,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,i=e.isUpdating,s=this.w.globals.dom.Paper.node;s.parentNode&&s.parentNode.parentNode&&!i&&(s.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach(function(o){r.removeEventListener(o,t.ctx.events.documentEvent)});var a=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),n}(),bf=new WeakMap,fD=function(){function n(e,t){te(this,n),this.opts=t,this.ctx=this,this.w=new NN(t).init(),this.el=e,this.w.globals.cuid=D.randomId(),this.w.globals.chartID=this.w.config.chart.id?D.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Lb(this).initModules(),this.lastUpdateOptions=null,this.create=D.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return ne(n,[{key:"render",value:function(){var e=this;return new Promise(function(t,i){if(D.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var s=e.w.config.chart.events.beforeMount;typeof s=="function"&&s(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(d,f){var m=!1;if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var g=d.getBoundingClientRect();d.style.display!=="none"&&g.width!==0||(m=!0)}var v=new ResizeObserver(function(x){m&&f.call(d,x),m=!0});d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(d.children).forEach(function(x){return v.observe(x)}):v.observe(d),bf.set(f,v)}(e.el.parentNode,e.parentResizeHandler);var r=e.el.getRootNode&&e.el.getRootNode(),a=D.is("ShadowRoot",r),o=e.el.ownerDocument,l=a?r.getElementById("apexcharts-css"):o.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
  0% {
    opacity: 0
  }

  to {
    opacity: 1
  }
}

@keyframes resizeanim {

  0%,
  to {
    opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  direction: ltr !important;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0, 0, 0, .5);
  box-shadow: 0 0 1px rgba(255, 255, 255, .5);
  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

rect.legend-mouseover-inactive,
.legend-mouseover-inactive rect,
.legend-mouseover-inactive path,
.legend-mouseover-inactive circle,
.legend-mouseover-inactive line,
.legend-mouseover-inactive text.apexcharts-yaxis-title-text,
.legend-mouseover-inactive text.apexcharts-yaxis-label {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255, 255, 255, .96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30, 30, 30, .8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0, 0, 0, .7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,
.apexcharts-tooltip-text-y-value,
.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,
.apexcharts-tooltip-text-goals-value:empty,
.apexcharts-tooltip-text-y-label:empty,
.apexcharts-tooltip-text-y-value:empty,
.apexcharts-tooltip-text-z-value:empty,
.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,
.apexcharts-tooltip-text-goals-label,
.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),
.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  font-size: 16px;
  line-height: 16px;
  margin-right: 4px;
  text-align: center;
  vertical-align: middle;
  color: inherit;
}

.apexcharts-tooltip-marker::before {
  content: "";
  display: inline-block;
  width: 100%;
  text-align: center;
  color: currentcolor;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-size: 26px;
  font-family: Arial, Helvetica, sans-serif;
  line-height: 14px;
  font-weight: 900;
}

.apexcharts-tooltip-marker[shape="circle"]::before {
  content: "\\25CF";
}

.apexcharts-tooltip-marker[shape="square"]::before,
.apexcharts-tooltip-marker[shape="rect"]::before {
  content: "\\25A0";
  transform: translate(-1px, -2px);
}

.apexcharts-tooltip-marker[shape="line"]::before {
  content: "\\2500";
}

.apexcharts-tooltip-marker[shape="diamond"]::before {
  content: "\\25C6";
  font-size: 28px;
}

.apexcharts-tooltip-marker[shape="triangle"]::before {
  content: "\\25B2";
  font-size: 22px;
}

.apexcharts-tooltip-marker[shape="cross"]::before {
  content: "\\2715";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="plus"]::before {
  content: "\\2715";
  transform: rotate(45deg) translate(-1px, -1px);
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="star"]::before {
  content: "\\2605";
  font-size: 18px;
}

.apexcharts-tooltip-marker[shape="sparkle"]::before {
  content: "\\2726";
  font-size: 20px;
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,
.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,
.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-xaxistooltip:after,
.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,
.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,
.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0, 0, 0, .5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0, 0, 0, .7);
  border: 1px solid rgba(0, 0, 0, .5);
  color: #fff
}

.apexcharts-yaxistooltip:after,
.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,
.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,
.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0, 0, 0, .5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,
.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,
.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_shape {
  stroke-width: 1;
  stroke-dasharray: 10 10;
  stroke: black;
  stroke-opacity: 0.1;
  pointer-events: none;
  fill: none;
}

.svg_select_handle {
  stroke-width: 3;
  stroke: black;
  fill: none;
}

.svg_select_handle_r {
  cursor: e-resize;
}

.svg_select_handle_l {
  cursor: w-resize;
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,
.apexcharts-pan-icon,
.apexcharts-reset-icon,
.apexcharts-selection-icon,
.apexcharts-toolbar-custom-icon,
.apexcharts-zoom-icon,
.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,
.apexcharts-reset-icon svg,
.apexcharts-zoom-icon svg,
.apexcharts-zoomin-icon svg,
.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,
.apexcharts-theme-dark .apexcharts-pan-icon svg,
.apexcharts-theme-dark .apexcharts-reset-icon svg,
.apexcharts-theme-dark .apexcharts-selection-icon svg,
.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
.apexcharts-theme-dark .apexcharts-zoom-icon svg,
.apexcharts-theme-dark .apexcharts-zoomin-icon svg,
.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,
.apexcharts-theme-light .apexcharts-reset-icon:hover svg,
.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,
.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,
.apexcharts-reset-icon,
.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,
.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0, 0, 0, .7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
    opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,
.apexcharts-datalabel.apexcharts-element-hidden,
.apexcharts-hide .apexcharts-series-points {
  opacity: 0;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}

.apexcharts-datalabel,
.apexcharts-datalabel-label,
.apexcharts-datalabel-value,
.apexcharts-datalabels,
.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,
.apexcharts-area-series .apexcharts-area,
.apexcharts-gridline,
.apexcharts-line,
.apexcharts-point-annotation-label,
.apexcharts-radar-series path:not(.apexcharts-marker),
.apexcharts-radar-series polygon,
.apexcharts-toolbar svg,
.apexcharts-tooltip .apexcharts-marker,
.apexcharts-xaxis-annotation-label,
.apexcharts-yaxis-annotation-label,
.apexcharts-zoom-rect,
.no-pointer-events {
  pointer-events: none
}

.apexcharts-tooltip-active .apexcharts-marker {
  transition: .15s ease all
}

.apexcharts-radar-series .apexcharts-yaxis {
  pointer-events: none;
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,
.resize-triggers,
.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers {
  pointer-events: none
}

.apexcharts-bar-shadows {
  pointer-events: none
}

.apexcharts-rangebar-goals-markers {
  pointer-events: none
}

.apexcharts-disable-transitions * {
  transition: none !important;
}`;var u=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;u&&l.setAttribute("nonce",u),a?r.prepend(l):e.w.config.chart.injectStyleSheet!==!1&&o.head.appendChild(l)}var h=e.create(e.w.config.series,{});if(!h)return t(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(h)}).catch(function(d){i(d)})}else i(new Error("Element not found"))})}},{key:"create",value:function(e,t){var i=this,s=this.w;new Lb(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,!D.elementExists(this.el)||(this.responsive.checkResponsiveConfig(t),s.config.xaxis.convertedCatToNumeric&&new kl(s.config).convertCatToNumericXaxis(s.config,this.ctx),this.core.setupElements(),s.config.chart.type==="treemap"&&(s.config.grid.show=!1,s.config.yaxis[0].show=!1),r.svgWidth===0))return r.animationEnded=!0,null;var a=e;e.forEach(function(d,f){d.hidden&&(a=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:f}))});var o=dt.checkComboSeries(a,s.config.chart.type);r.comboCharts=o.comboCharts,r.comboBarCount=o.comboBarCount;var l=a.every(function(d){return d.data&&d.data.length===0});(a.length===0||l&&r.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new Fa(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!s.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),s.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=s.globals.minX,this.ctx.toolbar.maxX=s.globals.maxX),this.formatters.heatmapLabelFormatters(),new dt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(a,c),h=new wa(this);return h.bringForward(),s.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),s.globals.dataPoints>50&&s.globals.dom.elWrap.classList.add("apexcharts-disable-transitions"),{elGraph:u,xyRatios:c,dimensions:{plot:{left:s.globals.translateX,top:s.globals.translateY,width:s.globals.gridWidth,height:s.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=this,s=i.w;return new Promise(function(r,a){if(i.el===null)return a(new Error("Not enough data to display or target element not found"));(t===null||s.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new xC(i);var o,l,c=i.grid.drawGrid();if(i.annotations=new LN(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),s.config.grid.position==="back"&&(c&&s.globals.dom.elGraphical.add(c.el),c!=null&&(o=c.elGridBorders)!==null&&o!==void 0&&o.node&&s.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)s.globals.dom.elGraphical.add(t.elGraph[u]);else s.globals.dom.elGraphical.add(t.elGraph);s.config.grid.position==="front"&&(c&&s.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&s.globals.dom.elGraphical.add(c.elGridBorders)),s.config.xaxis.crosshairs.position==="front"&&i.crosshairs.drawXCrosshairs(),s.config.yaxis[0].crosshairs.position==="front"&&i.crosshairs.drawYCrosshairs(),s.config.chart.type!=="treemap"&&i.axes.drawAxis(s.config.chart.type,c);var h=new _l(e.ctx,c),d=new mx(e.ctx,c);if(c!==null&&(h.xAxisLabelCorrections(c.xAxisTickWidth),d.setYAxisTextAlignments(),s.config.yaxis.map(function(m,g){s.globals.ignoreYAxisIndexes.indexOf(g)===-1&&d.yAxisTitleRotate(g,m.opposite)})),i.annotations.drawAxesAnnotations(),!s.globals.noData){if(s.config.tooltip.enabled&&!s.globals.noData&&i.w.globals.tooltip.drawTooltip(t.xyRatios),s.globals.axisCharts&&(s.globals.isXNumeric||s.config.xaxis.convertedCatToNumeric||s.globals.isRangeBar))(s.config.chart.zoom.enabled||s.config.chart.selection&&s.config.chart.selection.enabled||s.config.chart.pan&&s.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:t.xyRatios});else{var f=s.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(m){f[m]=!1})}s.config.chart.toolbar.show&&!s.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}s.globals.memory.methodsToExec.length>0&&s.globals.memory.methodsToExec.forEach(function(m){m.method(m.params,!1,m.context)}),s.globals.axisCharts||s.globals.noData||i.core.resizeNonAxisCharts(),r(i)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,i){var s=bf.get(i);s&&(s.disconnect(),bf.delete(i))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,i){t.id===D.escapeString(e)&&Apex._chartInstances.splice(i,1)}),new Nb(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0&&arguments[1],s=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],a=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w;return o.globals.selection=void 0,this.lastUpdateOptions&&JSON.stringify(this.lastUpdateOptions)===JSON.stringify(e)?this:(e.series&&(this.data.resetParsingFlags(),this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return t.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),o.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,i,s,r,a))}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.data.resetParsingFlags(),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,i)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];this.data.resetParsingFlags();var s=this.w.config.series.slice();return s.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(s,t,i)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=this;i.data.resetParsingFlags(),i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var s=i.w.config.series.slice(),r=0;r<s.length;r++)if(e[r]!==null&&e[r]!==void 0)for(var a=0;a<e[r].data.length;a++)s[r].data.push(e[r].data[a]);return i.w.config.series=s,t&&(i.w.globals.initialSeries=D.clone(i.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(i,s){if(t.lastUpdateOptions&&JSON.stringify(t.lastUpdateOptions)===JSON.stringify(e))return i(t);t.lastUpdateOptions=D.clone(e),new Nb(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,e);if(!r)return i(t);t.mount(r).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,i(t)}).catch(function(a){s(a)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(i){t.push(i)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addXaxisAnnotationExternal(e,t,s)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addYaxisAnnotationExternal(e,t,s)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=this;i&&(s=i),s.annotations.addPointAnnotationExternal(e,t,s)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=this;t&&(i=t),i.annotations.removeAnnotation(i,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new eg(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new eg(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Uo(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Uo(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Uo(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=D.escapeString(e);if(Apex._chartInstances){var i=Apex._chartInstances.filter(function(s){return s.id===t})[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new n(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var i=this.getChartByID(e);if(i){i.w.globals.isExecCalled=!0;var s=null;if(i.publicMethods.indexOf(t)!==-1){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];s=i[t].apply(i,a)}return s}}},{key:"merge",value:function(e,t){return D.extend(e,t)}},{key:"getThemePalettes",value:function(){return{palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3F51B5","#03A9F4","#4CAF50","#F9CE1D","#FF9800"],palette3:["#33B2DF","#546E7A","#D4526E","#13D8AA","#A5978B"],palette4:["#4ECDC4","#C7F464","#81D4FA","#FD6A6A","#546E7A"],palette5:["#2B908F","#F9A3A4","#90EE7E","#FA4443","#69D2E7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}}}]),n}(),PC={exports:{}},pD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gD=pD,mD=gD;function IC(){}function RC(){}RC.resetWarningCache=IC;var xD=function(){function n(i,s,r,a,o,l){if(l!==mD){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:RC,resetWarningCache:IC};return t.PropTypes=t,t};PC.exports=xD();var yD=PC.exports;const Yn=Ww(yD);function vD(n,e,t){return(e=function(i){var s=function(r,a){if(typeof r!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var l=o.call(r,a);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}(i,"string");return typeof s=="symbol"?s:s+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ag(){return ag=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ag.apply(null,arguments)}function Db(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function MC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Db(Object(t),!0).forEach(function(i){vD(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Db(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Tl(n){return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(n)}var bD=["type","width","height","series","options","chartRef"];function wf(n){return n&&Tl(n)==="object"&&!Array.isArray(n)}function LC(n,e){var t=MC({},n);return wf(n)&&wf(e)&&Object.keys(e).forEach(function(i){wf(e[i])?t[i]=i in n?LC(n[i],e[i]):e[i]:t[i]=e[i]}),t}function og(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakSet;if(n===e)return!0;if(Tl(n)!=="object"||n===null||Tl(e)!=="object"||e===null)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);var i=Object.keys(n),s=Object.keys(e);if(i.length!==s.length)return!1;for(var r=0,a=i;r<a.length;r++){var o=a[r];if(!s.includes(o)||!og(n[o],e[o],t))return!1}return!0}var wD=["type","series","options","width","height","chartRef"];function NC(n){var e=n.type,t=e===void 0?"line":e,i=n.width,s=i===void 0?"100%":i,r=n.height,a=r===void 0?"auto":r,o=n.series,l=n.options,c=n.chartRef,u=function(b,_){if(b==null)return{};var k,P,A=function(C,E){if(C==null)return{};var I={};for(var L in C)if({}.hasOwnProperty.call(C,L)){if(E.includes(L))continue;I[L]=C[L]}return I}(b,_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(b);for(P=0;P<w.length;P++)k=w[P],_.includes(k)||{}.propertyIsEnumerable.call(b,k)&&(A[k]=b[k])}return A}(n,bD),h=q.useRef(null),d=q.useRef(null),f=q.useRef(null),m=c||f,g=function(){return LC(l,{chart:{type:t,height:a,width:s},series:o})};q.useEffect(function(){return m.current=new fD(h.current,g()),m.current.render(),d.current=l,function(){m.current&&typeof m.current.destroy=="function"&&m.current.destroy()}},[]),q.useEffect(function(){if(m.current&&m.current.w){var b=!og(m.current.w.config.series,o),_=!og(d.current,l)||a!==m.current.opts.chart.height||s!==m.current.opts.chart.width;(b||_)&&(b?_?m.current.updateOptions(g()):m.current.updateSeries(o):m.current.updateOptions(g())),d.current=l}},[l,o,a,s]);var v,x,y=(v=wD,x=MC({},u),v.forEach(function(b){delete x[b]}),x);return t1.createElement("div",ag({ref:h},y))}NC.propTypes={type:Yn.string.isRequired,series:Yn.array.isRequired,options:Yn.object.isRequired,width:Yn.oneOfType([Yn.string,Yn.number]),height:Yn.oneOfType([Yn.string,Yn.number]),chartRef:Yn.shape({current:Yn.any})};const AD=({data:n,height:e=350})=>{if(!n||n.length===0)return null;const t=[{name:"Candle",type:"candlestick",data:n.map(s=>({x:s.date,y:[s.open,s.high,s.low,s.close]}))},{name:"MA10",type:"line",data:n.map(s=>({x:s.date,y:s.ma_ultra_short}))},{name:"MA20",type:"line",data:n.map(s=>({x:s.date,y:s.ma_short}))},{name:"MA60",type:"line",data:n.map(s=>({x:s.date,y:s.ma_long}))}],i={chart:{type:"candlestick",height:e,toolbar:{show:!1},background:"transparent",animations:{enabled:!1}},theme:{mode:"dark"},stroke:{width:[1,1,1,1],curve:"smooth"},colors:["#00E396","#A855F7","#FEB019","#008FFB"],plotOptions:{candlestick:{colors:{upward:"#26a69a",downward:"#ef5350"},wick:{useFillColor:!0}}},xaxis:{type:"category",tooltip:{enabled:!0},axisBorder:{show:!1},axisTicks:{show:!1},labels:{formatter:function(s){return typeof s=="string"&&s.length>5?s.substring(5).replace("-","/"):s}},tickAmount:6},yaxis:{tooltip:{enabled:!0},labels:{formatter:s=>s?s.toFixed(0):""}},grid:{borderColor:"#333",strokeDashArray:3},legend:{show:!0,position:"top"}};return R.jsx("div",{className:"w-full h-full text-black",children:R.jsx(NC,{options:i,series:t,type:"candlestick",height:e})})},SD=({monitorData:n,portfolio:e,activeOptions:t})=>{var u;const i=e.reduce((h,d)=>h+(d.market_value||0),0),s=e.reduce((h,d)=>h+(d.pnl||0),0),r=(n==null?void 0:n.status)||"NEUTRAL",a=r==="BULL"?"bg-green-500":r==="BEAR"?"bg-red-500":"bg-yellow-500",o=(n==null?void 0:n.price)||"---",l=(n==null?void 0:n.direct_change)||0,c=l>=0;return R.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[R.jsxs("div",{className:"p-1 rounded-2xl bg-gradient-to-br from-white/10 to-transparent border border-white/10 relative overflow-hidden group",children:[R.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${a} shadow-[0_0_20px_rgba(255,255,255,0.5)]`}),R.jsxs("div",{className:"p-5",children:[R.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest mb-1",children:" (Regime)"}),R.jsxs("div",{className:"text-2xl font-black text-white flex items-center gap-3",children:[r,R.jsx("span",{className:`w-3 h-3 rounded-full ${a} animate-pulse shadow-[0_0_10px_currentColor]`})]}),R.jsx("div",{className:"text-[10px] text-gray-500 mt-2",children:"AI : "})]})]}),R.jsxs("div",{className:"glass-card p-5 flex flex-col justify-between",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:" (Price)"}),R.jsx(Zr,{size:16,className:c?"text-green-400":"text-red-400"})]}),R.jsxs("div",{children:[R.jsx("div",{className:"text-3xl font-black text-white tracking-tight",children:o}),R.jsxs("div",{className:`text-xs font-bold mt-1 ${c?"text-green-400":"text-red-400"}`,children:[c?"":""," ",l]})]})]}),R.jsxs("div",{className:"glass-card p-5 flex flex-col justify-between",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:" (Net Worth)"}),R.jsx(UL,{size:16,className:"text-blue-400"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:"text-2xl font-bold text-white tracking-tight",children:["$",i.toLocaleString()]}),R.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]})]}),R.jsxs("div",{className:"glass-card p-5 flex flex-col justify-between",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:" (PnL)"}),R.jsx(Zr,{size:16,className:s>=0?"text-green-400":"text-red-400"})]}),R.jsxs("div",{children:[R.jsxs("div",{className:`text-2xl font-bold tracking-tight ${s>=0?"text-green-400":"text-red-400"}`,children:[s>=0?"+":"","$",Math.round(s).toLocaleString()]}),R.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]})]}),R.jsxs("div",{className:"glass-card p-5 flex flex-col justify-between",children:[R.jsxs("div",{className:"flex justify-between items-start",children:[R.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:" (Hedge)"}),R.jsx(GL,{size:16,className:"text-purple-400"})]}),R.jsxs("div",{children:[R.jsx("div",{className:"text-2xl font-bold text-white tracking-tight",children:e.some(h=>h.symbol==="MTX"&&h.shares<0)?" (ACTIVE)":" (NONE)"}),R.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[": ",(u=t==null?void 0:t.weekly)!=null&&u.price?`$${t.weekly.price}`:"---"]})]})]})]}),R.jsxs("div",{className:"glass-card p-6 min-h-[400px] border-blue-500/20",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[R.jsx(Zr,{className:"text-blue-400"})," (MARKET OVERVIEW)"]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("span",{className:"text-xs px-2 py-1 rounded bg-purple-500/20 text-purple-400 border border-purple-500/50",children:"MA10 "}),R.jsx("span",{className:"text-xs px-2 py-1 rounded bg-yellow-500/20 text-yellow-400 border border-yellow-500/50",children:"MA20 "}),R.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-400 border border-blue-500/50",children:"MA60 "})]})]}),R.jsx("div",{className:"h-[350px] w-full",children:n!=null&&n.chart_data?R.jsx(AD,{data:n.chart_data,height:350}):R.jsx("div",{className:"h-full flex items-center justify-center text-gray-600 animate-pulse",children:" (Loading Market Data)..."})})]}),R.jsxs("div",{className:"p-4 rounded-xl border border-blue-500/30 bg-blue-900/10 flex items-start gap-4",children:[R.jsx("div",{className:"p-2 bg-blue-500/20 rounded-full text-blue-400 animate-pulse",children:R.jsx(Zr,{size:20})}),R.jsxs("div",{children:[R.jsx("h4",{className:"text-sm font-bold text-blue-300 uppercase mb-1",children:"AI  (Tactical Insight)"}),R.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed",children:[(n==null?void 0:n.ai_report)||"..."," ",r==="BULL"?" (BULL)":r==="BEAR"?" (BEAR)":" (NEUTRAL)"," ",r==="BEAR"?"  (Increase Hedge)":"  (Long Positions)"]})]})]})]})},kD=({portfolio:n,indexPrice:e=23e3})=>{const[t,i]=q.useState(0),[s,r]=q.useState(0),[a,o]=q.useState(0),l=n.reduce((d,f)=>d+(f.market_value||0),0),c=e,[u,h]=q.useState([]);return q.useEffect(()=>{let d=0;const f=t/c,m=[];n.forEach(g=>{let v=0,x="";const y=String(g.symbol||"").toUpperCase().trim();y.includes("00631L")?(v=(g.market_value||0)*f*2,x="2x Lev"):y==="MTX"||y==="TX"?(v=g.shares*t*50,x="$50/Pt"):y==="CASH"?(v=0,x="Risk Free"):(v=(g.market_value||0)*f,x="1x Beta"),d+=v,m.push({...g,leverageLabel:x,estPnL:v})}),h(m),r(d),o(l+d)},[t,n,l]),R.jsxs("div",{className:"glass-card p-6 border-red-500/30 bg-red-900/10",children:[R.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[R.jsx(HL,{className:"text-red-500"}),"Stress Test ()"]}),R.jsxs("div",{className:"mb-6",children:[R.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[R.jsx("span",{className:"text-gray-400",children:"Market Scenario ()"}),R.jsxs("span",{className:`font-bold ${t>0?"text-green-400":t<0?"text-red-400":"text-gray-200"}`,children:[t>0?"+":"",t," "]})]}),R.jsx("input",{type:"range",min:"-2000",max:"2000",step:"50",value:t,onChange:d=>i(Number(d.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),R.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500 mt-1",children:[R.jsx("span",{children:"CRASH (-2000)"}),R.jsx("span",{children:"FLAT (0)"}),R.jsx("span",{children:"BOOM (+2000)"})]})]}),R.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[R.jsxs("div",{className:"p-4 bg-black/40 rounded-xl border border-white/10",children:[R.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Simulated PnL"}),R.jsxs("div",{className:`text-2xl font-bold flex items-center gap-2 ${s>=0?"text-green-400":"text-red-400"}`,children:[s>=0?R.jsx(QL,{size:20}):R.jsx(KL,{size:20}),"$",Math.round(s).toLocaleString()]})]}),R.jsxs("div",{className:"p-4 bg-black/40 rounded-xl border border-white/10",children:[R.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Final Net Worth"}),R.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",Math.round(a).toLocaleString()]}),R.jsxs("div",{className:"text-xs text-gray-500",children:["Current: $",Math.round(l).toLocaleString()]})]})]}),R.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10 bg-black/20",children:R.jsxs("table",{className:"w-full text-xs text-left",children:[R.jsx("thead",{className:"bg-white/5 text-gray-400 uppercase",children:R.jsxs("tr",{children:[R.jsx("th",{className:"p-2",children:"Asset"}),R.jsx("th",{className:"p-2 text-right",children:"Shares"}),R.jsx("th",{className:"p-2 text-right",children:"Price"}),R.jsx("th",{className:"p-2 text-right",children:"Value"}),R.jsx("th",{className:"p-2 text-center",children:"Factor"}),R.jsx("th",{className:"p-2 text-right",children:"Est. Impact"})]})}),R.jsx("tbody",{className:"divide-y divide-white/5",children:u.map((d,f)=>R.jsxs("tr",{className:"hover:bg-white/5",children:[R.jsx("td",{className:"p-2 font-bold text-gray-300",children:d.symbol}),R.jsx("td",{className:"p-2 text-right text-gray-400",children:d.shares}),R.jsx("td",{className:"p-2 text-right text-gray-400",children:d.current_price}),R.jsxs("td",{className:"p-2 text-right font-mono text-gray-400",children:["$",Math.round(d.market_value||0).toLocaleString()]}),R.jsx("td",{className:"p-2 text-center text-blue-400 font-bold bg-blue-900/20 rounded px-1",children:d.leverageLabel}),R.jsxs("td",{className:`p-2 text-right font-bold ${d.estPnL>=0?"text-green-400":"text-red-400"}`,children:["$",Math.round(d.estPnL).toLocaleString()]})]},f))})]})}),R.jsxs("div",{className:"mt-4 text-[10px] text-gray-500 italic text-center opacity-70",children:["* Calculation based on Index Base: ",c,". 00631L assumed 2x leverage."]})]})},CD=()=>{};var Ob={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},_D=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],a=n[t++],o=n[t++],l=((s&7)<<18|(r&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=n[t++],a=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},OC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],a=s+1<n.length,o=a?n[s+1]:0,l=s+2<n.length,c=l?n[s+2]:0,u=r>>2,h=(r&3)<<4|o>>4;let d=(o&15)<<2|c>>6,f=c&63;l||(f=64,a||(d=64)),i.push(t[u],t[h],t[d],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_D(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],o=s<n.length?t[n.charAt(s)]:0;++s;const c=s<n.length?t[n.charAt(s)]:64;++s;const h=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||o==null||c==null||h==null)throw new TD;const d=r<<2|o>>4;if(i.push(d),c!==64){const f=o<<4&240|c>>2;if(i.push(f),h!==64){const m=c<<6&192|h;i.push(m)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class TD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ED=function(n){const e=DC(n);return OC.encodeByteArray(e,!0)},Ju=function(n){return ED(n).replace(/\./g,"")},PD=function(n){try{return OC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=()=>ID().__FIREBASE_DEFAULTS__,MD=()=>{if(typeof process>"u"||typeof Ob>"u")return;const n=Ob.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},LD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&PD(n[1]);return e&&JSON.parse(e)},xx=()=>{try{return CD()||RD()||MD()||LD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ND=n=>{var e,t;return(t=(e=xx())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},DD=n=>{const e=ND(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},VC=()=>{var n;return(n=xx())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VD(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ju(JSON.stringify(t)),Ju(JSON.stringify(a)),""].join(".")}const $o={};function zD(){const n={prod:[],emulator:[]};for(const e of Object.keys($o))$o[e]?n.emulator.push(e):n.prod.push(e);return n}function jD(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Vb=!1;function BD(n,e){if(typeof window>"u"||typeof document>"u"||!yx(window.location.host)||$o[n]===e||$o[n]||Vb)return;$o[n]=e;function t(d){return`__firebase__banner__${d}`}const i="__firebase__banner",r=zD().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,f){d.setAttribute("width","24"),d.setAttribute("id",f),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{Vb=!0,a()},d}function u(d,f){d.setAttribute("id",f),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=jD(i),f=t("text"),m=document.getElementById(f)||document.createElement("span"),g=t("learnmore"),v=document.getElementById(g)||document.createElement("a"),x=t("preprendIcon"),y=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const b=d.element;o(b),u(v,g);const _=c();l(y,x),b.append(y,m,v,_),document.body.appendChild(b)}r?(m.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XD(){var e;const n=(e=xx())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WD(){return!XD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YD(){try{return typeof indexedDB=="object"}catch{return!1}}function UD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)==null?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="FirebaseError";class za extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$D,Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,FC.prototype.create)}}class FC{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?GD(r,i):"Error",o=`${this.serviceName}: ${a} (${s}).`;return new za(s,o,i)}}function GD(n,e){return n.replace(qD,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const qD=/\{\$([^}]+)}/g;function eh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],a=e[s];if(Fb(r)&&Fb(a)){if(!eh(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Fb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(n){return n&&n._delegate?n._delegate:n}class El{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new OD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZD(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);i===o&&a.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:QD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QD(n){return n===Ws?void 0:n}function ZD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ie||(Ie={}));const eO={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},tO=Ie.INFO,nO={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},iO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=nO[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zC{constructor(e){this.name=e,this._logLevel=tO,this._logHandler=iO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const sO=(n,e)=>e.some(t=>n instanceof t);let zb,jb;function rO(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aO(){return jb||(jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jC=new WeakMap,lg=new WeakMap,BC=new WeakMap,Af=new WeakMap,vx=new WeakMap;function oO(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",a)},r=()=>{t(fs(n.result)),s()},a=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&jC.set(t,n)}).catch(()=>{}),vx.set(e,n),e}function lO(n){if(lg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",a),n.removeEventListener("abort",a)},r=()=>{t(),s()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",a),n.addEventListener("abort",a)});lg.set(n,e)}let cg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return lg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||BC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cO(n){cg=n(cg)}function uO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Sf(this),e,...t);return BC.set(i,e.sort?e.sort():[e]),fs(i)}:aO().includes(n)?function(...e){return n.apply(Sf(this),e),fs(jC.get(this))}:function(...e){return fs(n.apply(Sf(this),e))}}function hO(n){return typeof n=="function"?uO(n):(n instanceof IDBTransaction&&lO(n),sO(n,rO())?new Proxy(n,cg):n)}function fs(n){if(n instanceof IDBRequest)return oO(n);if(Af.has(n))return Af.get(n);const e=hO(n);return e!==n&&(Af.set(n,e),vx.set(e,n)),e}const Sf=n=>vx.get(n);function dO(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(n,e),o=fs(a);return i&&a.addEventListener("upgradeneeded",l=>{i(fs(a.result),l.oldVersion,l.newVersion,fs(a.transaction),l)}),t&&a.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),o.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const fO=["get","getKey","getAll","getAllKeys","count"],pO=["put","add","delete","clear"],kf=new Map;function Bb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kf.get(e))return kf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=pO.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||fO.includes(t)))return;const r=async function(a,...o){const l=this.transaction(a,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),s&&l.done]))[0]};return kf.set(e,r),r}cO(n=>({...n,get:(e,t,i)=>Bb(e,t)||n.get(e,t,i),has:(e,t)=>!!Bb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mO(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function mO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ug="@firebase/app",Hb="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new zC("@firebase/app"),xO="@firebase/app-compat",yO="@firebase/analytics-compat",vO="@firebase/analytics",bO="@firebase/app-check-compat",wO="@firebase/app-check",AO="@firebase/auth",SO="@firebase/auth-compat",kO="@firebase/database",CO="@firebase/data-connect",_O="@firebase/database-compat",TO="@firebase/functions",EO="@firebase/functions-compat",PO="@firebase/installations",IO="@firebase/installations-compat",RO="@firebase/messaging",MO="@firebase/messaging-compat",LO="@firebase/performance",NO="@firebase/performance-compat",DO="@firebase/remote-config",OO="@firebase/remote-config-compat",VO="@firebase/storage",FO="@firebase/storage-compat",zO="@firebase/firestore",jO="@firebase/ai",BO="@firebase/firestore-compat",HO="firebase",XO="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="[DEFAULT]",WO={[ug]:"fire-core",[xO]:"fire-core-compat",[vO]:"fire-analytics",[yO]:"fire-analytics-compat",[wO]:"fire-app-check",[bO]:"fire-app-check-compat",[AO]:"fire-auth",[SO]:"fire-auth-compat",[kO]:"fire-rtdb",[CO]:"fire-data-connect",[_O]:"fire-rtdb-compat",[TO]:"fire-fn",[EO]:"fire-fn-compat",[PO]:"fire-iid",[IO]:"fire-iid-compat",[RO]:"fire-fcm",[MO]:"fire-fcm-compat",[LO]:"fire-perf",[NO]:"fire-perf-compat",[DO]:"fire-rc",[OO]:"fire-rc-compat",[VO]:"fire-gcs",[FO]:"fire-gcs-compat",[zO]:"fire-fst",[BO]:"fire-fst-compat",[jO]:"fire-vertex","fire-js":"fire-js",[HO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,YO=new Map,dg=new Map;function Xb(n,e){try{n.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ih(n){const e=n.name;if(dg.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;dg.set(e,n);for(const t of nh.values())Xb(t,n);for(const t of YO.values())Xb(t,n);return!0}function UO(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $O(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new FC("app","Firebase",GO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new El("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=XO;function HC(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:hg,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw ps.create("bad-app-name",{appName:String(s)});if(t||(t=VC()),!t)throw ps.create("no-options");const r=nh.get(s);if(r){if(eh(t,r.options)&&eh(i,r.config))return r;throw ps.create("duplicate-app",{appName:s})}const a=new JD(s);for(const l of dg.values())a.addComponent(l);const o=new qO(t,i,a);return nh.set(s,o),o}function QO(n=hg){const e=nh.get(n);if(!e&&n===hg&&VC())return HC();if(!e)throw ps.create("no-app",{appName:n});return e}function oa(n,e,t){let i=WO[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),r=e.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(a.join(" "));return}ih(new El(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="firebase-heartbeat-database",JO=1,Pl="firebase-heartbeat-store";let Cf=null;function XC(){return Cf||(Cf=dO(ZO,JO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ps.create("idb-open",{originalErrorMessage:n.message})})),Cf}async function eV(n){try{const t=(await XC()).transaction(Pl),i=await t.objectStore(Pl).get(WC(n));return await t.done,i}catch(e){if(e instanceof za)Di.warn(e.message);else{const t=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(t.message)}}}async function Wb(n,e){try{const i=(await XC()).transaction(Pl,"readwrite");await i.objectStore(Pl).put(e,WC(n)),await i.done}catch(t){if(t instanceof za)Di.warn(t.message);else{const i=ps.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Di.warn(i.message)}}}function WC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=1024,nV=30;class iV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rV(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Yb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>nV){const a=aV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Yb(),{heartbeatsToSend:i,unsentEntries:s}=sV(this._heartbeatsCache.heartbeats),r=Ju(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Di.warn(t),""}}}function Yb(){return new Date().toISOString().substring(0,10)}function sV(n,e=tV){const t=[];let i=n.slice();for(const s of n){const r=t.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),Ub(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ub(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class rV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YD()?UD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await eV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ub(n){return Ju(JSON.stringify({version:2,heartbeats:n})).length}function aV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(n){ih(new El("platform-logger",e=>new gO(e),"PRIVATE")),ih(new El("heartbeat",e=>new iV(e),"PRIVATE")),oa(ug,Hb,n),oa(ug,Hb,"esm2020"),oa("fire-js","")}oV("");var lV="firebase",cV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(lV,cV,"app");var $b=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,YC;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,w){function C(){}C.prototype=w.prototype,A.F=w.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(E,I,L){for(var M=Array(arguments.length-2),F=2;F<arguments.length;F++)M[F-2]=arguments[F];return w.prototype[I].apply(E,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,w,C){C||(C=0);const E=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)E[I]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(I=0;I<16;++I)E[I]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=A.g[0],C=A.g[1],I=A.g[2];let L=A.g[3],M;M=w+(L^C&(I^L))+E[0]+3614090360&4294967295,w=C+(M<<7&4294967295|M>>>25),M=L+(I^w&(C^I))+E[1]+3905402710&4294967295,L=w+(M<<12&4294967295|M>>>20),M=I+(C^L&(w^C))+E[2]+606105819&4294967295,I=L+(M<<17&4294967295|M>>>15),M=C+(w^I&(L^w))+E[3]+3250441966&4294967295,C=I+(M<<22&4294967295|M>>>10),M=w+(L^C&(I^L))+E[4]+4118548399&4294967295,w=C+(M<<7&4294967295|M>>>25),M=L+(I^w&(C^I))+E[5]+1200080426&4294967295,L=w+(M<<12&4294967295|M>>>20),M=I+(C^L&(w^C))+E[6]+2821735955&4294967295,I=L+(M<<17&4294967295|M>>>15),M=C+(w^I&(L^w))+E[7]+4249261313&4294967295,C=I+(M<<22&4294967295|M>>>10),M=w+(L^C&(I^L))+E[8]+1770035416&4294967295,w=C+(M<<7&4294967295|M>>>25),M=L+(I^w&(C^I))+E[9]+2336552879&4294967295,L=w+(M<<12&4294967295|M>>>20),M=I+(C^L&(w^C))+E[10]+4294925233&4294967295,I=L+(M<<17&4294967295|M>>>15),M=C+(w^I&(L^w))+E[11]+2304563134&4294967295,C=I+(M<<22&4294967295|M>>>10),M=w+(L^C&(I^L))+E[12]+1804603682&4294967295,w=C+(M<<7&4294967295|M>>>25),M=L+(I^w&(C^I))+E[13]+4254626195&4294967295,L=w+(M<<12&4294967295|M>>>20),M=I+(C^L&(w^C))+E[14]+2792965006&4294967295,I=L+(M<<17&4294967295|M>>>15),M=C+(w^I&(L^w))+E[15]+1236535329&4294967295,C=I+(M<<22&4294967295|M>>>10),M=w+(I^L&(C^I))+E[1]+4129170786&4294967295,w=C+(M<<5&4294967295|M>>>27),M=L+(C^I&(w^C))+E[6]+3225465664&4294967295,L=w+(M<<9&4294967295|M>>>23),M=I+(w^C&(L^w))+E[11]+643717713&4294967295,I=L+(M<<14&4294967295|M>>>18),M=C+(L^w&(I^L))+E[0]+3921069994&4294967295,C=I+(M<<20&4294967295|M>>>12),M=w+(I^L&(C^I))+E[5]+3593408605&4294967295,w=C+(M<<5&4294967295|M>>>27),M=L+(C^I&(w^C))+E[10]+38016083&4294967295,L=w+(M<<9&4294967295|M>>>23),M=I+(w^C&(L^w))+E[15]+3634488961&4294967295,I=L+(M<<14&4294967295|M>>>18),M=C+(L^w&(I^L))+E[4]+3889429448&4294967295,C=I+(M<<20&4294967295|M>>>12),M=w+(I^L&(C^I))+E[9]+568446438&4294967295,w=C+(M<<5&4294967295|M>>>27),M=L+(C^I&(w^C))+E[14]+3275163606&4294967295,L=w+(M<<9&4294967295|M>>>23),M=I+(w^C&(L^w))+E[3]+4107603335&4294967295,I=L+(M<<14&4294967295|M>>>18),M=C+(L^w&(I^L))+E[8]+1163531501&4294967295,C=I+(M<<20&4294967295|M>>>12),M=w+(I^L&(C^I))+E[13]+2850285829&4294967295,w=C+(M<<5&4294967295|M>>>27),M=L+(C^I&(w^C))+E[2]+4243563512&4294967295,L=w+(M<<9&4294967295|M>>>23),M=I+(w^C&(L^w))+E[7]+1735328473&4294967295,I=L+(M<<14&4294967295|M>>>18),M=C+(L^w&(I^L))+E[12]+2368359562&4294967295,C=I+(M<<20&4294967295|M>>>12),M=w+(C^I^L)+E[5]+4294588738&4294967295,w=C+(M<<4&4294967295|M>>>28),M=L+(w^C^I)+E[8]+2272392833&4294967295,L=w+(M<<11&4294967295|M>>>21),M=I+(L^w^C)+E[11]+1839030562&4294967295,I=L+(M<<16&4294967295|M>>>16),M=C+(I^L^w)+E[14]+4259657740&4294967295,C=I+(M<<23&4294967295|M>>>9),M=w+(C^I^L)+E[1]+2763975236&4294967295,w=C+(M<<4&4294967295|M>>>28),M=L+(w^C^I)+E[4]+1272893353&4294967295,L=w+(M<<11&4294967295|M>>>21),M=I+(L^w^C)+E[7]+4139469664&4294967295,I=L+(M<<16&4294967295|M>>>16),M=C+(I^L^w)+E[10]+3200236656&4294967295,C=I+(M<<23&4294967295|M>>>9),M=w+(C^I^L)+E[13]+681279174&4294967295,w=C+(M<<4&4294967295|M>>>28),M=L+(w^C^I)+E[0]+3936430074&4294967295,L=w+(M<<11&4294967295|M>>>21),M=I+(L^w^C)+E[3]+3572445317&4294967295,I=L+(M<<16&4294967295|M>>>16),M=C+(I^L^w)+E[6]+76029189&4294967295,C=I+(M<<23&4294967295|M>>>9),M=w+(C^I^L)+E[9]+3654602809&4294967295,w=C+(M<<4&4294967295|M>>>28),M=L+(w^C^I)+E[12]+3873151461&4294967295,L=w+(M<<11&4294967295|M>>>21),M=I+(L^w^C)+E[15]+530742520&4294967295,I=L+(M<<16&4294967295|M>>>16),M=C+(I^L^w)+E[2]+3299628645&4294967295,C=I+(M<<23&4294967295|M>>>9),M=w+(I^(C|~L))+E[0]+4096336452&4294967295,w=C+(M<<6&4294967295|M>>>26),M=L+(C^(w|~I))+E[7]+1126891415&4294967295,L=w+(M<<10&4294967295|M>>>22),M=I+(w^(L|~C))+E[14]+2878612391&4294967295,I=L+(M<<15&4294967295|M>>>17),M=C+(L^(I|~w))+E[5]+4237533241&4294967295,C=I+(M<<21&4294967295|M>>>11),M=w+(I^(C|~L))+E[12]+1700485571&4294967295,w=C+(M<<6&4294967295|M>>>26),M=L+(C^(w|~I))+E[3]+2399980690&4294967295,L=w+(M<<10&4294967295|M>>>22),M=I+(w^(L|~C))+E[10]+4293915773&4294967295,I=L+(M<<15&4294967295|M>>>17),M=C+(L^(I|~w))+E[1]+2240044497&4294967295,C=I+(M<<21&4294967295|M>>>11),M=w+(I^(C|~L))+E[8]+1873313359&4294967295,w=C+(M<<6&4294967295|M>>>26),M=L+(C^(w|~I))+E[15]+4264355552&4294967295,L=w+(M<<10&4294967295|M>>>22),M=I+(w^(L|~C))+E[6]+2734768916&4294967295,I=L+(M<<15&4294967295|M>>>17),M=C+(L^(I|~w))+E[13]+1309151649&4294967295,C=I+(M<<21&4294967295|M>>>11),M=w+(I^(C|~L))+E[4]+4149444226&4294967295,w=C+(M<<6&4294967295|M>>>26),M=L+(C^(w|~I))+E[11]+3174756917&4294967295,L=w+(M<<10&4294967295|M>>>22),M=I+(w^(L|~C))+E[2]+718787259&4294967295,I=L+(M<<15&4294967295|M>>>17),M=C+(L^(I|~w))+E[9]+3951481745&4294967295,A.g[0]=A.g[0]+w&4294967295,A.g[1]=A.g[1]+(I+(M<<21&4294967295|M>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+L&4294967295}i.prototype.v=function(A,w){w===void 0&&(w=A.length);const C=w-this.blockSize,E=this.C;let I=this.h,L=0;for(;L<w;){if(I==0)for(;L<=C;)s(this,A,L),L+=this.blockSize;if(typeof A=="string"){for(;L<w;)if(E[I++]=A.charCodeAt(L++),I==this.blockSize){s(this,E),I=0;break}}else for(;L<w;)if(E[I++]=A[L++],I==this.blockSize){s(this,E),I=0;break}}this.h=I,this.o+=w},i.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var w=1;w<A.length-8;++w)A[w]=0;w=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=w&255,w/=256;for(this.v(A),A=Array(16),w=0,C=0;C<4;++C)for(let E=0;E<32;E+=8)A[w++]=this.g[C]>>>E&255;return A};function r(A,w){var C=o;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=w(A)}function a(A,w){this.h=w;const C=[];let E=!0;for(let I=A.length-1;I>=0;I--){const L=A[I]|0;E&&L==w||(C[I]=L,E=!1)}this.g=C}var o={};function l(A){return-128<=A&&A<128?r(A,function(w){return new a([w|0],w<0?-1:0)}):new a([A|0],A<0?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return h;if(A<0)return v(c(-A));const w=[];let C=1;for(let E=0;A>=C;E++)w[E]=A/C|0,C*=4294967296;return new a(w,0)}function u(A,w){if(A.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(A.charAt(0)=="-")return v(u(A.substring(1),w));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=c(Math.pow(w,8));let E=h;for(let L=0;L<A.length;L+=8){var I=Math.min(8,A.length-L);const M=parseInt(A.substring(L,L+I),w);I<8?(I=c(Math.pow(w,I)),E=E.j(I).add(c(M))):(E=E.j(C),E=E.add(c(M)))}return E}var h=l(0),d=l(1),f=l(16777216);n=a.prototype,n.m=function(){if(g(this))return-v(this).m();let A=0,w=1;for(let C=0;C<this.g.length;C++){const E=this.i(C);A+=(E>=0?E:4294967296+E)*w,w*=4294967296}return A},n.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(g(this))return"-"+v(this).toString(A);const w=c(Math.pow(A,6));var C=this;let E="";for(;;){const I=_(C,w).g;C=x(C,I.j(w));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=I,m(C))return L+E;for(;L.length<6;)L="0"+L;E=L+E}},n.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(let w=0;w<A.g.length;w++)if(A.g[w]!=0)return!1;return!0}function g(A){return A.h==-1}n.l=function(A){return A=x(this,A),g(A)?-1:m(A)?0:1};function v(A){const w=A.g.length,C=[];for(let E=0;E<w;E++)C[E]=~A.g[E];return new a(C,~A.h).add(d)}n.abs=function(){return g(this)?v(this):this},n.add=function(A){const w=Math.max(this.g.length,A.g.length),C=[];let E=0;for(let I=0;I<=w;I++){let L=E+(this.i(I)&65535)+(A.i(I)&65535),M=(L>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);E=M>>>16,L&=65535,M&=65535,C[I]=M<<16|L}return new a(C,C[C.length-1]&-2147483648?-1:0)};function x(A,w){return A.add(v(w))}n.j=function(A){if(m(this)||m(A))return h;if(g(this))return g(A)?v(this).j(v(A)):v(v(this).j(A));if(g(A))return v(this.j(v(A)));if(this.l(f)<0&&A.l(f)<0)return c(this.m()*A.m());const w=this.g.length+A.g.length,C=[];for(var E=0;E<2*w;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(let I=0;I<A.g.length;I++){const L=this.i(E)>>>16,M=this.i(E)&65535,F=A.i(I)>>>16,B=A.i(I)&65535;C[2*E+2*I]+=M*B,y(C,2*E+2*I),C[2*E+2*I+1]+=L*B,y(C,2*E+2*I+1),C[2*E+2*I+1]+=M*F,y(C,2*E+2*I+1),C[2*E+2*I+2]+=L*F,y(C,2*E+2*I+2)}for(A=0;A<w;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=w;A<2*w;A++)C[A]=0;return new a(C,0)};function y(A,w){for(;(A[w]&65535)!=A[w];)A[w+1]+=A[w]>>>16,A[w]&=65535,w++}function b(A,w){this.g=A,this.h=w}function _(A,w){if(m(w))throw Error("division by zero");if(m(A))return new b(h,h);if(g(A))return w=_(v(A),w),new b(v(w.g),v(w.h));if(g(w))return w=_(A,v(w)),new b(v(w.g),w.h);if(A.g.length>30){if(g(A)||g(w))throw Error("slowDivide_ only works with positive integers.");for(var C=d,E=w;E.l(A)<=0;)C=k(C),E=k(E);var I=P(C,1),L=P(E,1);for(E=P(E,2),C=P(C,2);!m(E);){var M=L.add(E);M.l(A)<=0&&(I=I.add(C),L=M),E=P(E,1),C=P(C,1)}return w=x(A,I.j(w)),new b(I,w)}for(I=h;A.l(w)>=0;){for(C=Math.max(1,Math.floor(A.m()/w.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=E<=48?1:Math.pow(2,E-48),L=c(C),M=L.j(w);g(M)||M.l(A)>0;)C-=E,L=c(C),M=L.j(w);m(L)&&(L=d),I=I.add(L),A=x(A,M)}return new b(I,A)}n.B=function(A){return _(this,A).h},n.and=function(A){const w=Math.max(this.g.length,A.g.length),C=[];for(let E=0;E<w;E++)C[E]=this.i(E)&A.i(E);return new a(C,this.h&A.h)},n.or=function(A){const w=Math.max(this.g.length,A.g.length),C=[];for(let E=0;E<w;E++)C[E]=this.i(E)|A.i(E);return new a(C,this.h|A.h)},n.xor=function(A){const w=Math.max(this.g.length,A.g.length),C=[];for(let E=0;E<w;E++)C[E]=this.i(E)^A.i(E);return new a(C,this.h^A.h)};function k(A){const w=A.g.length+1,C=[];for(let E=0;E<w;E++)C[E]=A.i(E)<<1|A.i(E-1)>>>31;return new a(C,A.h)}function P(A,w){const C=w>>5;w%=32;const E=A.g.length-C,I=[];for(let L=0;L<E;L++)I[L]=w>0?A.i(L+C)>>>w|A.i(L+C+1)<<32-w:A.i(L+C);return new a(I,A.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,YC=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,gs=a}).apply(typeof $b<"u"?$b:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UC,Eo,$C,hu,fg,GC,qC,KC;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var S=0;S<p.length;++S){var T=p[S];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(p,S){if(S)e:{var T=i;p=p.split(".");for(var N=0;N<p.length-1;N++){var O=p[N];if(!(O in T))break e;T=T[O]}p=p[p.length-1],N=T[p],S=S(N),S!=N&&S!=null&&e(T,p,{configurable:!0,writable:!0,value:S})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(S){var T=[],N;for(N in S)Object.prototype.hasOwnProperty.call(S,N)&&T.push([N,S[N]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function o(p){var S=typeof p;return S=="object"&&p!=null||S=="function"}function l(p,S,T){return p.call.apply(p.bind,arguments)}function c(p,S,T){return c=l,c.apply(null,arguments)}function u(p,S){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function h(p,S){function T(){}T.prototype=S.prototype,p.Z=S.prototype,p.prototype=new T,p.prototype.constructor=p,p.Ob=function(N,O,z){for(var ee=Array(arguments.length-2),be=2;be<arguments.length;be++)ee[be-2]=arguments[be];return S.prototype[O].apply(N,ee)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function f(p){const S=p.length;if(S>0){const T=Array(S);for(let N=0;N<S;N++)T[N]=p[N];return T}return[]}function m(p,S){for(let N=1;N<arguments.length;N++){const O=arguments[N];var T=typeof O;if(T=T!="object"?T:O?Array.isArray(O)?"array":T:"null",T=="array"||T=="object"&&typeof O.length=="number"){T=p.length||0;const z=O.length||0;p.length=T+z;for(let ee=0;ee<z;ee++)p[T+ee]=O[ee]}else p.push(O)}}class g{constructor(S,T){this.i=S,this.j=T,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function v(p){a.setTimeout(()=>{throw p},0)}function x(){var p=A;let S=null;return p.g&&(S=p.g,p.g=p.g.next,p.g||(p.h=null),S.next=null),S}class y{constructor(){this.h=this.g=null}add(S,T){const N=b.get();N.set(S,T),this.h?this.h.next=N:this.g=N,this.h=N}}var b=new g(()=>new _,p=>p.reset());class _{constructor(){this.next=this.g=this.h=null}set(S,T){this.h=S,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let k,P=!1,A=new y,w=()=>{const p=Promise.resolve(void 0);k=()=>{p.then(C)}};function C(){for(var p;p=x();){try{p.h.call(p.g)}catch(T){v(T)}var S=b;S.j(p),S.h<100&&(S.h++,p.next=S.g,S.g=p)}P=!1}function E(){this.u=this.u,this.C=this.C}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(p,S){this.type=p,this.g=this.target=S,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,S=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const T=()=>{};a.addEventListener("test",T,S),a.removeEventListener("test",T,S)}catch{}return p}();function M(p){return/^[\s\xa0]*$/.test(p)}function F(p,S){I.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,S)}h(F,I),F.prototype.init=function(p,S){const T=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=S,S=p.relatedTarget,S||(T=="mouseover"?S=p.fromElement:T=="mouseout"&&(S=p.toElement)),this.relatedTarget=S,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var B="closure_listenable_"+(Math.random()*1e6|0),$=0;function Y(p,S,T,N,O){this.listener=p,this.proxy=null,this.src=S,this.type=T,this.capture=!!N,this.ha=O,this.key=++$,this.da=this.fa=!1}function V(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function X(p,S,T){for(const N in p)S.call(T,p[N],N,p)}function G(p,S){for(const T in p)S.call(void 0,p[T],T,p)}function J(p){const S={};for(const T in p)S[T]=p[T];return S}const re="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ke(p,S){let T,N;for(let O=1;O<arguments.length;O++){N=arguments[O];for(T in N)p[T]=N[T];for(let z=0;z<re.length;z++)T=re[z],Object.prototype.hasOwnProperty.call(N,T)&&(p[T]=N[T])}}function oe(p){this.src=p,this.g={},this.h=0}oe.prototype.add=function(p,S,T,N,O){const z=p.toString();p=this.g[z],p||(p=this.g[z]=[],this.h++);const ee=de(p,S,N,O);return ee>-1?(S=p[ee],T||(S.fa=!1)):(S=new Y(S,this.src,z,!!N,O),S.fa=T,p.push(S)),S};function Ee(p,S){const T=S.type;if(T in p.g){var N=p.g[T],O=Array.prototype.indexOf.call(N,S,void 0),z;(z=O>=0)&&Array.prototype.splice.call(N,O,1),z&&(V(S),p.g[T].length==0&&(delete p.g[T],p.h--))}}function de(p,S,T,N){for(let O=0;O<p.length;++O){const z=p[O];if(!z.da&&z.listener==S&&z.capture==!!T&&z.ha==N)return O}return-1}var fe="closure_lm_"+(Math.random()*1e6|0),we={};function je(p,S,T,N,O){if(Array.isArray(S)){for(let z=0;z<S.length;z++)je(p,S[z],T,N,O);return null}return T=me(T),p&&p[B]?p.J(S,T,o(N)?!!N.capture:!1,O):Ue(p,S,T,!1,N,O)}function Ue(p,S,T,N,O,z){if(!S)throw Error("Invalid event type");const ee=o(O)?!!O.capture:!!O;let be=Sr(p);if(be||(p[fe]=be=new oe(p)),T=be.add(S,T,N,ee,z),T.proxy)return T;if(N=mt(),T.proxy=N,N.src=p,N.listener=T,p.addEventListener)L||(O=ee),O===void 0&&(O=!1),p.addEventListener(S.toString(),N,O);else if(p.attachEvent)p.attachEvent(Jt(S.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function mt(){function p(T){return S.call(p.src,p.listener,T)}const S=Ar;return p}function Ae(p,S,T,N,O){if(Array.isArray(S))for(var z=0;z<S.length;z++)Ae(p,S[z],T,N,O);else N=o(N)?!!N.capture:!!N,T=me(T),p&&p[B]?(p=p.i,z=String(S).toString(),z in p.g&&(S=p.g[z],T=de(S,T,N,O),T>-1&&(V(S[T]),Array.prototype.splice.call(S,T,1),S.length==0&&(delete p.g[z],p.h--)))):p&&(p=Sr(p))&&(S=p.g[S.toString()],p=-1,S&&(p=de(S,T,N,O)),(T=p>-1?S[p]:null)&&ot(T))}function ot(p){if(typeof p!="number"&&p&&!p.da){var S=p.src;if(S&&S[B])Ee(S.i,p);else{var T=p.type,N=p.proxy;S.removeEventListener?S.removeEventListener(T,N,p.capture):S.detachEvent?S.detachEvent(Jt(T),N):S.addListener&&S.removeListener&&S.removeListener(N),(T=Sr(S))?(Ee(T,p),T.h==0&&(T.src=null,S[fe]=null)):V(p)}}}function Jt(p){return p in we?we[p]:we[p]="on"+p}function Ar(p,S){if(p.da)p=!0;else{S=new F(S,this);const T=p.listener,N=p.ha||p.src;p.fa&&ot(p),p=T.call(N,S)}return p}function Sr(p){return p=p[fe],p instanceof oe?p:null}var H="__closure_events_fn_"+(Math.random()*1e9>>>0);function me(p){return typeof p=="function"?p:(p[H]||(p[H]=function(S){return p.handleEvent(S)}),p[H])}function le(){E.call(this),this.i=new oe(this),this.M=this,this.G=null}h(le,E),le.prototype[B]=!0,le.prototype.removeEventListener=function(p,S,T,N){Ae(this,p,S,T,N)};function ce(p,S){var T,N=p.G;if(N)for(T=[];N;N=N.G)T.push(N);if(p=p.M,N=S.type||S,typeof S=="string")S=new I(S,p);else if(S instanceof I)S.target=S.target||p;else{var O=S;S=new I(N,p),ke(S,O)}O=!0;let z,ee;if(T)for(ee=T.length-1;ee>=0;ee--)z=S.g=T[ee],O=$e(z,N,!0,S)&&O;if(z=S.g=p,O=$e(z,N,!0,S)&&O,O=$e(z,N,!1,S)&&O,T)for(ee=0;ee<T.length;ee++)z=S.g=T[ee],O=$e(z,N,!1,S)&&O}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var p=this.i;for(const S in p.g){const T=p.g[S];for(let N=0;N<T.length;N++)V(T[N]);delete p.g[S],p.h--}}this.G=null},le.prototype.J=function(p,S,T,N){return this.i.add(String(p),S,!1,T,N)},le.prototype.K=function(p,S,T,N){return this.i.add(String(p),S,!0,T,N)};function $e(p,S,T,N){if(S=p.i.g[String(S)],!S)return!0;S=S.concat();let O=!0;for(let z=0;z<S.length;++z){const ee=S[z];if(ee&&!ee.da&&ee.capture==T){const be=ee.listener,bt=ee.ha||ee.src;ee.fa&&Ee(p.i,ee),O=be.call(bt,N)!==!1&&O}}return O&&!N.defaultPrevented}function en(p,S){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=c(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:a.setTimeout(p,S||0)}function Ge(p){p.g=en(()=>{p.g=null,p.i&&(p.i=!1,Ge(p))},p.l);const S=p.h;p.h=null,p.m.apply(null,S)}class bi extends E{constructor(S,T){super(),this.m=S,this.l=T,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Ge(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hn(p){E.call(this),this.h=p,this.g={}}h(Hn,E);var kr=[];function sc(p){X(p.g,function(S,T){this.g.hasOwnProperty(T)&&ot(S)},p),p.g={}}Hn.prototype.N=function(){Hn.Z.N.call(this),sc(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rc=a.JSON.stringify,Zh=a.JSON.parse,Jh=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Wa(){}function ed(){}var ji={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ya(){I.call(this,"d")}h(Ya,I);function Xt(){I.call(this,"c")}h(Xt,I);var Xn={},Qx=null;function ac(){return Qx=Qx||new le}Xn.Ia="serverreachability";function Zx(p){I.call(this,Xn.Ia,p)}h(Zx,I);function Ua(p){const S=ac();ce(S,new Zx(S))}Xn.STAT_EVENT="statevent";function Jx(p,S){I.call(this,Xn.STAT_EVENT,p),this.stat=S}h(Jx,I);function tn(p){const S=ac();ce(S,new Jx(S,p))}Xn.Ja="timingevent";function ey(p,S){I.call(this,Xn.Ja,p),this.size=S}h(ey,I);function $a(p,S){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},S)}function Ga(){this.g=!0}Ga.prototype.ua=function(){this.g=!1};function vT(p,S,T,N,O,z){p.info(function(){if(p.g)if(z){var ee="",be=z.split("&");for(let Xe=0;Xe<be.length;Xe++){var bt=be[Xe].split("=");if(bt.length>1){const Tt=bt[0];bt=bt[1];const ai=Tt.split("_");ee=ai.length>=2&&ai[1]=="type"?ee+(Tt+"="+bt+"&"):ee+(Tt+"=redacted&")}}}else ee=null;else ee=z;return"XMLHTTP REQ ("+N+") [attempt "+O+"]: "+S+`
`+T+`
`+ee})}function bT(p,S,T,N,O,z,ee){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+O+"]: "+S+`
`+T+`
`+z+" "+ee})}function Cr(p,S,T,N){p.info(function(){return"XMLHTTP TEXT ("+S+"): "+AT(p,T)+(N?" "+N:"")})}function wT(p,S){p.info(function(){return"TIMEOUT: "+S})}Ga.prototype.info=function(){};function AT(p,S){if(!p.g)return S;if(!S)return null;try{const z=JSON.parse(S);if(z){for(p=0;p<z.length;p++)if(Array.isArray(z[p])){var T=z[p];if(!(T.length<2)){var N=T[1];if(Array.isArray(N)&&!(N.length<1)){var O=N[0];if(O!="noop"&&O!="stop"&&O!="close")for(let ee=1;ee<N.length;ee++)N[ee]=""}}}}return rc(z)}catch{return S}}var oc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ty={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ny;function td(){}h(td,Wa),td.prototype.g=function(){return new XMLHttpRequest},ny=new td;function qa(p){return encodeURIComponent(String(p))}function ST(p){var S=1;p=p.split(":");const T=[];for(;S>0&&p.length;)T.push(p.shift()),S--;return p.length&&T.push(p.join(":")),T}function Bi(p,S,T,N){this.j=p,this.i=S,this.l=T,this.S=N||1,this.V=new Hn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new iy}function iy(){this.i=null,this.g="",this.h=!1}var sy={},nd={};function id(p,S,T){p.M=1,p.A=cc(ri(S)),p.u=T,p.R=!0,ry(p,null)}function ry(p,S){p.F=Date.now(),lc(p),p.B=ri(p.A);var T=p.B,N=p.S;Array.isArray(N)||(N=[String(N)]),yy(T.i,"t",N),p.C=0,T=p.j.L,p.h=new iy,p.g=Oy(p.j,T?S:null,!p.u),p.P>0&&(p.O=new bi(c(p.Y,p,p.g),p.P)),S=p.V,T=p.g,N=p.ba;var O="readystatechange";Array.isArray(O)||(O&&(kr[0]=O.toString()),O=kr);for(let z=0;z<O.length;z++){const ee=je(T,O[z],N||S.handleEvent,!1,S.h||S);if(!ee)break;S.g[ee.key]=ee}S=p.J?J(p.J):{},p.u?(p.v||(p.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,S)):(p.v="GET",p.g.ea(p.B,p.v,null,S)),Ua(),vT(p.i,p.v,p.B,p.l,p.S,p.u)}Bi.prototype.ba=function(p){p=p.target;const S=this.O;S&&Wi(p)==3?S.j():this.Y(p)},Bi.prototype.Y=function(p){try{if(p==this.g)e:{const be=Wi(this.g),bt=this.g.ya(),Xe=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||Cy(this.g)))){this.K||be!=4||bt==7||(bt==8||Xe<=0?Ua(3):Ua(2)),sd(this);var S=this.g.ca();this.X=S;var T=kT(this);if(this.o=S==200,bT(this.i,this.v,this.B,this.l,this.S,be,S),this.o){if(this.U&&!this.L){t:{if(this.g){var N,O=this.g;if((N=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(N)){var z=N;break t}}z=null}if(p=z)Cr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rd(this,p);else{this.o=!1,this.m=3,tn(12),Ls(this),Ka(this);break e}}if(this.R){p=!0;let Tt;for(;!this.K&&this.C<T.length;)if(Tt=CT(this,T),Tt==nd){be==4&&(this.m=4,tn(14),p=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==sy){this.m=4,tn(15),Cr(this.i,this.l,T,"[Invalid Chunk]"),p=!1;break}else Cr(this.i,this.l,Tt,null),rd(this,Tt);if(ay(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||T.length!=0||this.h.h||(this.m=1,tn(16),p=!1),this.o=this.o&&p,!p)Cr(this.i,this.l,T,"[Invalid Chunked Response]"),Ls(this),Ka(this);else if(T.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),fd(ee),ee.P=!0,tn(11))}}else Cr(this.i,this.l,T,null),rd(this,T);be==4&&Ls(this),this.o&&!this.K&&(be==4?My(this.j,this):(this.o=!1,lc(this)))}else zT(this.g),S==400&&T.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),Ls(this),Ka(this)}}}catch{}finally{}};function kT(p){if(!ay(p))return p.g.la();const S=Cy(p.g);if(S==="")return"";let T="";const N=S.length,O=Wi(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ls(p),Ka(p),"";p.h.i=new a.TextDecoder}for(let z=0;z<N;z++)p.h.h=!0,T+=p.h.i.decode(S[z],{stream:!(O&&z==N-1)});return S.length=0,p.h.g+=T,p.C=0,p.h.g}function ay(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function CT(p,S){var T=p.C,N=S.indexOf(`
`,T);return N==-1?nd:(T=Number(S.substring(T,N)),isNaN(T)?sy:(N+=1,N+T>S.length?nd:(S=S.slice(N,N+T),p.C=N+T,S)))}Bi.prototype.cancel=function(){this.K=!0,Ls(this)};function lc(p){p.T=Date.now()+p.H,oy(p,p.H)}function oy(p,S){if(p.D!=null)throw Error("WatchDog timer not null");p.D=$a(c(p.aa,p),S)}function sd(p){p.D&&(a.clearTimeout(p.D),p.D=null)}Bi.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(wT(this.i,this.B),this.M!=2&&(Ua(),tn(17)),Ls(this),this.m=2,Ka(this)):oy(this,this.T-p)};function Ka(p){p.j.I==0||p.K||My(p.j,p)}function Ls(p){sd(p);var S=p.O;S&&typeof S.dispose=="function"&&S.dispose(),p.O=null,sc(p.V),p.g&&(S=p.g,p.g=null,S.abort(),S.dispose())}function rd(p,S){try{var T=p.j;if(T.I!=0&&(T.g==p||ad(T.h,p))){if(!p.L&&ad(T.h,p)&&T.I==3){try{var N=T.Ba.g.parse(S)}catch{N=null}if(Array.isArray(N)&&N.length==3){var O=N;if(O[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<p.F)pc(T),dc(T);else break e;dd(T),tn(18)}}else T.xa=O[1],0<T.xa-T.K&&O[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=$a(c(T.Va,T),6e3));uy(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ds(T,11)}else if((p.L||T.g==p)&&pc(T),!M(S))for(O=T.Ba.g.parse(S),S=0;S<O.length;S++){let Xe=O[S];const Tt=Xe[0];if(!(Tt<=T.K))if(T.K=Tt,Xe=Xe[1],T.I==2)if(Xe[0]=="c"){T.M=Xe[1],T.ba=Xe[2];const ai=Xe[3];ai!=null&&(T.ka=ai,T.j.info("VER="+T.ka));const Os=Xe[4];Os!=null&&(T.za=Os,T.j.info("SVER="+T.za));const Yi=Xe[5];Yi!=null&&typeof Yi=="number"&&Yi>0&&(N=1.5*Yi,T.O=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Ui=p.g;if(Ui){const mc=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mc){var z=N.h;z.g||mc.indexOf("spdy")==-1&&mc.indexOf("quic")==-1&&mc.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(od(z,z.h),z.h=null))}if(N.G){const pd=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;pd&&(N.wa=pd,qe(N.J,N.G,pd))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-p.F,T.j.info("Handshake RTT: "+T.T+"ms")),N=T;var ee=p;if(N.na=Dy(N,N.L?N.ba:null,N.W),ee.L){hy(N.h,ee);var be=ee,bt=N.O;bt&&(be.H=bt),be.D&&(sd(be),lc(be)),N.g=ee}else Iy(N);T.i.length>0&&fc(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Ds(T,7);else T.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ds(T,7):hd(T):Xe[0]!="noop"&&T.l&&T.l.qa(Xe),T.A=0)}}Ua(4)}catch{}}var _T=class{constructor(p,S){this.g=p,this.map=S}};function ly(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cy(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function uy(p){return p.h?1:p.g?p.g.size:0}function ad(p,S){return p.h?p.h==S:p.g?p.g.has(S):!1}function od(p,S){p.g?p.g.add(S):p.h=S}function hy(p,S){p.h&&p.h==S?p.h=null:p.g&&p.g.has(S)&&p.g.delete(S)}ly.prototype.cancel=function(){if(this.i=dy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function dy(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let S=p.i;for(const T of p.g.values())S=S.concat(T.G);return S}return f(p.i)}var fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TT(p,S){if(p){p=p.split("&");for(let T=0;T<p.length;T++){const N=p[T].indexOf("=");let O,z=null;N>=0?(O=p[T].substring(0,N),z=p[T].substring(N+1)):O=p[T],S(O,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Hi(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;p instanceof Hi?(this.l=p.l,Qa(this,p.j),this.o=p.o,this.g=p.g,Za(this,p.u),this.h=p.h,ld(this,vy(p.i)),this.m=p.m):p&&(S=String(p).match(fy))?(this.l=!1,Qa(this,S[1]||"",!0),this.o=Ja(S[2]||""),this.g=Ja(S[3]||"",!0),Za(this,S[4]),this.h=Ja(S[5]||"",!0),ld(this,S[6]||"",!0),this.m=Ja(S[7]||"")):(this.l=!1,this.i=new to(null,this.l))}Hi.prototype.toString=function(){const p=[];var S=this.j;S&&p.push(eo(S,py,!0),":");var T=this.g;return(T||S=="file")&&(p.push("//"),(S=this.o)&&p.push(eo(S,py,!0),"@"),p.push(qa(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&p.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&p.push("/"),p.push(eo(T,T.charAt(0)=="/"?IT:PT,!0))),(T=this.i.toString())&&p.push("?",T),(T=this.m)&&p.push("#",eo(T,MT)),p.join("")},Hi.prototype.resolve=function(p){const S=ri(this);let T=!!p.j;T?Qa(S,p.j):T=!!p.o,T?S.o=p.o:T=!!p.g,T?S.g=p.g:T=p.u!=null;var N=p.h;if(T)Za(S,p.u);else if(T=!!p.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var O=S.h.lastIndexOf("/");O!=-1&&(N=S.h.slice(0,O+1)+N)}if(O=N,O==".."||O==".")N="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){N=O.lastIndexOf("/",0)==0,O=O.split("/");const z=[];for(let ee=0;ee<O.length;){const be=O[ee++];be=="."?N&&ee==O.length&&z.push(""):be==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),N&&ee==O.length&&z.push("")):(z.push(be),N=!0)}N=z.join("/")}else N=O}return T?S.h=N:T=p.i.toString()!=="",T?ld(S,vy(p.i)):T=!!p.m,T&&(S.m=p.m),S};function ri(p){return new Hi(p)}function Qa(p,S,T){p.j=T?Ja(S,!0):S,p.j&&(p.j=p.j.replace(/:$/,""))}function Za(p,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);p.u=S}else p.u=null}function ld(p,S,T){S instanceof to?(p.i=S,LT(p.i,p.l)):(T||(S=eo(S,RT)),p.i=new to(S,p.l))}function qe(p,S,T){p.i.set(S,T)}function cc(p){return qe(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ja(p,S){return p?S?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function eo(p,S,T){return typeof p=="string"?(p=encodeURI(p).replace(S,ET),T&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ET(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var py=/[#\/\?@]/g,PT=/[#\?:]/g,IT=/[#\?]/g,RT=/[#\?@]/g,MT=/#/g;function to(p,S){this.h=this.g=null,this.i=p||null,this.j=!!S}function Ns(p){p.g||(p.g=new Map,p.h=0,p.i&&TT(p.i,function(S,T){p.add(decodeURIComponent(S.replace(/\+/g," ")),T)}))}n=to.prototype,n.add=function(p,S){Ns(this),this.i=null,p=_r(this,p);let T=this.g.get(p);return T||this.g.set(p,T=[]),T.push(S),this.h+=1,this};function gy(p,S){Ns(p),S=_r(p,S),p.g.has(S)&&(p.i=null,p.h-=p.g.get(S).length,p.g.delete(S))}function my(p,S){return Ns(p),S=_r(p,S),p.g.has(S)}n.forEach=function(p,S){Ns(this),this.g.forEach(function(T,N){T.forEach(function(O){p.call(S,O,N,this)},this)},this)};function xy(p,S){Ns(p);let T=[];if(typeof S=="string")my(p,S)&&(T=T.concat(p.g.get(_r(p,S))));else for(p=Array.from(p.g.values()),S=0;S<p.length;S++)T=T.concat(p[S]);return T}n.set=function(p,S){return Ns(this),this.i=null,p=_r(this,p),my(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[S]),this.h+=1,this},n.get=function(p,S){return p?(p=xy(this,p),p.length>0?String(p[0]):S):S};function yy(p,S,T){gy(p,S),T.length>0&&(p.i=null,p.g.set(_r(p,S),f(T)),p.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],S=Array.from(this.g.keys());for(let N=0;N<S.length;N++){var T=S[N];const O=qa(T);T=xy(this,T);for(let z=0;z<T.length;z++){let ee=O;T[z]!==""&&(ee+="="+qa(T[z])),p.push(ee)}}return this.i=p.join("&")};function vy(p){const S=new to;return S.i=p.i,p.g&&(S.g=new Map(p.g),S.h=p.h),S}function _r(p,S){return S=String(S),p.j&&(S=S.toLowerCase()),S}function LT(p,S){S&&!p.j&&(Ns(p),p.i=null,p.g.forEach(function(T,N){const O=N.toLowerCase();N!=O&&(gy(this,N),yy(this,O,T))},p)),p.j=S}function NT(p,S){const T=new Ga;if(a.Image){const N=new Image;N.onload=u(Xi,T,"TestLoadImage: loaded",!0,S,N),N.onerror=u(Xi,T,"TestLoadImage: error",!1,S,N),N.onabort=u(Xi,T,"TestLoadImage: abort",!1,S,N),N.ontimeout=u(Xi,T,"TestLoadImage: timeout",!1,S,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else S(!1)}function DT(p,S){const T=new Ga,N=new AbortController,O=setTimeout(()=>{N.abort(),Xi(T,"TestPingServer: timeout",!1,S)},1e4);fetch(p,{signal:N.signal}).then(z=>{clearTimeout(O),z.ok?Xi(T,"TestPingServer: ok",!0,S):Xi(T,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(O),Xi(T,"TestPingServer: error",!1,S)})}function Xi(p,S,T,N,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),N(T)}catch{}}function OT(){this.g=new Jh}function cd(p){this.i=p.Sb||null,this.h=p.ab||!1}h(cd,Wa),cd.prototype.g=function(){return new uc(this.i,this.h)};function uc(p,S){le.call(this),this.H=p,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(uc,le),n=uc.prototype,n.open=function(p,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=S,this.readyState=1,io(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(S.body=p),(this.H||a).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,no(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;by(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function by(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var S=p.value?p.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!p.done}))&&(this.response=this.responseText+=S)}p.done?no(this):io(this),this.readyState==3&&by(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,no(this))},n.Na=function(p){this.g&&(this.response=p,no(this))},n.ga=function(){this.g&&no(this)};function no(p){p.readyState=4,p.l=null,p.j=null,p.B=null,io(p)}n.setRequestHeader=function(p,S){this.A.append(p,S)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],S=this.h.entries();for(var T=S.next();!T.done;)T=T.value,p.push(T[0]+": "+T[1]),T=S.next();return p.join(`\r
`)};function io(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function wy(p){let S="";return X(p,function(T,N){S+=N,S+=":",S+=T,S+=`\r
`}),S}function ud(p,S,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=wy(T),typeof p=="string"?T!=null&&qa(T):qe(p,S,T))}function lt(p){le.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(lt,le);var VT=/^https?$/i,FT=["POST","PUT"];n=lt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,S,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);S=S?S.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ny.g(),this.g.onreadystatechange=d(c(this.Ca,this));try{this.B=!0,this.g.open(S,String(p),!0),this.B=!1}catch(z){Ay(this,z);return}if(p=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var O in N)T.set(O,N[O]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const z of N.keys())T.set(z,N.get(z));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(z=>z.toLowerCase()=="content-type"),O=a.FormData&&p instanceof a.FormData,!(Array.prototype.indexOf.call(FT,S,void 0)>=0)||N||O||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of T)this.g.setRequestHeader(z,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(z){Ay(this,z)}};function Ay(p,S){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=S,p.o=5,Sy(p),hc(p)}function Sy(p){p.A||(p.A=!0,ce(p,"complete"),ce(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,ce(this,"complete"),ce(this,"abort"),hc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hc(this,!0)),lt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ky(this):this.Xa())},n.Xa=function(){ky(this)};function ky(p){if(p.h&&typeof r<"u"){if(p.v&&Wi(p)==4)setTimeout(p.Ca.bind(p),0);else if(ce(p,"readystatechange"),Wi(p)==4){p.h=!1;try{const z=p.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var T;if(!(T=S)){var N;if(N=z===0){let ee=String(p.D).match(fy)[1]||null;!ee&&a.self&&a.self.location&&(ee=a.self.location.protocol.slice(0,-1)),N=!VT.test(ee?ee.toLowerCase():"")}T=N}if(T)ce(p,"complete"),ce(p,"success");else{p.o=6;try{var O=Wi(p)>2?p.g.statusText:""}catch{O=""}p.l=O+" ["+p.ca()+"]",Sy(p)}}finally{hc(p)}}}}function hc(p,S){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const T=p.g;p.g=null,S||ce(p,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wi(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Wi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var S=this.g.responseText;return p&&S.indexOf(p)==0&&(S=S.substring(p.length)),Zh(S)}};function Cy(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function zT(p){const S={};p=(p.g&&Wi(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(M(p[N]))continue;var T=ST(p[N]);const O=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const z=S[O]||[];S[O]=z,z.push(T)}G(S,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function so(p,S,T){return T&&T.internalChannelParams&&T.internalChannelParams[p]||S}function _y(p){this.za=0,this.i=[],this.j=new Ga,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=so("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=so("baseRetryDelayMs",5e3,p),this.Za=so("retryDelaySeedMs",1e4,p),this.Ta=so("forwardChannelMaxRetries",2,p),this.va=so("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new ly(p&&p.concurrentRequestLimit),this.Ba=new OT,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=_y.prototype,n.ka=8,n.I=1,n.connect=function(p,S,T,N){tn(0),this.W=p,this.H=S||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.J=Dy(this,null,this.W),fc(this)};function hd(p){if(Ty(p),p.I==3){var S=p.V++,T=ri(p.J);if(qe(T,"SID",p.M),qe(T,"RID",S),qe(T,"TYPE","terminate"),ro(p,T),S=new Bi(p,p.j,S),S.M=2,S.A=cc(ri(T)),T=!1,a.navigator&&a.navigator.sendBeacon)try{T=a.navigator.sendBeacon(S.A.toString(),"")}catch{}!T&&a.Image&&(new Image().src=S.A,T=!0),T||(S.g=Oy(S.j,null),S.g.ea(S.A)),S.F=Date.now(),lc(S)}Ny(p)}function dc(p){p.g&&(fd(p),p.g.cancel(),p.g=null)}function Ty(p){dc(p),p.v&&(a.clearTimeout(p.v),p.v=null),pc(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&a.clearTimeout(p.m),p.m=null)}function fc(p){if(!cy(p.h)&&!p.m){p.m=!0;var S=p.Ea;k||w(),P||(k(),P=!0),A.add(S,p),p.D=0}}function jT(p,S){return uy(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=S.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=$a(c(p.Ea,p,S),Ly(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const O=new Bi(this,this.j,p);let z=this.o;if(this.U&&(z?(z=J(z),ke(z,this.U)):z=this.U),this.u!==null||this.R||(O.J=z,z=null),this.S)e:{for(var S=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(S+=N,S>4096){S=T;break e}if(S===4096||T===this.i.length-1){S=T+1;break e}}S=1e3}else S=1e3;S=Py(this,O,S),T=ri(this.J),qe(T,"RID",p),qe(T,"CVER",22),this.G&&qe(T,"X-HTTP-Session-Id",this.G),ro(this,T),z&&(this.R?S="headers="+qa(wy(z))+"&"+S:this.u&&ud(T,this.u,z)),od(this.h,O),this.Ra&&qe(T,"TYPE","init"),this.S?(qe(T,"$req",S),qe(T,"SID","null"),O.U=!0,id(O,T,null)):id(O,T,S),this.I=2}}else this.I==3&&(p?Ey(this,p):this.i.length==0||cy(this.h)||Ey(this))};function Ey(p,S){var T;S?T=S.l:T=p.V++;const N=ri(p.J);qe(N,"SID",p.M),qe(N,"RID",T),qe(N,"AID",p.K),ro(p,N),p.u&&p.o&&ud(N,p.u,p.o),T=new Bi(p,p.j,T,p.D+1),p.u===null&&(T.J=p.o),S&&(p.i=S.G.concat(p.i)),S=Py(p,T,1e3),T.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),od(p.h,T),id(T,N,S)}function ro(p,S){p.H&&X(p.H,function(T,N){qe(S,N,T)}),p.l&&X({},function(T,N){qe(S,N,T)})}function Py(p,S,T){T=Math.min(p.i.length,T);const N=p.l?c(p.l.Ka,p.l,p):null;e:{var O=p.i;let be=-1;for(;;){const bt=["count="+T];be==-1?T>0?(be=O[0].g,bt.push("ofs="+be)):be=0:bt.push("ofs="+be);let Xe=!0;for(let Tt=0;Tt<T;Tt++){var z=O[Tt].g;const ai=O[Tt].map;if(z-=be,z<0)be=Math.max(0,O[Tt].g-100),Xe=!1;else try{z="req"+z+"_"||"";try{var ee=ai instanceof Map?ai:Object.entries(ai);for(const[Os,Yi]of ee){let Ui=Yi;o(Yi)&&(Ui=rc(Yi)),bt.push(z+Os+"="+encodeURIComponent(Ui))}}catch(Os){throw bt.push(z+"type="+encodeURIComponent("_badmap")),Os}}catch{N&&N(ai)}}if(Xe){ee=bt.join("&");break e}}ee=void 0}return p=p.i.splice(0,T),S.G=p,ee}function Iy(p){if(!p.g&&!p.v){p.Y=1;var S=p.Da;k||w(),P||(k(),P=!0),A.add(S,p),p.A=0}}function dd(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=$a(c(p.Da,p),Ly(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Ry(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=$a(c(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),dc(this),Ry(this))};function fd(p){p.B!=null&&(a.clearTimeout(p.B),p.B=null)}function Ry(p){p.g=new Bi(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var S=ri(p.na);qe(S,"RID","rpc"),qe(S,"SID",p.M),qe(S,"AID",p.K),qe(S,"CI",p.F?"0":"1"),!p.F&&p.ia&&qe(S,"TO",p.ia),qe(S,"TYPE","xmlhttp"),ro(p,S),p.u&&p.o&&ud(S,p.u,p.o),p.O&&(p.g.H=p.O);var T=p.g;p=p.ba,T.M=1,T.A=cc(ri(S)),T.u=null,T.R=!0,ry(T,p)}n.Va=function(){this.C!=null&&(this.C=null,dc(this),dd(this),tn(19))};function pc(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function My(p,S){var T=null;if(p.g==S){pc(p),fd(p),p.g=null;var N=2}else if(ad(p.h,S))T=S.G,hy(p.h,S),N=1;else return;if(p.I!=0){if(S.o)if(N==1){T=S.u?S.u.length:0,S=Date.now()-S.F;var O=p.D;N=ac(),ce(N,new ey(N,T)),fc(p)}else Iy(p);else if(O=S.m,O==3||O==0&&S.X>0||!(N==1&&jT(p,S)||N==2&&dd(p)))switch(T&&T.length>0&&(S=p.h,S.i=S.i.concat(T)),O){case 1:Ds(p,5);break;case 4:Ds(p,10);break;case 3:Ds(p,6);break;default:Ds(p,2)}}}function Ly(p,S){let T=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(T*=2),T*S}function Ds(p,S){if(p.j.info("Error code "+S),S==2){var T=c(p.bb,p),N=p.Ua;const O=!N;N=new Hi(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qa(N,"https"),cc(N),O?NT(N.toString(),T):DT(N.toString(),T)}else tn(2);p.I=0,p.l&&p.l.pa(S),Ny(p),Ty(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function Ny(p){if(p.I=0,p.ja=[],p.l){const S=dy(p.h);(S.length!=0||p.i.length!=0)&&(m(p.ja,S),m(p.ja,p.i),p.h.i.length=0,f(p.i),p.i.length=0),p.l.oa()}}function Dy(p,S,T){var N=T instanceof Hi?ri(T):new Hi(T);if(N.g!="")S&&(N.g=S+"."+N.g),Za(N,N.u);else{var O=a.location;N=O.protocol,S=S?S+"."+O.hostname:O.hostname,O=+O.port;const z=new Hi(null);N&&Qa(z,N),S&&(z.g=S),O&&Za(z,O),T&&(z.h=T),N=z}return T=p.G,S=p.wa,T&&S&&qe(N,T,S),qe(N,"VER",p.ka),ro(p,N),N}function Oy(p,S,T){if(S&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=p.Aa&&!p.ma?new lt(new cd({ab:T})):new lt(p.ma),S.Fa(p.L),S}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vy(){}n=Vy.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function gc(){}gc.prototype.g=function(p,S){return new mn(p,S)};function mn(p,S){le.call(this),this.g=new _y(S),this.l=p,this.h=S&&S.messageUrlParams||null,p=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(p?p["X-WebChannel-Content-Type"]=S.messageContentType:p={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(p?p["X-WebChannel-Client-Profile"]=S.sa:p={"X-WebChannel-Client-Profile":S.sa}),this.g.U=p,(p=S&&S.Qb)&&!M(p)&&(this.g.u=p),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!M(S)&&(this.g.G=S,p=this.h,p!==null&&S in p&&(p=this.h,S in p&&delete p[S])),this.j=new Tr(this)}h(mn,le),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){hd(this.g)},mn.prototype.o=function(p){var S=this.g;if(typeof p=="string"){var T={};T.__data__=p,p=T}else this.v&&(T={},T.__data__=rc(p),p=T);S.i.push(new _T(S.Ya++,p)),S.I==3&&fc(S)},mn.prototype.N=function(){this.g.l=null,delete this.j,hd(this.g),delete this.g,mn.Z.N.call(this)};function Fy(p){Ya.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var S=p.__sm__;if(S){e:{for(const T in S){p=T;break e}p=void 0}(this.i=p)&&(p=this.i,S=S!==null&&p in S?S[p]:void 0),this.data=S}else this.data=p}h(Fy,Ya);function zy(){Xt.call(this),this.status=1}h(zy,Xt);function Tr(p){this.g=p}h(Tr,Vy),Tr.prototype.ra=function(){ce(this.g,"a")},Tr.prototype.qa=function(p){ce(this.g,new Fy(p))},Tr.prototype.pa=function(p){ce(this.g,new zy)},Tr.prototype.oa=function(){ce(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,KC=function(){return new gc},qC=function(){return ac()},GC=Xn,fg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},oc.NO_ERROR=0,oc.TIMEOUT=8,oc.HTTP_ERROR=6,hu=oc,ty.COMPLETE="complete",$C=ty,ed.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",le.prototype.listen=le.prototype.J,Eo=ed,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,UC=lt}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja="12.8.0";function uV(n){ja=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new zC("@firebase/firestore");function Rr(){return dr.logLevel}function ie(n,...e){if(dr.logLevel<=Ie.DEBUG){const t=e.map(bx);dr.debug(`Firestore (${ja}): ${n}`,...t)}}function Oi(n,...e){if(dr.logLevel<=Ie.ERROR){const t=e.map(bx);dr.error(`Firestore (${ja}): ${n}`,...t)}}function Sa(n,...e){if(dr.logLevel<=Ie.WARN){const t=e.map(bx);dr.warn(`Firestore (${ja}): ${n}`,...t)}}function bx(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,QC(n,i,t)}function QC(n,e,t){let i=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Oi(i),new Error(i)}function Ve(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||QC(e,s,i)}function ye(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends za{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class dV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fV{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let r=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ms,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=r;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},o=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ms)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ve(typeof i.accessToken=="string",31837,{l:i}),new ZC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class pV{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class gV{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new pV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$O(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);const i=r=>{r.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,ie("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Gb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=xV(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<t&&(i+=e.charAt(s[r]%62))}return i}}function _e(n,e){return n<e?-1:n>e?1:0}function pg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),r=e.charAt(i);if(s!==r)return _f(s)===_f(r)?_e(s,r):_f(s)?1:-1}return _e(n.length,e.length)}const yV=55296,vV=57343;function _f(n){const e=n.charCodeAt(0);return e>=yV&&e<=vV}function ka(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__name__";class ci{constructor(e,t,i){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ge(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const r=ci.compareSegments(e.get(s),t.get(s));if(r!==0)return r}return _e(e.length,t.length)}static compareSegments(e,t){const i=ci.isNumericId(e),s=ci.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ci.extractNumericId(e).compare(ci.extractNumericId(t)):pg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class nt extends ci{construct(e,t,i){return new nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae(K.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const bV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ci{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return bV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qb}static keyField(){return new Ot([qb])}static fromServerFormat(e){const t=[];let i="",s=0;const r=()=>{if(i.length===0)throw new ae(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;s<e.length;){const o=e[s];if(o==="\\"){if(s+1===e.length)throw new ae(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,s+=2}else o==="`"?(a=!a,s++):o!=="."||a?(i+=o,s++):(r(),s++)}if(r(),a)throw new ae(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(nt.fromString(e))}static fromName(e){return new he(nt.fromString(e).popFirst(5))}static empty(){return new he(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(n,e,t){if(!t)throw new ae(K.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function AV(n,e,t,i){if(e===!0&&i===!0)throw new ae(K.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Kb(n){if(!he.isDocumentKey(n))throw new ae(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ax(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge(12329,{type:typeof n})}function Il(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ax(n);throw new ae(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Jl(n,e){if(!JC(n))throw new ae(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,r="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(s&&typeof a!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){t=`Expected '${i}' field to equal '${r.value}'`;break}}if(t)throw new ae(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=-62135596800,Zb=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Zb);return new Qe(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Qb)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zb}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:vt("string",Qe._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Qe(0,0))}static max(){return new xe(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function SV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(i===1e9?new Qe(t+1,0):new Qe(t,i));return new Ss(s,he.empty(),e)}function kV(n){return new Ss(n.readTime,n.key,Rl)}class Ss{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ss(xe.min(),he.empty(),Rl)}static max(){return new Ss(xe.max(),he.empty(),Rl)}}function CV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=he.comparator(n.documentKey,e.documentKey),t!==0?t:_e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(n){if(n.code!==K.FAILED_PRECONDITION||n.message!==_V)throw n;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new U((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof U?t:U.resolve(t)}catch(t){return U.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):U.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):U.reject(t)}static resolve(e){return new U((t,i)=>{t(e)})}static reject(e){return new U((t,i)=>{i(e)})}static waitFor(e){return new U((t,i)=>{let s=0,r=0,a=!1;e.forEach(o=>{++s,o.next(()=>{++r,a&&r===s&&t()},l=>i(l))}),a=!0,r===s&&t()})}static or(e){let t=U.resolve(!1);for(const i of e)t=t.next(s=>s?U.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,r)=>{i.push(t.call(this,s,r))}),this.waitFor(i)}static mapArray(e,t){return new U((i,s)=>{const r=e.length,a=new Array(r);let o=0;for(let l=0;l<r;l++){const c=l;t(e[c]).next(u=>{a[c]=u,++o,o===r&&i(a)},u=>s(u))}})}static doWhile(e,t){return new U((i,s)=>{const r=()=>{e()===!0?t().next(()=>{r()},s):i()};r()})}}function EV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ha(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=-1;function Bh(n){return n==null}function sh(n){return n===0&&1/n==-1/0}function PV(n){return typeof n=="number"&&Number.isInteger(n)&&!sh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="";function IV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Jb(e)),e=RV(n.get(t),e);return Jb(e)}function RV(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":t+="";break;case e_:t+="";break;default:t+=r}}return t}function Jb(n){return n+e_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yr(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function t_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??Nt.RED,this.left=s??Nt.EMPTY,this.right=r??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,r){return new Nt(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,i,s,r){return this}insert(e,t,i){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tw(this.data.getIterator())}getIteratorFrom(e){return new tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new _t(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new n_("Invalid base64 string: "+r):r}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const MV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ks(n){if(Ve(!!n,39018),typeof n=="string"){let e=0;const t=MV.exec(n);if(Ve(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Cs(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="server_timestamp",s_="__type__",r_="__previous_value__",a_="__local_write_time__";function kx(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[s_])==null?void 0:i.stringValue)===i_}function Hh(n){const e=n.mapValue.fields[r_];return kx(e)?Hh(e):e}function Ml(n){const e=ks(n.mapValue.fields[a_].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,t,i,s,r,a,o,l,c,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u,this.apiKey=h}}const rh="(default)";class Ll{constructor(e,t){this.projectId=e,this.database=t||rh}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}function NV(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ae(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="__type__",DV="__max__",Hc={mapValue:{}},l_="__vector__",ah="value";function _s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kx(n)?4:VV(n)?9007199254740991:OV(n)?10:11:ge(28295,{value:n})}function yi(n,e){if(n===e)return!0;const t=_s(n);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ml(n).isEqual(Ml(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=ks(s.timestampValue),o=ks(r.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,r){return Cs(s.bytesValue).isEqual(Cs(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,r){return pt(s.geoPointValue.latitude)===pt(r.geoPointValue.latitude)&&pt(s.geoPointValue.longitude)===pt(r.geoPointValue.longitude)}(n,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return pt(s.integerValue)===pt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=pt(s.doubleValue),o=pt(r.doubleValue);return a===o?sh(a)===sh(o):isNaN(a)&&isNaN(o)}return!1}(n,e);case 9:return ka(n.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},o=r.mapValue.fields||{};if(ew(a)!==ew(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!yi(a[l],o[l])))return!1;return!0}(n,e);default:return ge(52216,{left:n})}}function Nl(n,e){return(n.values||[]).find(t=>yi(t,e))!==void 0}function Ca(n,e){if(n===e)return 0;const t=_s(n),i=_s(e);if(t!==i)return _e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return _e(n.booleanValue,e.booleanValue);case 2:return function(r,a){const o=pt(r.integerValue||r.doubleValue),l=pt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(n,e);case 3:return nw(n.timestampValue,e.timestampValue);case 4:return nw(Ml(n),Ml(e));case 5:return pg(n.stringValue,e.stringValue);case 6:return function(r,a){const o=Cs(r),l=Cs(a);return o.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const o=r.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=_e(o[c],l[c]);if(u!==0)return u}return _e(o.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const o=_e(pt(r.latitude),pt(a.latitude));return o!==0?o:_e(pt(r.longitude),pt(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return iw(n.arrayValue,e.arrayValue);case 10:return function(r,a){var d,f,m,g;const o=r.fields||{},l=a.fields||{},c=(d=o[ah])==null?void 0:d.arrayValue,u=(f=l[ah])==null?void 0:f.arrayValue,h=_e(((m=c==null?void 0:c.values)==null?void 0:m.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return h!==0?h:iw(c,u)}(n.mapValue,e.mapValue);case 11:return function(r,a){if(r===Hc.mapValue&&a===Hc.mapValue)return 0;if(r===Hc.mapValue)return 1;if(a===Hc.mapValue)return-1;const o=r.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=pg(l[h],u[h]);if(d!==0)return d;const f=Ca(o[l[h]],c[u[h]]);if(f!==0)return f}return _e(l.length,u.length)}(n.mapValue,e.mapValue);default:throw ge(23264,{he:t})}}function nw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _e(n,e);const t=ks(n),i=ks(e),s=_e(t.seconds,i.seconds);return s!==0?s:_e(t.nanos,i.nanos)}function iw(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const r=Ca(t[s],i[s]);if(r)return r}return _e(t.length,i.length)}function _a(n){return gg(n)}function gg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ks(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Cs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return he.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const r of t.values||[])s?s=!1:i+=",",i+=gg(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${gg(t.fields[a])}`;return s+"}"}(n.mapValue):ge(61005,{value:n})}function du(n){switch(_s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(n);return e?16+du(e):16;case 5:return 2*n.stringValue.length;case 6:return Cs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+du(r),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return yr(i.fields,(r,a)=>{s+=r.length+du(a)}),s}(n.mapValue);default:throw ge(13486,{value:n})}}function mg(n){return!!n&&"integerValue"in n}function Cx(n){return!!n&&"arrayValue"in n}function sw(n){return!!n&&"nullValue"in n}function rw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fu(n){return!!n&&"mapValue"in n}function OV(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[o_])==null?void 0:i.stringValue)===l_}function Go(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return yr(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Go(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Go(n.arrayValue.values[t]);return e}return{...n}}function VV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!fu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(t)}setAll(e){let t=Ot.emptyPath(),i={},s=[];e.forEach((a,o)=>{if(!t.isImmediateParentOf(o)){const l=this.getFieldsMap(t);this.applyChanges(l,i,s),i={},s=[],t=o.popLast()}a?i[o.lastSegment()]=Go(a):s.push(o.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,i,s)}delete(e){const t=this.field(e.popLast());fu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];fu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){yr(t,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Nn(Go(this.value))}}function c_(n){const e=[];return yr(n.fields,(t,i)=>{const s=new Ot([t]);if(fu(i)){const r=c_(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,s,r,a,o){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Kt(e,0,xe.min(),xe.min(),xe.min(),Nn.empty(),0)}static newFoundDocument(e,t,i,s){return new Kt(e,1,t,xe.min(),i,s,0)}static newNoDocument(e,t){return new Kt(e,2,t,xe.min(),xe.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,xe.min(),xe.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,t){this.position=e,this.inclusive=t}}function aw(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const r=e[s],a=n.position[s];if(r.field.isKeyField()?i=he.comparator(he.fromName(a.referenceValue),t.key):i=Ca(a,t.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function ow(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function FV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{}class St extends u_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new jV(e,t,i):t==="array-contains"?new XV(e,i):t==="in"?new WV(e,i):t==="not-in"?new YV(e,i):t==="array-contains-any"?new UV(e,i):new St(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new BV(e,i):new HV(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ca(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(Ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends u_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vi(e,t)}matches(e){return h_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h_(n){return n.op==="and"}function d_(n){return zV(n)&&h_(n)}function zV(n){for(const e of n.filters)if(e instanceof vi)return!1;return!0}function xg(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+_a(n.value);if(d_(n))return n.filters.map(e=>xg(e)).join(",");{const e=n.filters.map(t=>xg(t)).join(",");return`${n.op}(${e})`}}function f_(n,e){return n instanceof St?function(i,s){return s instanceof St&&i.op===s.op&&i.field.isEqual(s.field)&&yi(i.value,s.value)}(n,e):n instanceof vi?function(i,s){return s instanceof vi&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,o)=>r&&f_(a,s.filters[o]),!0):!1}(n,e):void ge(19439)}function p_(n){return n instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${_a(t.value)}`}(n):n instanceof vi?function(t){return t.op.toString()+" {"+t.getFilters().map(p_).join(" ,")+"}"}(n):"Filter"}class jV extends St{constructor(e,t,i){super(e,t,i),this.key=he.fromName(i.referenceValue)}matches(e){const t=he.comparator(e.key,this.key);return this.matchesComparison(t)}}class BV extends St{constructor(e,t){super(e,"in",t),this.keys=g_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HV extends St{constructor(e,t){super(e,"not-in",t),this.keys=g_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function g_(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(i=>he.fromName(i.referenceValue))}class XV extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cx(t)&&Nl(t.arrayValue,this.value)}}class WV extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Nl(this.value.arrayValue,t)}}class YV extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Nl(this.value.arrayValue,t)}}class UV extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cx(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Nl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,t=null,i=[],s=[],r=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=o,this.Te=null}}function lw(n,e=null,t=[],i=[],s=null,r=null,a=null){return new $V(n,e,t,i,s,r,a)}function _x(n){const e=ye(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>xg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>_a(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>_a(i)).join(",")),e.Te=t}return e.Te}function Tx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!FV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!f_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ow(n.startAt,e.startAt)&&ow(n.endAt,e.endAt)}function yg(n){return he.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t=null,i=[],s=[],r=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GV(n,e,t,i,s,r,a,o){return new Xh(n,e,t,i,s,r,a,o)}function Ex(n){return new Xh(n)}function cw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function qV(n){return he.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function KV(n){return n.collectionGroup!==null}function qo(n){const e=ye(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),t.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new _t(Ot.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new lh(r,i))}),t.has(Ot.keyField().canonicalString())||e.Ie.push(new lh(Ot.keyField(),i))}return e.Ie}function gi(n){const e=ye(n);return e.Ee||(e.Ee=QV(e,qo(n))),e.Ee}function QV(n,e){if(n.limitType==="F")return lw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new lh(s.field,r)});const t=n.endAt?new oh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new oh(n.startAt.position,n.startAt.inclusive):null;return lw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vg(n,e,t){return new Xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wh(n,e){return Tx(gi(n),gi(e))&&n.limitType===e.limitType}function m_(n){return`${_x(gi(n))}|lt:${n.limitType}`}function Mr(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>p_(s)).join(", ")}]`),Bh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>_a(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>_a(s)).join(",")),`Target(${i})`}(gi(n))}; limitType=${n.limitType})`}function Yh(n,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):he.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,s){for(const r of qo(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(a,o,l){const c=aw(a,o,l);return a.inclusive?c<=0:c<0}(i.startAt,qo(i),s)||i.endAt&&!function(a,o,l){const c=aw(a,o,l);return a.inclusive?c>=0:c>0}(i.endAt,qo(i),s))}(n,e)}function ZV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function x_(n){return(e,t)=>{let i=!1;for(const s of qo(n)){const r=JV(s,e,t);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function JV(n,e,t){const i=n.field.isKeyField()?he.comparator(e.key,t.key):function(r,a,o){const l=a.data.field(r),c=o.data.field(r);return l!==null&&c!==null?Ca(l,c):ge(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ge(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,(t,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return t_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=new at(he.comparator);function Vi(){return eF}const y_=new at(he.comparator);function Po(...n){let e=y_;for(const t of n)e=e.insert(t.key,t);return e}function v_(n){let e=y_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Js(){return Ko()}function b_(){return Ko()}function Ko(){return new vr(n=>n.toString(),(n,e)=>n.isEqual(e))}const tF=new at(he.comparator),nF=new _t(he.comparator);function Te(...n){let e=nF;for(const t of n)e=e.add(t);return e}const iF=new _t(_e);function sF(){return iF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function w_(n){return{integerValue:""+n}}function rF(n,e){return PV(e)?w_(e):Px(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function aF(n,e,t){return n instanceof ch?function(s,r){const a={fields:{[s_]:{stringValue:i_},[a_]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&kx(r)&&(r=Hh(r)),r&&(a.fields[r_]=r),{mapValue:a}}(t,e):n instanceof Dl?S_(n,e):n instanceof Ol?k_(n,e):function(s,r){const a=A_(s,r),o=uw(a)+uw(s.Ae);return mg(a)&&mg(s.Ae)?w_(o):Px(s.serializer,o)}(n,e)}function oF(n,e,t){return n instanceof Dl?S_(n,e):n instanceof Ol?k_(n,e):t}function A_(n,e){return n instanceof uh?function(i){return mg(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class ch extends Uh{}class Dl extends Uh{constructor(e){super(),this.elements=e}}function S_(n,e){const t=C_(e);for(const i of n.elements)t.some(s=>yi(s,i))||t.push(i);return{arrayValue:{values:t}}}class Ol extends Uh{constructor(e){super(),this.elements=e}}function k_(n,e){let t=C_(e);for(const i of n.elements)t=t.filter(s=>!yi(s,i));return{arrayValue:{values:t}}}class uh extends Uh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function uw(n){return pt(n.integerValue||n.doubleValue)}function C_(n){return Cx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function lF(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Dl&&s instanceof Dl||i instanceof Ol&&s instanceof Ol?ka(i.elements,s.elements,yi):i instanceof uh&&s instanceof uh?yi(i.Ae,s.Ae):i instanceof ch&&s instanceof ch}(n.transform,e.transform)}class cF{constructor(e,t){this.version=e,this.transformResults=t}}class Pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class $h{}function __(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new E_(n.key,Pi.none()):new ec(n.key,n.data,Pi.none());{const t=n.data,i=Nn.empty();let s=new _t(Ot.comparator);for(let r of e.fields)if(!s.has(r)){let a=t.field(r);a===null&&r.length>1&&(r=r.popLast(),a=t.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new br(n.key,i,new Jn(s.toArray()),Pi.none())}}function uF(n,e,t){n instanceof ec?function(s,r,a){const o=s.value.clone(),l=dw(s.fieldTransforms,r,a.transformResults);o.setAll(l),r.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(n,e,t):n instanceof br?function(s,r,a){if(!pu(s.precondition,r))return void r.convertToUnknownDocument(a.version);const o=dw(s.fieldTransforms,r,a.transformResults),l=r.data;l.setAll(T_(s)),l.setAll(o),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function Qo(n,e,t,i){return n instanceof ec?function(r,a,o,l){if(!pu(r.precondition,a))return o;const c=r.value.clone(),u=fw(r.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof br?function(r,a,o,l){if(!pu(r.precondition,a))return o;const c=fw(r.fieldTransforms,l,a),u=a.data;return u.setAll(T_(r)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(n,e,t,i):function(r,a,o){return pu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(n,e,t)}function hF(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),r=A_(i.transform,s||null);r!=null&&(t===null&&(t=Nn.empty()),t.set(i.field,r))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&ka(i,s,(r,a)=>lF(r,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ec extends $h{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class br extends $h{constructor(e,t,i,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function T_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function dw(n,e,t){const i=new Map;Ve(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const r=n[s],a=r.transform,o=e.data.field(r.field);i.set(r.field,oF(a,o,t[s]))}return i}function fw(n,e,t){const i=new Map;for(const s of n){const r=s.transform,a=t.data.field(s.field);i.set(s.field,aF(r,a,e))}return i}class E_ extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dF extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&uF(r,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Qo(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Qo(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=b_();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let o=this.applyToLocalView(a,r.mutatedFields);o=t.has(s.key)?null:o;const l=__(a,o);l!==null&&i.set(s.key,l),a.isValidDocument()||a.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Te())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(t,i)=>hw(t,i))&&ka(this.baseMutations,e.baseMutations,(t,i)=>hw(t,i))}}class Ix{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Ve(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return tF}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new Ix(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt,Pe;function mF(n){switch(n){case K.OK:return ge(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ge(15467,{code:n})}}function P_(n){if(n===void 0)return Oi("GRPC error has no .code"),K.UNKNOWN;switch(n){case xt.OK:return K.OK;case xt.CANCELLED:return K.CANCELLED;case xt.UNKNOWN:return K.UNKNOWN;case xt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case xt.INTERNAL:return K.INTERNAL;case xt.UNAVAILABLE:return K.UNAVAILABLE;case xt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case xt.NOT_FOUND:return K.NOT_FOUND;case xt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case xt.ABORTED:return K.ABORTED;case xt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case xt.DATA_LOSS:return K.DATA_LOSS;default:return ge(39323,{code:n})}}(Pe=xt||(xt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new gs([4294967295,4294967295],0);function pw(n){const e=xF().encode(n),t=new YC;return t.update(e),new Uint8Array(t.digest())}function gw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new gs([t,i],0),new gs([s,r],0)]}class Rx{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Io(`Invalid padding: ${t}`);if(i<0)throw new Io(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Io(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Io(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=gs.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(gs.fromNumber(i)));return s.compare(yF)===1&&(s=new gs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=pw(e),[i,s]=gw(t);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);if(!this.we(a))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new Rx(r,s,t);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const t=pw(e),[i,s]=gw(t);for(let r=0;r<this.hashCount;r++){const a=this.ye(i,s,r);this.be(a)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,i,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,tc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Gh(xe.min(),s,new at(_e),Vi(),Te())}}class tc{constructor(e,t,i,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new tc(i,t,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t,i,s){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=s}}class I_{constructor(e,t){this.targetId=e,this.Ce=t}}class R_{constructor(e,t,i=Bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class mw{constructor(){this.ve=0,this.Fe=xw(),this.Me=Bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Te(),t=Te(),i=Te();return this.Fe.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ge(38017,{changeType:r})}}),new tc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=xw()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class vF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Vi(),this.He=Xc(),this.Je=Xc(),this.Ze=new at(_e)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const r=s.target;if(yg(r))if(i===0){const a=new he(r.path);this.et(t,a,Kt.newNoDocument(a,xe.min()))}else Ve(i===1,20013,{expectedCount:i});else{const a=this._t(t);if(a!==i){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,c)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=t;let a,o;try{a=Cs(i).toUint8Array()}catch(l){if(l instanceof n_)return Sa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Rx(a,s,r)}catch(l){return Sa(l instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(o)||(this.et(t,r,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((r,a)=>{const o=this.ot(a);if(o){if(r.current&&yg(o.target)){const l=new he(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Kt.newNoDocument(l,e))}r.Be&&(t.set(a,r.ke()),r.Ke())}});let i=Te();this.Je.forEach((r,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const s=new Gh(e,t,this.Ze,this.je,i);return this.je=Vi(),this.He=Xc(),this.Je=Xc(),this.Ze=new at(_e),s}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new mw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new _t(_e),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new _t(_e),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new mw),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new at(he.comparator)}function xw(){return new at(he.comparator)}const bF={asc:"ASCENDING",desc:"DESCENDING"},wF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AF={and:"AND",or:"OR"};class SF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bg(n,e){return n.useProto3Json||Bh(e)?e:{value:e}}function hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kF(n,e){return hh(n,e.toTimestamp())}function mi(n){return Ve(!!n,49232),xe.fromTimestamp(function(t){const i=ks(t);return new Qe(i.seconds,i.nanos)}(n))}function Mx(n,e){return wg(n,e).canonicalString()}function wg(n,e){const t=function(s){return new nt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function L_(n){const e=nt.fromString(n);return Ve(F_(e),10190,{key:e.toString()}),e}function Ag(n,e){return Mx(n.databaseId,e.path)}function Tf(n,e){const t=L_(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new he(D_(t))}function N_(n,e){return Mx(n.databaseId,e)}function CF(n){const e=L_(n);return e.length===4?nt.emptyPath():D_(e)}function Sg(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function D_(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function yw(n,e,t){return{name:Ag(n,e),fields:t.value.mapValue.fields}}function _F(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(Ve(u===void 0||typeof u=="string",58123),Bt.fromBase64String(u||"")):(Ve(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Bt.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?K.UNKNOWN:P_(c.code);return new ae(u,c.message||"")}(a);t=new R_(i,s,r,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Tf(n,i.document.name),r=mi(i.document.updateTime),a=i.document.createTime?mi(i.document.createTime):xe.min(),o=new Nn({mapValue:{fields:i.document.fields}}),l=Kt.newFoundDocument(s,r,a,o),c=i.targetIds||[],u=i.removedTargetIds||[];t=new gu(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Tf(n,i.document),r=i.readTime?mi(i.readTime):xe.min(),a=Kt.newNoDocument(s,r),o=i.removedTargetIds||[];t=new gu([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Tf(n,i.document),r=i.removedTargetIds||[];t=new gu([],r,s,null)}else{if(!("filter"in e))return ge(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new gF(s,r),o=i.targetId;t=new I_(o,a)}}return t}function TF(n,e){let t;if(e instanceof ec)t={update:yw(n,e.key,e.value)};else if(e instanceof E_)t={delete:Ag(n,e.key)};else if(e instanceof br)t={update:yw(n,e.key,e.data),updateMask:OF(e.fieldMask)};else{if(!(e instanceof dF))return ge(16599,{dt:e.type});t={verify:Ag(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const o=a.transform;if(o instanceof ch)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ol)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof uh)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw ge(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:kF(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ge(27497)}(n,e.precondition)),t}function EF(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map(t=>function(s,r){let a=s.updateTime?mi(s.updateTime):mi(r);return a.isEqual(xe.min())&&(a=mi(r)),new cF(a,s.transformResults||[])}(t,e))):[]}function PF(n,e){return{documents:[N_(n,e.path)]}}function IF(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=N_(n,s);const r=function(c){if(c.length!==0)return V_(vi.create(c,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Lr(d.field),direction:LF(d.dir)}}(u))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const o=bg(n,e.limit);return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:t,parent:s}}function RF(n){let e=CF(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Ve(i===1,65062);const u=t.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let r=[];t.where&&(r=function(h){const d=O_(h);return d instanceof vi&&d_(d)?d.getFilters():[d]}(t.where));let a=[];t.orderBy&&(a=function(h){return h.map(d=>function(m){return new lh(Nr(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(d))}(t.orderBy));let o=null;t.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,Bh(d)?null:d}(t.limit));let l=null;t.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new oh(f,d)}(t.startAt));let c=null;return t.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new oh(f,d)}(t.endAt)),GV(e,s,a,r,o,"F",l,c)}function MF(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function O_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Nr(t.unaryFilter.field);return St.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Nr(t.unaryFilter.field);return St.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Nr(t.unaryFilter.field);return St.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Nr(t.unaryFilter.field);return St.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}}(n):n.fieldFilter!==void 0?function(t){return St.create(Nr(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return vi.create(t.compositeFilter.filters.map(i=>O_(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge(1026)}}(t.compositeFilter.op))}(n):ge(30097,{filter:n})}function LF(n){return bF[n]}function NF(n){return wF[n]}function DF(n){return AF[n]}function Lr(n){return{fieldPath:n.canonicalString()}}function Nr(n){return Ot.fromServerFormat(n.fieldPath)}function V_(n){return n instanceof St?function(t){if(t.op==="=="){if(rw(t.value))return{unaryFilter:{field:Lr(t.field),op:"IS_NAN"}};if(sw(t.value))return{unaryFilter:{field:Lr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rw(t.value))return{unaryFilter:{field:Lr(t.field),op:"IS_NOT_NAN"}};if(sw(t.value))return{unaryFilter:{field:Lr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lr(t.field),op:NF(t.op),value:t.value}}}(n):n instanceof vi?function(t){const i=t.getFilters().map(s=>V_(s));return i.length===1?i[0]:{compositeFilter:{op:DF(t.op),filters:i}}}(n):ge(54877,{filter:n})}function OF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function F_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function z_(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,i,s,r=xe.min(),a=xe.min(),o=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.yt=e}}function FF(n){const e=RF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(){this.Sn=new jF}addToCollectionParentIndex(e,t){return this.Sn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(Ss.min())}updateCollectionGroup(e,t,i){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}}class jF{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new _t(nt.comparator),r=!s.has(i);return this.index[t]=s.add(i),r}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new _t(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},j_=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(j_,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ta(0)}static ar(){return new Ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="LruGarbageCollector",BF=1048576;function ww([n,e],[t,i]){const s=_e(n,t);return s===0?_e(e,i):s}class HF{constructor(e){this.Pr=e,this.buffer=new _t(ww),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();ww(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class XF{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ie(bw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ha(t)?ie(bw,"Ignoring IndexedDB error during garbage collection: ",t):await Ba(t)}await this.Ar(3e5)})}}class WF{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return U.resolve(jh.ce);const i=new HF(t);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(vw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vw):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,s,r,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,a=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(i=h,o=Date.now(),this.removeTargets(e,i,t))).next(h=>(r=h,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(h=>(c=Date.now(),Rr()<=Ie.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${s} in `+(o-a)+`ms
	Removed ${r} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:h})))}}function YF(n,e){return new WF(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.changes=new vr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?U.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&Qo(i.mutation,s,Jn.empty(),Qe.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Te()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Te()){const s=Js();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(r=>{let a=Po();return r.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=Js();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Te()))}populateOverlays(e,t,i){const s=[];return i.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,o)=>{t.set(a,o)})})}computeViews(e,t,i,s){let r=Vi();const a=Ko(),o=function(){return Ko()}();return t.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof br)?r=r.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),Qo(u.mutation,c,u.mutation.getFieldMask(),Qe.now())):a.set(c.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((c,u)=>a.set(c,u)),t.forEach((c,u)=>o.set(c,new $F(u,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,t){const i=Ko();let s=new at((a,o)=>a-o),r=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=i.get(l)||Jn.empty();u=o.applyToLocalView(c,u),i.set(l,u);const h=(s.get(o.batchId)||Te()).add(l);s=s.insert(o.batchId,h)})}).next(()=>{const a=[],o=s.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,h=b_();u.forEach(d=>{if(!r.has(d)){const f=__(t.get(d),i.get(d));f!==null&&h.set(d,f),r=r.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return qV(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-r.size):U.resolve(Js());let o=Rl,l=r;return a.next(c=>U.forEach(c,(u,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),r.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,l,c,Te())).next(u=>({batchId:o,changes:v_(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new he(t)).next(i=>{let s=Po();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const r=t.collectionGroup;let a=Po();return this.indexManager.getCollectionParents(e,r).next(o=>U.forEach(o,l=>{const c=function(h,d){return new Xh(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,i,s).next(u=>{u.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r,s))).next(a=>{r.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,Kt.newInvalidDocument(u)))});let o=Po();return a.forEach((l,c)=>{const u=r.get(l);u!==void 0&&Qo(u.mutation,c,Jn.empty(),Qe.now()),Yh(t,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return U.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:mi(s.createTime)}}(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(s){return{name:s.name,query:FF(s.bundledQuery),readTime:mi(s.readTime)}}(t)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(){this.overlays=new at(he.comparator),this.Lr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Js();return U.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,r)=>{this.bt(e,t,r)}),U.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Lr.delete(i)),U.resolve()}getOverlaysForCollection(e,t,i){const s=Js(),r=t.length+1,a=new he(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let r=new at((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=Js(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Js(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=s)););return U.resolve(o)}bt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new pF(t,i));let r=this.Lr.get(t);r===void 0&&(r=Te(),this.Lr.set(t,r)),this.Lr.set(t,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.kr=new _t(Et.Kr),this.qr=new _t(Et.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new Et(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Et(e,t))}Qr(e,t){e.forEach(i=>this.removeReference(i,t))}Gr(e){const t=new he(new nt([])),i=new Et(t,e),s=new Et(t,e+1),r=[];return this.qr.forEachInRange([i,s],a=>{this.Wr(a),r.push(a.key)}),r}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new he(new nt([])),i=new Et(t,e),s=new Et(t,e+1);let r=Te();return this.qr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const t=new Et(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Et{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return he.comparator(e.key,t.key)||_e(e.Hr,t.Hr)}static Ur(e,t){return _e(e.Hr,t.Hr)||he.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new _t(Et.Kr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const r=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new fF(r,t,i,s);this.mutationQueue.push(a);for(const o of s)this.Jr=this.Jr.add(new Et(o.key,r)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,t){return U.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Xr(i),r=s<0?0:s;return U.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Sx:this.Yn-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Et(t,0),s=new Et(t,Number.POSITIVE_INFINITY),r=[];return this.Jr.forEachInRange([i,s],a=>{const o=this.Zr(a.Hr);r.push(o)}),U.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _t(_e);return t.forEach(s=>{const r=new Et(s,0),a=new Et(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([r,a],o=>{i=i.add(o.Hr)})}),U.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let r=i;he.isDocumentKey(r)||(r=r.child(""));const a=new Et(new he(r),0);let o=new _t(_e);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(o=o.add(l.Hr)),!0)},a),U.resolve(this.Yr(o))}Yr(e){const t=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ve(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return U.forEach(t.mutations,s=>{const r=new Et(s.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,t){const i=new Et(t,0),s=this.Jr.firstAfterOrEqual(i);return U.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.ti=e,this.docs=function(){return new at(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),r=s?s.size:0,a=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return U.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=Vi();return t.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Kt.newInvalidDocument(s))}),U.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let r=Vi();const a=t.path,o=new he(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||CV(kV(u),i)<=0||(s.has(u.key)||Yh(t,u))&&(r=r.insert(u.key,u.mutableCopy()))}return U.resolve(r)}getAllFromCollectionGroup(e,t,i,s){ge(9500)}ni(e,t){return U.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new e4(this)}getSize(e){return U.resolve(this.size)}}class e4 extends UF{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(i)}),U.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.persistence=e,this.ri=new vr(t=>_x(t),Tx),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ii=0,this.si=new Lx,this.targetCount=0,this.oi=Ta._r()}forEachTarget(e,t){return this.ri.forEach((i,s)=>t(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),U.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Ta(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.lr(t),U.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,i){let s=0;const r=[];return this.ri.forEach((a,o)=>{o.sequenceNumber<=t&&i.get(o.targetId)===null&&(this.ri.delete(a),r.push(this.removeMatchingKeysForTargetId(e,o.targetId)),s++)}),U.waitFor(r).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return U.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),U.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),U.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),U.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return U.resolve(i)}containsKey(e,t){return U.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t){this._i={},this.overlays={},this.ai=new jh(0),this.ui=!1,this.ui=!0,this.ci=new QF,this.referenceDelegate=e(this),this.li=new t4(this),this.indexManager=new zF,this.remoteDocumentCache=function(s){return new JF(s)}(i=>this.referenceDelegate.hi(i)),this.serializer=new VF(t),this.Pi=new qF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new ZF(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ie("MemoryPersistence","Starting transaction:",e);const s=new n4(this.ai.next());return this.referenceDelegate.Ti(),i(s).next(r=>this.referenceDelegate.Ii(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ei(e,t){return U.or(Object.values(this._i).map(i=>()=>i.containsKey(e,t)))}}class n4 extends TV{constructor(e){super(),this.currentSequenceNumber=e}}class Nx{constructor(e){this.persistence=e,this.Ri=new Lx,this.Ai=null}static Vi(e){return new Nx(e)}get di(){if(this.Ai)return this.Ai;throw ge(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),U.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),U.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.di.add(r.toString()))}).next(()=>i.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,i=>{const s=he.fromPath(i);return this.mi(e,s).next(r=>{r||t.removeEntry(s,xe.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return U.or([()=>U.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class dh{constructor(e,t){this.persistence=e,this.fi=new vr(i=>IV(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=YF(this,t)}static Vi(e,t){return new dh(e,t)}Ti(){}Ii(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}pr(e){let t=0;return this.mr(e,i=>{t++}).next(()=>t)}mr(e,t){return U.forEach(this.fi,(i,s)=>this.wr(e,i,s).next(r=>r?U.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.ni(e,a=>this.wr(e,a,t).next(o=>{o||(i++,r.removeEntry(a,xe.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),U.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=du(e.data.value)),t}wr(e,t,i){return U.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return U.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=s}static Es(e,t){let i=Te(),s=Te();for(const r of t.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Dx(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return WD()?8:EV(HD())>0?6:4}()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const r={result:null};return this.gs(e,t).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ps(e,t,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new i4;return this.ys(e,t,a).next(o=>{if(r.result=o,this.As)return this.ws(e,t,a,o.size)})}).next(()=>r.result)}ws(e,t,i,s){return i.documentReadCount<this.Vs?(Rr()<=Ie.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Mr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Rr()<=Ie.DEBUG&&ie("QueryEngine","Query:",Mr(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Rr()<=Ie.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Mr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(t))):U.resolve())}gs(e,t){if(cw(t))return U.resolve(null);let i=gi(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=vg(t,null,"F"),i=gi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=Te(...r);return this.fs.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.bs(t,o);return this.Ss(t,c,a,l.readTime)?this.gs(e,vg(t,null,"F")):this.Ds(e,c,t,l)}))})))}ps(e,t,i,s){return cw(t)||s.isEqual(xe.min())?U.resolve(null):this.fs.getDocuments(e,i).next(r=>{const a=this.bs(t,r);return this.Ss(t,a,i,s)?U.resolve(null):(Rr()<=Ie.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mr(t)),this.Ds(e,a,t,SV(s,Rl)).next(o=>o))})}bs(e,t){let i=new _t(x_(e));return t.forEach((s,r)=>{Yh(e,r)&&(i=i.add(r))}),i}Ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}ys(e,t,i){return Rr()<=Ie.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Mr(t)),this.fs.getDocumentsMatchingQuery(e,t,Ss.min(),i)}Ds(e,t,i,s){return this.fs.getDocumentsMatchingQuery(e,i,s).next(r=>(t.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LocalStore",r4=3e8;class a4{constructor(e,t,i,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new at(_e),this.Fs=new vr(r=>_x(r),Tx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GF(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}function o4(n,e,t,i){return new a4(n,e,t,i)}async function H_(n,e){const t=ye(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,t.Os(e),t.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],o=[];let l=Te();for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({Ns:c,removedBatchIds:a,addedBatchIds:o}))})})}function l4(n,e){const t=ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=t.xs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const h=c.batch,d=h.keys();let f=U.resolve();return d.forEach(m=>{f=f.next(()=>u.getEntry(l,m)).next(g=>{const v=c.docVersions.get(m);Ve(v!==null,48541),g.version.compareTo(v)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(t,i,e,r).next(()=>r.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=Te();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function X_(n){const e=ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function c4(n,e){const t=ye(n),i=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const o=[];e.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;o.push(t.li.removeMatchingKeys(r,u.removedDocuments,h).next(()=>t.li.addMatchingKeys(r,u.addedDocuments,h)));let f=d.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(Bt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),s=s.insert(h,f),function(g,v,x){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=r4?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(d,f,u)&&o.push(t.li.updateTargetData(r,f))});let l=Vi(),c=Te();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(t.persistence.referenceDelegate.updateLimboDocument(r,u))}),o.push(u4(r,a,e.documentUpdates).next(u=>{l=u.Bs,c=u.Ls})),!i.isEqual(xe.min())){const u=t.li.getLastRemoteSnapshotVersion(r).next(h=>t.li.setTargetsMetadata(r,r.currentSequenceNumber,i));o.push(u)}return U.waitFor(o).next(()=>a.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(t.vs=s,r))}function u4(n,e,t){let i=Te(),s=Te();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let a=Vi();return t.forEach((o,l)=>{const c=r.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(o)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ie(Ox,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Bs:a,Ls:s}})}function h4(n,e){const t=ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Sx),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function d4(n,e){const t=ye(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.li.getTargetData(i,e).next(r=>r?(s=r,U.resolve(s)):t.li.allocateTargetId(i).next(a=>(s=new is(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i})}async function kg(n,e,t){const i=ye(n),s=i.vs.get(e),r=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Ha(a))throw a;ie(Ox,`Failed to update sequence numbers for target ${e}: ${a}`)}i.vs=i.vs.remove(e),i.Fs.delete(s.target)}function Aw(n,e,t){const i=ye(n);let s=xe.min(),r=Te();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const h=ye(l),d=h.Fs.get(u);return d!==void 0?U.resolve(h.vs.get(d)):h.li.getTargetData(c,u)}(i,a,gi(e)).next(o=>{if(o)return s=o.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(a,o.targetId).next(l=>{r=l})}).next(()=>i.Cs.getDocumentsMatchingQuery(a,e,t?s:xe.min(),t?r:Te())).next(o=>(f4(i,ZV(e),o),{documents:o,ks:r})))}function f4(n,e,t){let i=n.Ms.get(e)||xe.min();t.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.Ms.set(e,i)}class Sw{constructor(){this.activeTargetIds=sF()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p4{constructor(){this.vo=new Sw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Sw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="ConnectivityMonitor";class Cw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(kw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ie(kw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Cg(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="RestConnection",m4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class x4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===rh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,t,i,s,r){const a=Cg(),o=this.Qo(e,t.toUriEncodedString());ie(Ef,`Sending RPC '${e}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,r);const{host:c}=new URL(o),u=yx(c);return this.zo(e,o,l,i,u).then(h=>(ie(Ef,`Received RPC '${e}' ${a}: `,h),h),h=>{throw Sa(Ef,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",i),h})}jo(e,t,i,s,r,a){return this.Wo(e,t,i,s,r)}Go(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ja}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}Qo(e,t){const i=m4[e];let s=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection",xo=(n,e,t)=>{n.listen(e,i=>{try{t(i)}catch(s){setTimeout(()=>{throw s},0)}})};class la extends x4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!la.c_){const e=qC();xo(e,GC.STAT_EVENT,t=>{t.stat===fg.PROXY?ie(Ut,"STAT_EVENT: detected buffering proxy"):t.stat===fg.NOPROXY&&ie(Ut,"STAT_EVENT: detected no buffering proxy")}),la.c_=!0}}zo(e,t,i,s,r){const a=Cg();return new Promise((o,l)=>{const c=new UC;c.setWithCredentials(!0),c.listenOnce($C.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hu.NO_ERROR:const h=c.getResponseJson();ie(Ut,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case hu.TIMEOUT:ie(Ut,`RPC '${e}' ${a} timed out`),l(new ae(K.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const d=c.getStatus();if(ie(Ut,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(y)>=0?y:K.UNKNOWN}(m.status);l(new ae(g,m.message))}else l(new ae(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ae(K.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{ie(Ut,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(s);ie(Ut,`RPC '${e}' ${a} sending request:`,s),c.send(t,"POST",u,i,15)})}T_(e,t,i){const s=Cg(),r=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,t,i),o.encodeInitMessageHeaders=!0;const c=r.join("");ie(Ut,`Creating RPC '${e}' stream ${s}: ${c}`,o);const u=a.createWebChannel(c,o);this.I_(u);let h=!1,d=!1;const f=new y4({Ho:m=>{d?ie(Ut,`Not sending because RPC '${e}' stream ${s} is closed:`,m):(h||(ie(Ut,`Opening RPC '${e}' stream ${s} transport.`),u.open(),h=!0),ie(Ut,`RPC '${e}' stream ${s} sending:`,m),u.send(m))},Jo:()=>u.close()});return xo(u,Eo.EventType.OPEN,()=>{d||(ie(Ut,`RPC '${e}' stream ${s} transport opened.`),f.i_())}),xo(u,Eo.EventType.CLOSE,()=>{d||(d=!0,ie(Ut,`RPC '${e}' stream ${s} transport closed`),f.o_(),this.E_(u))}),xo(u,Eo.EventType.ERROR,m=>{d||(d=!0,Sa(Ut,`RPC '${e}' stream ${s} transport errored. Name:`,m.name,"Message:",m.message),f.o_(new ae(K.UNAVAILABLE,"The operation could not be completed")))}),xo(u,Eo.EventType.MESSAGE,m=>{var g;if(!d){const v=m.data[0];Ve(!!v,16349);const x=v,y=(x==null?void 0:x.error)||((g=x[0])==null?void 0:g.error);if(y){ie(Ut,`RPC '${e}' stream ${s} received error:`,y);const b=y.status;let _=function(A){const w=xt[A];if(w!==void 0)return P_(w)}(b),k=y.message;_===void 0&&(_=K.INTERNAL,k="Unknown error status: "+b+" with message "+y.message),d=!0,f.o_(new ae(_,k)),u.close()}else ie(Ut,`RPC '${e}' stream ${s} received:`,v),f.__(v)}}),la.u_(),setTimeout(()=>{f.s_()},0),f}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KC()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(n){return new la(n)}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(n){return new SF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la.c_=!1;class W_{constructor(e,t,i=1e3,s=1.5,r=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="PersistentStream";class Y_{constructor(e,t,i,s,r,a,o,l){this.Ci=e,this.b_=i,this.S_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===t&&this.G_(i,s)},i=>{e(()=>{const s=new ae(K.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(_w,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(ie(_w,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b4 extends Y_{constructor(e,t,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,a),this.serializer=r}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_F(this.serializer,e),i=function(r){if(!("targetChange"in r))return xe.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?xe.min():a.readTime?mi(a.readTime):xe.min()}(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Sg(this.serializer),t.addTarget=function(r,a){let o;const l=a.target;if(o=yg(l)?{documents:PF(r,l)}:{query:IF(r,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=M_(r,a.resumeToken);const c=bg(r,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(xe.min())>0){o.readTime=hh(r,a.snapshotVersion.toTimestamp());const c=bg(r,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const i=MF(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Sg(this.serializer),t.removeTarget=e,this.K_(t)}}class w4 extends Y_{constructor(e,t,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,a),this.serializer=r}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=EF(e.writeResults,e.commitTime),i=mi(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Sg(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>TF(this.serializer,i))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{}class S4 extends A4{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Wo(e,wg(t,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ae(K.UNKNOWN,r.toString())})}jo(e,t,i,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.jo(e,wg(t,i),s,a,o,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ae(K.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function k4(n,e,t,i){return new S4(n,e,t,i)}class C4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(t),this.aa=!1):ie("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="RemoteStore";class _4{constructor(e,t,i,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=r,this.Aa.Mo(a=>{i.enqueueAndForget(async()=>{wr(this)&&(ie(fr,"Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.Ea.add(4),await nc(c),c.Va.set("Unknown"),c.Ea.delete(4),await Kh(c)}(this))})}),this.Va=new C4(i,s)}}async function Kh(n){if(wr(n))for(const e of n.Ra)await e(!0)}async function nc(n){for(const e of n.Ra)await e(!1)}function U_(n,e){const t=ye(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),jx(t)?zx(t):Xa(t).O_()&&Fx(t,e))}function Vx(n,e){const t=ye(n),i=Xa(t);t.Ia.delete(e),i.O_()&&$_(t,e),t.Ia.size===0&&(i.O_()?i.L_():wr(t)&&t.Va.set("Unknown"))}function Fx(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xa(n).Z_(e)}function $_(n,e){n.da.$e(e),Xa(n).X_(e)}function zx(n){n.da=new vF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Xa(n).start(),n.Va.ua()}function jx(n){return wr(n)&&!Xa(n).x_()&&n.Ia.size>0}function wr(n){return ye(n).Ea.size===0}function G_(n){n.da=void 0}async function T4(n){n.Va.set("Online")}async function E4(n){n.Ia.forEach((e,t)=>{Fx(n,e)})}async function P4(n,e){G_(n),jx(n)?(n.Va.ha(e),zx(n)):n.Va.set("Unknown")}async function I4(n,e,t){if(n.Va.set("Online"),e instanceof R_&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const o of r.targetIds)s.Ia.has(o)&&(await s.remoteSyncer.rejectListen(o,a),s.Ia.delete(o),s.da.removeTarget(o))}(n,e)}catch(i){ie(fr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fh(n,i)}else if(e instanceof gu?n.da.Xe(e):e instanceof I_?n.da.st(e):n.da.tt(e),!t.isEqual(xe.min()))try{const i=await X_(n.localStore);t.compareTo(i)>=0&&await function(r,a){const o=r.da.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.Ia.get(c);u&&r.Ia.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=r.Ia.get(l);if(!u)return;r.Ia.set(l,u.withResumeToken(Bt.EMPTY_BYTE_STRING,u.snapshotVersion)),$_(r,l);const h=new is(u.target,l,c,u.sequenceNumber);Fx(r,h)}),r.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(i){ie(fr,"Failed to raise snapshot:",i),await fh(n,i)}}async function fh(n,e,t){if(!Ha(e))throw e;n.Ea.add(1),await nc(n),n.Va.set("Offline"),t||(t=()=>X_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ie(fr,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Kh(n)})}function q_(n,e){return e().catch(t=>fh(n,t,e))}async function Qh(n){const e=ye(n),t=Ts(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sx;for(;R4(e);)try{const s=await h4(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,M4(e,s)}catch(s){await fh(e,s)}K_(e)&&Q_(e)}function R4(n){return wr(n)&&n.Ta.length<10}function M4(n,e){n.Ta.push(e);const t=Ts(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function K_(n){return wr(n)&&!Ts(n).x_()&&n.Ta.length>0}function Q_(n){Ts(n).start()}async function L4(n){Ts(n).ra()}async function N4(n){const e=Ts(n);for(const t of n.Ta)e.ea(t.mutations)}async function D4(n,e,t){const i=n.Ta.shift(),s=Ix.from(i,e,t);await q_(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Qh(n)}async function O4(n,e){e&&Ts(n).Y_&&await async function(i,s){if(function(a){return mF(a)&&a!==K.ABORTED}(s.code)){const r=i.Ta.shift();Ts(i).B_(),await q_(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Qh(i)}}(n,e),K_(n)&&Q_(n)}async function Tw(n,e){const t=ye(n);t.asyncQueue.verifyOperationInProgress(),ie(fr,"RemoteStore received new credentials");const i=wr(t);t.Ea.add(3),await nc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kh(t)}async function V4(n,e){const t=ye(n);e?(t.Ea.delete(2),await Kh(t)):e||(t.Ea.add(2),await nc(t),t.Va.set("Unknown"))}function Xa(n){return n.ma||(n.ma=function(t,i,s){const r=ye(t);return r.sa(),new b4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{Zo:T4.bind(null,n),Yo:E4.bind(null,n),t_:P4.bind(null,n),J_:I4.bind(null,n)}),n.Ra.push(async e=>{e?(n.ma.B_(),jx(n)?zx(n):n.Va.set("Unknown")):(await n.ma.stop(),G_(n))})),n.ma}function Ts(n){return n.fa||(n.fa=function(t,i,s){const r=ye(t);return r.sa(),new w4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:L4.bind(null,n),t_:O4.bind(null,n),ta:N4.bind(null,n),na:D4.bind(null,n)}),n.Ra.push(async e=>{e?(n.fa.B_(),await Qh(n)):(await n.fa.stop(),n.Ta.length>0&&(ie(fr,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t,i,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,r){const a=Date.now()+i,o=new Bx(e,t,a,s,r);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hx(n,e){if(Oi("AsyncQueue",`${e}: ${n}`),Ha(n))return new ae(K.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{static emptySet(e){return new ca(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||he.comparator(t.key,i.key):(t,i)=>he.comparator(t.key,i.key),this.keyedMap=Po(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ca;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.ga=new at(he.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ge(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ea{constructor(e,t,i,s,r,a,o,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,s,r){const a=[];return t.forEach(o=>{a.push({type:0,doc:o})}),new Ea(e,t,ca.emptySet(t),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class z4{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=ye(t),r=s.queries;s.queries=Pw(),r.forEach((a,o)=>{for(const l of o.ba)l.onError(i)})})(this,new ae(K.ABORTED,"Firestore shutting down"))}}function Pw(){return new vr(n=>m_(n),Wh)}async function j4(n,e){const t=ye(n);let i=3;const s=e.query;let r=t.queries.get(s);r?!r.Sa()&&e.Da()&&(i=2):(r=new F4,i=e.Da()?0:1);try{switch(i){case 0:r.wa=await t.onListen(s,!0);break;case 1:r.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const o=Hx(a,`Initialization of query '${Mr(e.query)}' failed`);return void e.onError(o)}t.queries.set(s,r),r.ba.push(e),e.va(t.onlineState),r.wa&&e.Fa(r.wa)&&Xx(t)}async function B4(n,e){const t=ye(n),i=e.query;let s=3;const r=t.queries.get(i);if(r){const a=r.ba.indexOf(e);a>=0&&(r.ba.splice(a,1),r.ba.length===0?s=e.Da()?0:1:!r.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function H4(n,e){const t=ye(n);let i=!1;for(const s of e){const r=s.query,a=t.queries.get(r);if(a){for(const o of a.ba)o.Fa(s)&&(i=!0);a.wa=s}}i&&Xx(t)}function X4(n,e,t){const i=ye(n),s=i.queries.get(e);if(s)for(const r of s.ba)r.onError(t);i.queries.delete(e)}function Xx(n){n.Ca.forEach(e=>{e.next()})}var _g,Iw;(Iw=_g||(_g={})).Ma="default",Iw.Cache="cache";class W4{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Ea(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_g.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.key=e}}class J_{constructor(e){this.key=e}}class Y4{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Te(),this.mutatedKeys=Te(),this.eu=x_(e),this.tu=new ca(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new Ew,s=t?t.tu:this.tu;let r=t?t.mutatedKeys:this.mutatedKeys,a=s,o=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const d=s.get(u),f=Yh(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let v=!1;d&&f?d.data.isEqual(f.data)?m!==g&&(i.track({type:3,doc:f}),v=!0):this.su(d,f)||(i.track({type:2,doc:f}),v=!0,(l&&this.eu(f,l)>0||c&&this.eu(f,c)<0)&&(o=!0)):!d&&f?(i.track({type:0,doc:f}),v=!0):d&&!f&&(i.track({type:1,doc:d}),v=!0,(l||c)&&(o=!0)),v&&(f?(a=a.add(f),r=g?r.add(u):r.delete(u)):(a=a.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{tu:a,iu:i,Ss:o,mutatedKeys:r}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((u,h)=>function(f,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Vt:v})}};return g(f)-g(m)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(i),s=s??!1;const o=t&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Xa;return this.Xa=l,a.length!==0||c?{snapshot:new Ea(this.query,e.tu,r,a,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ew,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Te(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new J_(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new Z_(i))}),t}cu(e){this.Za=e.ks,this.Ya=Te();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wx="SyncEngine";class U4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class $4{constructor(e){this.key=e,this.hu=!1}}class G4{constructor(e,t,i,s,r,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new vr(o=>m_(o),Wh),this.Iu=new Map,this.Eu=new Set,this.Ru=new at(he.comparator),this.Au=new Map,this.Vu=new Lx,this.du={},this.mu=new Map,this.fu=Ta.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q4(n,e,t=!0){const i=rT(n);let s;const r=i.Tu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.lu()):s=await eT(i,e,t,!0),s}async function K4(n,e){const t=rT(n);await eT(t,e,!0,!1)}async function eT(n,e,t,i){const s=await d4(n.localStore,gi(e)),r=s.targetId,a=n.sharedClientState.addLocalQueryTarget(r,t);let o;return i&&(o=await Q4(n,e,r,a==="current",s.resumeToken)),n.isPrimaryClient&&t&&U_(n.remoteStore,s),o}async function Q4(n,e,t,i,s){n.pu=(h,d,f)=>async function(g,v,x,y){let b=v.view.ru(x);b.Ss&&(b=await Aw(g.localStore,v.query,!1).then(({documents:A})=>v.view.ru(A,b)));const _=y&&y.targetChanges.get(v.targetId),k=y&&y.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(b,g.isPrimaryClient,_,k);return Mw(g,v.targetId,P.au),P.snapshot}(n,h,d,f);const r=await Aw(n.localStore,e,!0),a=new Y4(e,r.ks),o=a.ru(r.documents),l=tc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),c=a.applyChanges(o,n.isPrimaryClient,l);Mw(n,t,c.au);const u=new U4(e,t,a);return n.Tu.set(e,u),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),c.snapshot}async function Z4(n,e,t){const i=ye(n),s=i.Tu.get(e),r=i.Iu.get(s.targetId);if(r.length>1)return i.Iu.set(s.targetId,r.filter(a=>!Wh(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await kg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Vx(i.remoteStore,s.targetId),Tg(i,s.targetId)}).catch(Ba)):(Tg(i,s.targetId),await kg(i.localStore,s.targetId,!0))}async function J4(n,e){const t=ye(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Vx(t.remoteStore,i.targetId))}async function ez(n,e,t){const i=oz(n);try{const s=await function(a,o){const l=ye(a),c=Qe.now(),u=o.reduce((f,m)=>f.add(m.key),Te());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Vi(),g=Te();return l.xs.getEntries(f,u).next(v=>{m=v,m.forEach((x,y)=>{y.isValidDocument()||(g=g.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,m)).next(v=>{h=v;const x=[];for(const y of o){const b=hF(y,h.get(y.key).overlayedDocument);b!=null&&x.push(new br(y.key,b,c_(b.value.mapValue),Pi.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,x,o)}).next(v=>{d=v;const x=v.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(f,v.batchId,x)})}).then(()=>({batchId:d.batchId,changes:v_(h)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,o,l){let c=a.du[a.currentUser.toKey()];c||(c=new at(_e)),c=c.insert(o,l),a.du[a.currentUser.toKey()]=c}(i,s.batchId,t),await ic(i,s.changes),await Qh(i.remoteStore)}catch(s){const r=Hx(s,"Failed to persist write");t.reject(r)}}async function tT(n,e){const t=ye(n);try{const i=await c4(t.localStore,e);e.targetChanges.forEach((s,r)=>{const a=t.Au.get(r);a&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?Ve(a.hu,14607):s.removedDocuments.size>0&&(Ve(a.hu,42227),a.hu=!1))}),await ic(t,i,e)}catch(i){await Ba(i)}}function Rw(n,e,t){const i=ye(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach((r,a)=>{const o=a.view.va(e);o.snapshot&&s.push(o.snapshot)}),function(a,o){const l=ye(a);l.onlineState=o;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.ba)d.va(o)&&(c=!0)}),c&&Xx(l)}(i.eventManager,e),s.length&&i.Pu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function tz(n,e,t){const i=ye(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),r=s&&s.key;if(r){let a=new at(he.comparator);a=a.insert(r,Kt.newNoDocument(r,xe.min()));const o=Te().add(r),l=new Gh(xe.min(),new Map,new at(_e),a,o);await tT(i,l),i.Ru=i.Ru.remove(r),i.Au.delete(e),Yx(i)}else await kg(i.localStore,e,!1).then(()=>Tg(i,e,t)).catch(Ba)}async function nz(n,e){const t=ye(n),i=e.batch.batchId;try{const s=await l4(t.localStore,e);iT(t,i,null),nT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ic(t,s)}catch(s){await Ba(s)}}async function iz(n,e,t){const i=ye(n);try{const s=await function(a,o){const l=ye(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(h=>(Ve(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);iT(i,e,t),nT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ic(i,s)}catch(s){await Ba(s)}}function nT(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function iT(n,e,t){const i=ye(n);let s=i.du[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),i.du[i.currentUser.toKey()]=s}}function Tg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach(i=>{n.Vu.containsKey(i)||sT(n,i)})}function sT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Vx(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Yx(n))}function Mw(n,e,t){for(const i of t)i instanceof Z_?(n.Vu.addReference(i.key,e),sz(n,i)):i instanceof J_?(ie(Wx,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,e),n.Vu.containsKey(i.key)||sT(n,i.key)):ge(19791,{wu:i})}function sz(n,e){const t=e.key,i=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(i)||(ie(Wx,"New document in limbo: "+t),n.Eu.add(i),Yx(n))}function Yx(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new he(nt.fromString(e)),i=n.fu.next();n.Au.set(i,new $4(t)),n.Ru=n.Ru.insert(t,i),U_(n.remoteStore,new is(gi(Ex(t.path)),i,"TargetPurposeLimboResolution",jh.ce))}}async function ic(n,e,t){const i=ye(n),s=[],r=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((o,l)=>{a.push(i.pu(l,e,t).then(c=>{var u;if((c||t)&&i.isPrimaryClient){const h=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))==null?void 0:u.current;i.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){s.push(c);const h=Dx.Es(l.targetId,c);r.push(h)}}))}),await Promise.all(a),i.Pu.J_(s),await async function(l,c){const u=ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,d=>U.forEach(d.Ts,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>U.forEach(d.Is,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Ha(h))throw h;ie(Ox,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.vs.get(d),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);u.vs=u.vs.insert(d,g)}}}(i.localStore,r))}async function rz(n,e){const t=ye(n);if(!t.currentUser.isEqual(e)){ie(Wx,"User change. New user:",e.toKey());const i=await H_(t.localStore,e);t.currentUser=e,function(r,a){r.mu.forEach(o=>{o.forEach(l=>{l.reject(new ae(K.CANCELLED,a))})}),r.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ic(t,i.Ns)}}function az(n,e){const t=ye(n),i=t.Au.get(e);if(i&&i.hu)return Te().add(i.key);{let s=Te();const r=t.Iu.get(e);if(!r)return s;for(const a of r){const o=t.Tu.get(a);s=s.unionWith(o.view.nu)}return s}}function rT(n){const e=ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=az.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tz.bind(null,e),e.Pu.J_=H4.bind(null,e.eventManager),e.Pu.yu=X4.bind(null,e.eventManager),e}function oz(n){const e=ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iz.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return o4(this.persistence,new s4,e.initialUser,this.serializer)}Cu(e){return new B_(Nx.Vi,this.serializer)}Du(e){return new p4}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class lz extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ve(this.persistence.referenceDelegate instanceof dh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XF(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new B_(i=>dh.Vi(i,t),this.serializer)}}class Eg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Rw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rz.bind(null,this.syncEngine),await V4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z4}()}createDatastore(e){const t=qh(e.databaseInfo.databaseId),i=v4(e.databaseInfo);return k4(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,r,a,o){return new _4(i,s,r,a,o)}(this.localStore,this.datastore,e.asyncQueue,t=>Rw(this.syncEngine,t,0),function(){return Cw.v()?new Cw:new g4}())}createSyncEngine(e,t){return function(s,r,a,o,l,c,u){const h=new G4(s,r,a,o,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const r=ye(s);ie(fr,"RemoteStore shutting down."),r.Ea.add(5),await nc(r),r.Aa.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Eg.provider={build:()=>new Eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class uz{constructor(e,t,i,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=wx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{ie(Es,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(ie(Es,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Hx(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function If(n,e){n.asyncQueue.verifyOperationInProgress(),ie(Es,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await H_(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Lw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await hz(n);ie(Es,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Tw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Tw(e.remoteStore,s)),n._onlineComponents=e}async function hz(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ie(Es,"Using user provided OfflineComponentProvider");try{await If(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===K.FAILED_PRECONDITION||s.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Sa("Error using user provided cache. Falling back to memory cache: "+t),await If(n,new ph)}}else ie(Es,"Using default OfflineComponentProvider"),await If(n,new lz(void 0));return n._offlineComponents}async function aT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ie(Es,"Using user provided OnlineComponentProvider"),await Lw(n,n._uninitializedComponentsProvider._online)):(ie(Es,"Using default OnlineComponentProvider"),await Lw(n,new Eg))),n._onlineComponents}function dz(n){return aT(n).then(e=>e.syncEngine)}async function fz(n){const e=await aT(n),t=e.eventManager;return t.onListen=q4.bind(null,e.syncEngine),t.onUnlisten=Z4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=K4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J4.bind(null,e.syncEngine),t}function pz(n,e,t={}){const i=new ms;return n.asyncQueue.enqueueAndForget(async()=>function(r,a,o,l,c){const u=new cz({next:d=>{u.Nu(),a.enqueueAndForget(()=>B4(r,h));const f=d.docs.has(o);!f&&d.fromCache?c.reject(new ae(K.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new ae(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new W4(Ex(o.path),u,{includeMetadataChanges:!0,Ka:!0});return j4(r,h)}(await fz(n),n.asyncQueue,e,t,i)),i.promise}function gz(n,e){const t=new ms;return n.asyncQueue.enqueueAndForget(async()=>ez(await dz(n),e,t)),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz="ComponentProvider",Nw=new Map;function xz(n,e,t,i,s){return new LV(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,oT(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="firestore.googleapis.com",Dw=!0;class Ow{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lT,this.ssl=Dw}else this.host=e.host,this.ssl=e.ssl??Dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=j_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BF)throw new ae(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oT(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ux{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ow({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ow(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hV;switch(i.type){case"firstParty":return new gV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Nw.get(t);i&&(ie(mz,"Removing Datastore"),Nw.delete(t),i.terminate())}(this),Promise.resolve()}}function yz(n,e,t,i={}){var c;n=Il(n,Ux);const s=yx(e),r=n._getSettings(),a={...r,emulatorOptions:n._getEmulatorOptions()},o=`${e}:${t}`;s&&(VD(`https://${o}`),BD("Firestore",!0)),r.host!==lT&&r.host!==o&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...r,host:o,ssl:s,emulatorOptions:i};if(!eh(l,a)&&(n._setSettings(l),i.mockUserToken)){let u,h;if(typeof i.mockUserToken=="string")u=i.mockUserToken,h=Gt.MOCK_USER;else{u=FD(i.mockUserToken,(c=n._app)==null?void 0:c.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new ae(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Gt(d)}n._authCredentials=new dV(new ZC(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $x(this.firestore,e,this._query)}}class It{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Jl(t,It._jsonSchema))return new It(e,i||null,new he(nt.fromString(t.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:vt("string",It._jsonSchemaVersion),referencePath:vt("string")};class Vl extends $x{constructor(e,t,i){super(e,t,Ex(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new he(e))}withConverter(e){return new Vl(this.firestore,e,this._path)}}function yo(n,e,...t){if(n=th(n),arguments.length===1&&(e=wx.newId()),wV("doc","path",e),n instanceof Ux){const i=nt.fromString(e,...t);return Kb(i),new It(n,null,new he(i))}{if(!(n instanceof It||n instanceof Vl))throw new ae(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return Kb(i),new It(n.firestore,n instanceof Vl?n.converter:null,new he(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="AsyncQueue";class Fw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W_(this,"async_queue_retry"),this._c=()=>{const i=Pf();i&&ie(Vw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Pf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ha(e))throw e;ie(Vw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",zw(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Bx.createAndSchedule(this,e,t,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&ge(47125,{Pc:zw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function zw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Gx extends Ux{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new Fw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fw(e),this._firestoreClient=void 0,await e}}}function vz(n,e){const t=typeof n=="object"?n:QO(),i=typeof n=="string"?n:rh,s=UO(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=DD("firestore");r&&yz(s,...r)}return s}function cT(n){if(n._terminated)throw new ae(K.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bz(n),n._firestoreClient}function bz(n){var i,s,r,a;const e=n._freezeSettings(),t=xz(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new uz(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Bt.fromBase64String(e))}catch(t){throw new ae(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dn(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:vt("string",Dn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,xi._jsonSchema))return new xi(e.latitude,e.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:vt("string",xi._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ii(e.vectorValues);throw new ae(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:vt("string",ii._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=/^__.*__$/;class Az{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new br(e,this.data,this.fieldMask,t,this.fieldTransforms):new ec(e,this.data,t,this.fieldTransforms)}}function dT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{dataSource:n})}}class qx{constructor(e,t,i,s,r,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.validatePath(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new qx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(dT(this.dataSource)&&wz.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Sz{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||qh(e)}createContext(e,t,i,s=!1){return new qx({dataSource:e,methodName:t,targetDoc:i,path:Ot.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kz(n){const e=n._freezeSettings(),t=qh(n._databaseId);return new Sz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Cz(n,e,t,i,s,r={}){const a=n.createContext(r.merge||r.mergeFields?2:0,e,t,s);mT("Data must be an object, but it was:",a,i);const o=pT(i,a);let l,c;if(r.merge)l=new Jn(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const d=Kx(e,h,t);if(!a.contains(d))throw new ae(K.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Ez(u,d)||u.push(d)}l=new Jn(u),c=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=a.fieldTransforms;return new Az(new Nn(o),l,c)}function fT(n,e){if(gT(n=th(n)))return mT("Unsupported field value:",e,n),pT(n,e);if(n instanceof hT)return function(i,s){if(!dT(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const o of i){let l=fT(o,s.childContextForArray(a));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),a++}return{arrayValue:{values:r}}}(n,e)}return function(i,s){if((i=th(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rF(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Qe.fromDate(i);return{timestampValue:hh(s.serializer,r)}}if(i instanceof Qe){const r=new Qe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hh(s.serializer,r)}}if(i instanceof xi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dn)return{bytesValue:M_(s.serializer,i._byteString)};if(i instanceof It){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Mx(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ii)return function(a,o){const l=a instanceof ii?a.toArray():a;return{mapValue:{fields:{[o_]:{stringValue:l_},[ah]:{arrayValue:{values:l.map(u=>{if(typeof u!="number")throw o.createError("VectorValues must only contain numeric values.");return Px(o.serializer,u)})}}}}}}(i,s);if(z_(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Ax(i)}`)}(n,e)}function pT(n,e){const t={};return t_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(n,(i,s)=>{const r=fT(s,e.childContextForField(i));r!=null&&(t[i]=r)}),{mapValue:{fields:t}}}function gT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof xi||n instanceof Dn||n instanceof It||n instanceof hT||n instanceof ii||z_(n))}function mT(n,e,t){if(!gT(t)||!JC(t)){const i=Ax(t);throw i==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+i)}}function Kx(n,e,t){if((e=th(e))instanceof uT)return e._internalPath;if(typeof e=="string")return Tz(n,e);throw gh("Field path arguments must be of type string or ",n,!1,void 0,t)}const _z=new RegExp("[~\\*/\\[\\]]");function Tz(n,e,t){if(e.search(_z)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uT(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gh(n,e,t,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${i}`),a&&(l+=` in document ${s}`),l+=")"),new ae(K.INVALID_ARGUMENT,o+n+l)}function Ez(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return yr(e,(s,r)=>{i[s]=this.convertValue(r,t)}),i}convertVectorValue(e){var i,s,r;const t=(r=(s=(i=e.fields)==null?void 0:i[ah].arrayValue)==null?void 0:s.values)==null?void 0:r.map(a=>pt(a.doubleValue));return new ii(t)}convertGeoPoint(e){return new xi(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Hh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const t=ks(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=nt.fromString(e);Ve(F_(i),9688,{name:e});const s=new Ll(i.get(1),i.get(3)),r=new he(i.popFirst(5));return s.isEqual(t)||Oi(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz extends Pz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,t)}}const jw="@firebase/firestore",Bw="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,t,i,s,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Kx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Rz extends xT{data(){return super.data()}}function Mz(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Ro{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sr extends xT{constructor(e,t,i,s,r,a){super(e,t,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Kx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=sr._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}sr._jsonSchemaVersion="firestore/documentSnapshot/1.0",sr._jsonSchema={type:vt("string",sr._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class mu extends sr{data(e={}){return super.data(e)}}class Zo{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ro(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mu(this._firestore,this._userDataWriter,i.key,i,new Ro(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(o=>{const l=new mu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ro(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const l=new mu(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Ro(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Lz(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(t.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:vt("string",Zo._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n){n=Il(n,It);const e=Il(n.firestore,Gx),t=cT(e);return pz(t,n._key).then(i=>Dz(e,n,i))}function Rf(n,e,t){n=Il(n,It);const i=Il(n.firestore,Gx),s=Mz(n.converter,e),r=kz(i);return Nz(i,[Cz(r,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Pi.none())])}function Nz(n,e){const t=cT(n);return gz(t,e)}function Dz(n,e,t){const i=t.docs.get(e._key),s=new Iz(n);return new sr(n,s,e._key,i,new Ro(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){uV(KO),ih(new El("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),o=new Gx(new fV(i.getProvider("auth-internal")),new mV(a,i.getProvider("app-check-internal")),NV(a,s),a);return r={useFetchStreams:t,...r},o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),oa(jw,Bw,e),oa(jw,Bw,"esm2020")})();const Oz={apiKey:"AIzaSyCzQHpp6_ZVfzfp2-OEkhsOoC1HbzUTIUc",authDomain:"wakeup-366cb.firebaseapp.com",databaseURL:"https://wakeup-366cb-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"wakeup-366cb",storageBucket:"wakeup-366cb.firebasestorage.app",messagingSenderId:"27008088057",appId:"1:27008088057:web:10e4705ee58d4a97702f28",measurementId:"G-TC2SCPCPRK"},Vz=HC(Oz),vo=vz(Vz),yT=(n,e,t,i,s,r)=>{if(!t||!e||!r||isNaN(t)||isNaN(e)||isNaN(r))return 0;const a=o=>{const l=.31938153,c=-.356563782,u=1.781477937,h=-1.821255978,d=1.330274429,m=1/(1+.2316419*Math.abs(o)),v=1/Math.sqrt(2*Math.PI)*Math.exp(-.5*o*o)*(l*m+c*Math.pow(m,2)+u*Math.pow(m,3)+h*Math.pow(m,4)+d*Math.pow(m,5));return o>=0?1-v:v};try{const o=(Math.log(e/t)+(s+.5*r*r)*i)/(r*Math.sqrt(i));if(!isFinite(o))return 0;const l=o-r*Math.sqrt(i),c=n==="call"?e*a(o)-t*Math.exp(-s*i)*a(l):t*Math.exp(-s*i)*a(-l)-e*a(-o);return isNaN(c)?0:c}catch{return 0}},Gi="https://wealth-os-backend.onrender.com",Xw=[{id:"00631L",name:"00631L (2X Bull)"},{id:"MTX",name:"Mini Taiex ()"},{id:"0050",name:"0050 (TW50)"},{id:"TSM",name:"TSMC (2330)"},{id:"BTC",name:"Bitcoin"},{id:"CASH",name:"Cash (TWD)"}];function Fz(){var ot,Jt,Ar,Sr;const[n,e]=q.useState("monitor"),[t,i]=q.useState("00631L"),[s,r]=q.useState(null),[a,o]=q.useState(null),[l,c]=q.useState([]),[u,h]=q.useState(null),[d,f]=q.useState(()=>localStorage.getItem("isSimulating")==="true"),[m,g]=q.useState(null),[v,x]=q.useState("ma_long"),[y,b]=q.useState(60),[_,k]=q.useState(1),[P,A]=q.useState("5y"),[w,C]=q.useState(""),[E,I]=q.useState(!1),[L,M]=q.useState(null),[F,B]=q.useState(!1),[$,Y]=q.useState(null),[V,X]=q.useState({symbol:"00631L",shares:"",avg_cost:""}),[G,J]=q.useState("long"),[re,ke]=q.useState("idle"),oe=async()=>{try{I(!0),M(null);const H=await fetch(`${Gi}/api/analyze/${t}?t=${Date.now()}`);if(!H.ok)throw new Error("Backend Error");const me=await H.json();r(me)}catch(H){console.error(H),M(H.message)}finally{I(!1)}},[Ee,de]=q.useState(!1);q.useEffect(()=>{if(!Ee)return;const H=async()=>{try{const le=await fetch(`${Gi}/api/options`);if(le.ok){const ce=await le.json();ce.index_price&&g($e=>({...$e,index_price:Math.round(ce.index_price)}))}}catch(le){console.error("Sync Failed:",le)}};H();const me=setInterval(H,1e4);return()=>clearInterval(me)},[Ee]);const fe=async()=>{try{const H=yo(vo,"portfolio","user_positions"),me=await Hw(H);let le=[];me.exists()&&(console.log("Loaded portfolio from Firebase"),le=me.data().positions||[]);try{const ce=await fetch(`${Gi}/api/portfolio?enrich_only=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(le)});if(ce.ok){const $e=await ce.json();c($e)}else c(le)}catch(ce){console.warn("Backend price enrichment failed, showing cached data",ce),c(le)}}catch(H){console.error("Portfolio Load Error:",H)}},we=async()=>{try{const H=await fetch(`${Gi}/api/options?t=${Date.now()}`);if(H.ok){const me=await H.json();h(me),m||g(me)}}catch(H){console.error(H)}},je=async()=>{try{I(!0),o(null);const H=w.trim()||t,me=await fetch(`${Gi}/api/simulate/${H}?strategy=${v}&ma_period=${y}&leverage=${_}&t=${Date.now()}`);if(!me.ok)throw new Error("Simulation Failed");const le=await me.json();o(le)}catch(H){M(H.message)}finally{I(!1)}},Ue=async H=>{H.preventDefault();try{const me=G==="short"?-Math.abs(Number(V.shares)):Math.abs(Number(V.shares)),le={id:Date.now().toString(),symbol:V.symbol,shares:me,avg_cost:Number(V.avg_cost)},ce=[...l,le];c(ce);const $e=ce.map(en=>({id:en.id,symbol:en.symbol,shares:en.shares,avg_cost:en.avg_cost}));await Rf(yo(vo,"portfolio","user_positions"),{positions:$e}),B(!1),X({symbol:"00631L",shares:"",avg_cost:""}),J("long"),fe()}catch(me){console.error(me),alert("Failed to save position")}},mt=async H=>{if(!confirm("Delete this position?"))return;const me=l.filter(ce=>ce.id!==H);c(me);const le=me.map(ce=>({id:ce.id,symbol:ce.symbol,shares:ce.shares,avg_cost:ce.avg_cost}));await Rf(yo(vo,"portfolio","user_positions"),{positions:le}),fe()};q.useEffect(()=>{localStorage.setItem("isSimulating",d)},[d]),q.useEffect(()=>{(async()=>{try{const me=yo(vo,"settings","user_default"),le=await Hw(me);if(le.exists()){console.log("Loaded settings from Firebase:",le.data());const $e={...le.data()};["weekly","weekly_atm","monthly_200","monthly_500","monthly_1000","monthly_2000"].forEach(en=>{$e[en]&&typeof $e[en].strike=="string"&&($e[en].strike=parseInt($e[en].strike.replace(/[^\d]/g,""))||0)}),g($e)}else console.log("No settings found in Firebase, loading from Backend..."),fetch(`${Gi}/api/settings`).then(ce=>ce.json()).then(ce=>{ce&&(ce.weekly||ce.index_price)&&g(ce)})}catch(me){console.error("Firebase Load Error:",me),fetch(`${Gi}/api/settings`).then(le=>le.json()).then(le=>g(le))}})()},[]),q.useEffect(()=>{if(!m)return;ke("saving");const H=setTimeout(async()=>{try{console.log("Saving to Backend..."),fetch(`${Gi}/api/settings`,{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}}).catch(le=>console.warn("Backend save skipped:",le)),console.log("Saving to Firebase...");const me=new Promise((le,ce)=>setTimeout(()=>ce(new Error("Firebase write timed out")),5e3));await Promise.race([Rf(yo(vo,"settings","user_default"),m),me]),console.log("Saved to Firebase successfully"),ke("saved"),setTimeout(()=>ke("idle"),2e3)}catch(me){console.error("Firebase Save Error:",me),ke("error")}},1e3);return()=>clearTimeout(H)},[m]),q.useEffect(()=>{if(n==="monitor"){oe();const H=setInterval(oe,1e4);return()=>clearInterval(H)}else n==="lab"?je():n==="portfolio"?fe():n==="advisor"&&(fe(),oe(),we())},[n,t]);const Ae=d?m:u;return R.jsxs("div",{className:"container mx-auto p-4 md:p-6 max-w-6xl min-h-screen text-gray-200 pb-20 md:pb-6 font-sans",children:[R.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[R.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-2 tracking-tighter text-white",children:[R.jsx(YL,{className:"text-blue-500 w-6 h-6 md:w-8 md:h-8"})," WEALTH-OS ",R.jsx("span",{className:"text-xs opacity-50 px-2 py-1 bg-white/10 rounded",children:"V3 PRO"})]}),n!=="portfolio"&&n!=="advisor"&&R.jsx("div",{className:"flex bg-black/40 rounded-full p-1 border border-white/10 backdrop-blur-md overflow-x-auto max-w-full",children:Xw.map(H=>R.jsx("button",{onClick:()=>i(H.id),className:`px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm whitespace-nowrap rounded-full transition-all ${t===H.id?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:H.name},H.id))})]}),R.jsx("div",{className:"fixed bottom-0 left-0 w-full md:relative md:w-auto md:bg-transparent md:border-none bg-black/90 border-t border-white/10 backdrop-blur-xl z-50 p-2 md:p-0 flex justify-center md:justify-end gap-2 md:mb-8",children:[{id:"monitor",label:"",icon:R.jsx(Zr,{size:18})},{id:"portfolio",label:"",icon:R.jsx(db,{size:18})},{id:"lab",label:"",icon:R.jsx(tf,{size:18})},{id:"advisor",label:"",icon:R.jsx(hb,{size:18})}].map(H=>R.jsxs("button",{onClick:()=>e(H.id),className:`flex-1 md:flex-none flex items-center justify-center gap-2 px-6 py-3 md:py-2 rounded-xl transition font-medium border ${n===H.id?"bg-white/10 text-white border-white/20":"border-transparent text-gray-500 hover:text-white"}`,children:[H.icon,R.jsx("span",{className:"text-sm",children:H.label})]},H.id))}),L&&R.jsxs("div",{className:"mb-6 p-3 bg-red-500/10 border border-red-500/40 rounded-xl text-red-200 text-sm flex items-center gap-2",children:[R.jsx($L,{size:16})," ",L]}),R.jsxs(xP,{mode:"wait",children:[n==="monitor"&&R.jsx(SD,{monitorData:s,portfolio:l,activeOptions:Ae}),n==="portfolio"&&R.jsxs(ef.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[R.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[R.jsxs("div",{className:"glass-card p-6 flex items-center justify-between",children:[R.jsxs("div",{children:[R.jsx("div",{className:"text-gray-400 text-xs uppercase mb-1",children:" (Total Positions)"}),R.jsx("div",{className:"text-3xl font-bold text-white",children:l.length})]}),R.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400",children:R.jsx(db,{})})]}),R.jsx("div",{className:"glass-card p-6 flex items-center justify-center cursor-pointer hover:bg-white/5 transition",onClick:()=>B(!0),children:R.jsxs("div",{className:"flex flex-col items-center gap-2 text-blue-400",children:[R.jsx(Lk,{size:32}),R.jsx("span",{className:"font-bold",children:" (Add Position)"})]})})]}),R.jsx("div",{className:"glass-card overflow-hidden",children:R.jsxs("table",{className:"w-full text-left",children:[R.jsx("thead",{className:"bg-white/5 text-gray-400 text-xs uppercase",children:R.jsxs("tr",{children:[R.jsx("th",{className:"p-4",children:" (Asset)"}),R.jsx("th",{className:"p-4 text-right",children:" (Cost)"}),R.jsx("th",{className:"p-4 text-right",children:" (Price)"}),R.jsx("th",{className:"p-4 text-right",children:" (Shares)"}),R.jsx("th",{className:"p-4 text-right",children:" (PnL)"}),R.jsx("th",{className:"p-4 text-right",children:""})]})}),R.jsx("tbody",{className:"divide-y divide-white/5",children:l.map(H=>{var me,le,ce;return R.jsxs("tr",{className:"hover:bg-white/5 transition",children:[R.jsx("td",{className:"p-4 font-bold text-white",children:H.symbol}),R.jsxs("td",{className:"p-4 text-right text-gray-400 font-mono",children:["$",(me=H.avg_cost)==null?void 0:me.toLocaleString()]}),R.jsxs("td",{className:"p-4 text-right text-white font-mono font-bold",children:["$",(le=H.current_price)==null?void 0:le.toLocaleString()]}),R.jsx("td",{className:"p-4 text-right text-yellow-400",children:H.shares}),R.jsx("td",{className:`p-4 text-right font-bold ${H.pnl>=0?"text-green-400":"text-red-400"}`,children:R.jsxs("div",{className:"flex flex-col items-end",children:[R.jsxs("span",{children:["$",(ce=H.pnl)==null?void 0:ce.toLocaleString()]}),R.jsxs("span",{className:"text-[10px] opacity-70",children:["(",H.pnl_pct,"%)"]})]})}),R.jsx("td",{className:"p-4 text-right",children:R.jsx("button",{onClick:()=>mt(H.id),className:"text-red-400 hover:text-red-300",children:R.jsx(qL,{size:16})})})]},H.id)})})]})})]},"portfolio"),n==="lab"&&R.jsxs(ef.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"glass-card p-6 md:p-8 text-center",children:[R.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Strategy Simulator"}),R.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("span",{className:"text-xs text-gray-400",children:"Ticker:"}),R.jsx("input",{type:"text",className:"w-20 bg-black/50 border border-white/20 rounded px-2 py-1 text-white uppercase",value:w,onChange:H=>C(H.target.value),placeholder:t})]}),R.jsxs("select",{className:"bg-black/50 border border-white/20 rounded px-2 py-1 text-xs text-white",value:v,onChange:H=>x(H.target.value),children:[R.jsx("option",{value:"ma_trend",children:"MA Trend ()"}),R.jsx("option",{value:"ma_long",children:"MA Long ()"}),R.jsx("option",{value:"buy_hold",children:"Buy & Hold ()"})]}),R.jsxs("div",{className:"flex items-center gap-1",title:"Leverage",children:[R.jsx("span",{className:"text-xs text-gray-400",children:"x"}),R.jsx("input",{type:"number",step:"0.5",min:"1",max:"5",className:"w-12 bg-black/50 border border-white/20 rounded px-2 py-1 text-white text-center",value:_,onChange:H=>k(H.target.value)})]}),R.jsxs("div",{className:"flex items-center gap-1",title:"MA Period",children:[R.jsx("span",{className:"text-xs text-gray-400",children:"MA"}),R.jsx("input",{type:"number",className:"w-16 bg-black/50 border border-white/20 rounded px-2 py-1 text-white text-center",value:y,onChange:H=>b(H.target.value)})]}),R.jsxs("select",{className:"bg-black/50 border border-white/20 rounded px-2 py-1 text-xs text-white",value:P,onChange:H=>A(H.target.value),children:[R.jsx("option",{value:"1y",children:"1Y"}),R.jsx("option",{value:"3y",children:"3Y"}),R.jsx("option",{value:"5y",children:"5Y"}),R.jsx("option",{value:"10y",children:"10Y"}),R.jsx("option",{value:"max",children:"MAX"})]}),R.jsx("button",{onClick:je,className:"px-6 py-1 bg-blue-600 rounded-lg text-xs font-bold text-white hover:bg-blue-500 transition",children:"Backtest"})]}),E?R.jsx("div",{className:"animate-pulse text-blue-400",children:"Processing simulation..."}):a&&R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex justify-between items-end mb-2 border-b border-white/10 pb-2",children:[R.jsxs("div",{className:"text-left",children:[R.jsxs("div",{className:"text-xs text-gray-400",children:[" (Duration: ",a.duration_years," Years)"]}),R.jsxs("div",{className:"text-sm font-bold text-white font-mono",children:[a.period_start," ~ ",a.period_end]})]}),R.jsxs("div",{className:"text-right",children:[R.jsx("div",{className:"text-xs text-gray-400",children:"Total Return ()"}),R.jsxs("div",{className:`text-2xl font-bold font-mono ${a.total_return_pct>=0?"text-green-400":"text-red-400"}`,children:[a.total_return_pct>0?"+":"",a.total_return_pct,"%"]})]})]}),R.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-3 gap-4",children:[R.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[R.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"CAGR (Annual Return)"}),R.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[a.cagr_percent,"%"]}),R.jsxs("div",{className:"text-[10px] text-gray-500",children:["Benchmark: ",a.benchmark_cagr,"%"]})]}),R.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[R.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Max Drawdown"}),R.jsxs("div",{className:"text-xl font-bold text-red-400",children:[a.mdd_percent,"%"]}),R.jsxs("div",{className:"text-[10px] text-gray-500",children:["Benchmark: ",a.benchmark_mdd,"%"]})]}),R.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[R.jsx("div",{className:"text-gray-400 text-[10px] uppercase",children:"Win Rate"}),R.jsxs("div",{className:"text-xl font-bold text-purple-400",children:[a.win_rate,"%"]}),R.jsxs("div",{className:"text-[10px] text-gray-500",children:[a.total_trades," Trades"]})]})]}),R.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-left",children:[R.jsxs("div",{className:"glass-card overflow-hidden",children:[R.jsxs("div",{className:"bg-white/5 p-3 text-xs font-bold text-gray-300 uppercase flex items-center justify-between",children:[R.jsx("span",{children:" (Yearly Performance)"}),R.jsx(XL,{size:14})]}),R.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:R.jsxs("table",{className:"w-full text-xs",children:[R.jsx("thead",{className:"text-gray-500 sticky top-0 bg-[#0f0f13]",children:R.jsxs("tr",{children:[R.jsx("th",{className:"p-2",children:"Year"}),R.jsx("th",{className:"p-2 text-right",children:"Return"}),R.jsx("th",{className:"p-2 text-right",children:"MDD"}),R.jsx("th",{className:"p-2 text-right",children:"Profit"})]})}),R.jsx("tbody",{className:"divide-y divide-white/5",children:(ot=a.yearly_stats)==null?void 0:ot.map(H=>R.jsxs("tr",{className:"hover:bg-white/5",children:[R.jsx("td",{className:"p-2 font-mono text-gray-300",children:H.year}),R.jsxs("td",{className:`p-2 text-right font-bold ${H.return_pct>=0?"text-green-400":"text-red-400"}`,children:[H.return_pct,"%"]}),R.jsxs("td",{className:"p-2 text-right text-red-300",children:[H.mdd_pct,"%"]}),R.jsxs("td",{className:`p-2 text-right font-mono ${H.profit>=0?"text-gray-300":"text-gray-500"}`,children:["$",H.profit.toLocaleString()]})]},H.year))})]})})]}),R.jsxs("div",{className:"glass-card overflow-hidden",children:[R.jsxs("div",{className:"bg-white/5 p-3 text-xs font-bold text-gray-300 uppercase flex items-center justify-between",children:[R.jsx("span",{children:" (Trade History)"}),R.jsx(ub,{size:14})]}),R.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:R.jsxs("table",{className:"w-full text-xs",children:[R.jsx("thead",{className:"text-gray-500 sticky top-0 bg-[#0f0f13]",children:R.jsxs("tr",{children:[R.jsx("th",{className:"p-2",children:"Date"}),R.jsx("th",{className:"p-2",children:"Type"}),R.jsx("th",{className:"p-2 text-right",children:"Price"}),R.jsx("th",{className:"p-2 text-right",children:"PnL"})]})}),R.jsx("tbody",{className:"divide-y divide-white/5",children:(Jt=a.trade_list)==null?void 0:Jt.slice(0,50).map((H,me)=>R.jsxs("tr",{className:"hover:bg-white/5",children:[R.jsx("td",{className:"p-2 font-mono text-gray-400",children:H.entry_date}),R.jsx("td",{className:"p-2",children:R.jsx("span",{className:`px-1.5 py-0.5 rounded ${H.type==="LONG"?"bg-green-900/40 text-green-400":"bg-red-900/40 text-red-400"}`,children:H.type})}),R.jsx("td",{className:"p-2 text-right font-mono text-gray-300",children:H.entry_price}),R.jsxs("td",{className:`p-2 text-right font-bold ${H.pnl_pct>=0?"text-green-400":"text-red-400"}`,children:[H.pnl_pct,"%"]})]},me))})]})})]})]})]})]},"lab"),n==="advisor"&&R.jsxs(ef.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[R.jsx(kD,{portfolio:l,indexPrice:(Ae==null?void 0:Ae.index_price)||23e3}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"glass-card p-6",children:[R.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[R.jsx(hb,{className:"text-purple-400"})," Hedge Advisor"]}),l.some(H=>H.symbol==="00631L")?R.jsx("div",{className:"space-y-4",children:l.filter(H=>H.symbol==="00631L").map(H=>{const me=(Ae==null?void 0:Ae.index_price)||23e3,le=H.market_value/(me*50)*2;return R.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[R.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[R.jsx("span",{className:"text-gray-400",children:"Current Position (00631L)"})," ",R.jsx("span",{className:"text-purple-400 font-bold",children:"Delta Neutral"})]}),R.jsxs("div",{className:"text-2xl font-bold text-white",children:[le.toFixed(2)," ",R.jsx("span",{className:"text-xs text-gray-400",children:"Contracts (MTX)"})]}),R.jsxs("p",{className:"text-[10px] text-gray-500 mt-2",children:["Short ~",Math.round(le)," MTX to hedge this position against market crashes."]})]},H.id)})}):R.jsx("div",{className:"text-center py-6 text-gray-600 italic text-sm",children:"No 00631L positions in portfolio."})]}),R.jsxs("div",{className:"glass-card p-6",children:[R.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[R.jsx(tf,{className:"text-yellow-400"})," Smart Rebalance (80/20)"]}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex justify-between text-sm",children:[R.jsx("span",{className:"text-gray-400",children:"Net Worth"})," ",R.jsxs("span",{className:"text-white font-bold",children:["$",l.reduce((H,me)=>H+(me.market_value||0),0).toLocaleString()]})]}),R.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/10",children:[R.jsx("div",{className:"w-full bg-gray-700 h-2 rounded-full overflow-hidden mb-2",children:R.jsx("div",{className:"bg-blue-500 h-full",style:{width:"80%"}})}),R.jsxs("div",{className:"flex justify-between text-[10px] text-gray-500",children:[R.jsx("span",{children:"EQUITY (Target 80%)"}),R.jsx("span",{children:"CASH (Target 20%)"})]})]}),R.jsx("button",{onClick:()=>{const H=l.reduce((Ge,bi)=>Ge+(bi.market_value||0),0),me=l.filter(Ge=>Ge.symbol!=="CASH").reduce((Ge,bi)=>Ge+(bi.market_value||0),0),le=H*.8,ce=le-me,$e=(s==null?void 0:s.price)||200,en=Math.round(ce/$e);alert(`
: $${H.toLocaleString()}
: $${le.toLocaleString()}
: $${me.toLocaleString()}

: ${ce>0?"":""} ${Math.abs(en)}  00631L`)},className:"w-full py-3 rounded-lg bg-blue-600/20 border border-blue-500/50 text-blue-400 font-bold hover:bg-blue-600/30 transition-all font-sans",children:""})]})]})]}),R.jsxs("div",{className:"glass-card p-6",children:[R.jsxs("div",{className:"flex justify-between items-center mb-4",children:[R.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[R.jsx(Zr,{className:"text-blue-400"}),"  ()"]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsxs("button",{onClick:()=>{u?(g(JSON.parse(JSON.stringify(u))),f(!0)):alert(" (No Market Data)")},className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-700 text-gray-300 hover:bg-gray-600 transition flex items-center gap-2",title:"",children:[R.jsx(ub,{size:14})," (Reset)"]}),R.jsxs("button",{onClick:()=>{!d&&u&&g(JSON.parse(JSON.stringify(u))),f(!d)},className:`px-3 py-1 rounded-full text-xs font-bold transition flex items-center gap-2 ${d?"bg-purple-600 text-white shadow-lg shadow-purple-900/50":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[R.jsx(WL,{size:14}),d?" (ON)":" (OFF)"]})]})]}),d&&R.jsxs("div",{className:"mb-4 p-3 bg-purple-500/10 border border-purple-500/30 rounded-lg flex flex-wrap items-center gap-4 animate-in fade-in slide-in-from-top-2",children:[R.jsx("span",{className:"text-xs font-bold text-purple-300 uppercase",children:" (Simulated Index)"}),R.jsx("input",{type:"number",value:(Ae==null?void 0:Ae.index_price)||"",onChange:H=>{de(!1),g({...m,index_price:Number(H.target.value)})},className:"bg-black/50 border border-purple-500/30 rounded px-2 py-1 text-white text-sm w-32 font-mono focus:border-purple-500 outline-none transition"}),R.jsxs("button",{onClick:()=>de(!Ee),className:`flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold transition-all ${Ee?"bg-purple-500 text-white shadow-[0_0_10px_#a855f7]":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[R.jsx(tf,{size:14,className:Ee?"animate-pulse":""}),Ee?" (LIVE)":" (MANUAL)"]}),R.jsx("span",{className:"text-xs text-gray-500",children:"Hedge Advisor"}),re==="saving"&&R.jsx("span",{className:"text-xs text-yellow-400 animate-pulse",children:"Saving..."}),re==="saved"&&R.jsx("span",{className:"text-xs text-green-400",children:"Saved"}),re==="error"&&R.jsx("span",{className:"text-xs text-red-400",children:"Save Failed!"})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[["weekly","weekly_atm","monthly_200","monthly_500","monthly_1000","monthly_2000"].map(H=>{const me={weekly:" (OTM)",weekly_atm:" (ATM)",monthly_200:" 200 ",monthly_500:" 500 ",monthly_1000:" 1000 ",monthly_2000:" 2000 "},le={weekly:"",weekly_atm:"",monthly_200:"",monthly_500:"",monthly_1000:"",monthly_2000:""},ce={weekly:"text-red-400",weekly_atm:"text-orange-400",monthly_200:"text-yellow-400",monthly_500:"text-red-500",monthly_1000:"text-red-600",monthly_2000:"text-red-700"},$e=Xt=>{const Xn=new Date;return Xn.setDate(Xn.getDate()+Xt),Xn.toISOString().split("T")[0]},en={weekly:$e(5),weekly_atm:$e(5),monthly_200:$e(25),monthly_500:$e(25),monthly_1000:$e(25),monthly_2000:$e(25)},Ge=(Ae==null?void 0:Ae[H])||{},bi=Ge.iv||(H.includes("weekly")?18.5:16),Hn=Ge.side||"put";d&&!Ge.strike&&(Ae!=null&&Ae.index_price)&&Math.round(Ae.index_price/100)*100;const kr=Ge.expiry||en[H],sc=new Date,Zh=new Date(kr)-sc,Jh=Math.ceil(Zh/(1e3*60*60*24)),Wa=Math.max(0,Jh),ji=(Xt=>typeof Xt=="number"?Xt:Xt&&parseInt(Xt.toString().replace(/[^\d]/g,""))||0)(Ge.strike),Ya=d?yT(Hn,(Ae==null?void 0:Ae.index_price)||23e3,ji,Wa/365,.015,bi/100).toFixed(1):Ge.price;return R.jsxs("div",{className:`p-4 rounded-xl border transition-all ${d?"bg-purple-900/10 border-purple-500/30":"bg-black/40 border-white/10"}`,children:[R.jsxs("div",{className:"text-[10px] text-gray-500 uppercase mb-2 flex justify-between items-center",children:[R.jsxs("span",{children:[me[H],Hn==="put"?R.jsx("span",{className:"text-[9px] bg-red-500/20 text-red-400 px-1 rounded ml-1",children:"PUT ()"}):R.jsx("span",{className:"text-[9px] bg-green-500/20 text-green-400 px-1 rounded ml-1",children:"CALL ()"})]}),d?R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:()=>Y({label:me[H],strike:Ge.strike,iv:bi,side:Hn,expiry:kr,index_price:(Ae==null?void 0:Ae.index_price)||23e3}),className:"text-purple-400 hover:text-white p-0.5 rounded transition",title:"",children:R.jsx(Nk,{size:14})}),R.jsxs("div",{className:"flex gap-1 bg-black/40 rounded p-0.5 border border-white/10",children:[R.jsx("button",{onClick:()=>g({...m,[H]:{...Ge,side:"call"}}),className:`px-2 py-0.5 text-[9px] rounded transition ${Hn==="call"?"bg-green-600 text-white":"text-gray-500 hover:text-white"}`,children:"CALL"}),R.jsx("button",{onClick:()=>g({...m,[H]:{...Ge,side:"put"}}),className:`px-2 py-0.5 text-[9px] rounded transition ${Hn==="put"?"bg-red-600 text-white":"text-gray-500 hover:text-white"}`,children:"PUT"})]})]}):R.jsx("span",{className:"text-purple-400 font-bold hidden"})]}),d?R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("div",{className:"text-[9px] text-gray-500 mb-1",children:" (Strike)"}),R.jsx("input",{type:"number",value:ji||"",onChange:Xt=>g({...m,[H]:{...Ge,strike:Number(Xt.target.value)}}),className:`w-full bg-black/50 border border-white/10 rounded px-2 py-1 text-sm font-bold outline-none focus:border-purple-500 transition ${ce[H]}`})]}),R.jsxs("div",{className:"flex-1",children:[R.jsx("div",{className:"text-[9px] text-gray-500 mb-1",children:" (Price)"}),R.jsx("div",{className:"w-full bg-purple-500/20 border border-purple-500/50 rounded px-2 py-1 text-sm text-purple-200 font-bold text-center",children:Ya})]})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("div",{className:"text-[9px] text-gray-500 mb-1",children:" (IV %)"}),R.jsx("input",{type:"number",value:bi,onChange:Xt=>g({...m,[H]:{...Ge,iv:Number(Xt.target.value)}}),className:"w-full bg-black/50 border border-white/10 rounded px-2 py-1 text-xs text-white text-center outline-none focus:border-blue-500 transition"})]}),R.jsxs("div",{className:"flex-1",children:[R.jsx("div",{className:"text-[9px] text-gray-500 mb-1",children:" (Expiry)"}),R.jsx("input",{type:"date",value:kr,onChange:Xt=>g({...m,[H]:{...Ge,expiry:Xt.target.value}}),className:"w-full bg-black/50 border border-white/10 rounded px-2 py-1 text-xs text-white text-center outline-none focus:border-blue-500 transition"}),R.jsxs("div",{className:"text-[9px] text-gray-500 text-center mt-1",children:[" ",Wa," "]})]})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:`text-lg font-bold ${ce[H]}`,children:Ge.strike||"---"}),R.jsxs("div",{className:"text-xl font-bold text-white",children:[Ge.price||"---"," ",R.jsx("span",{className:"text-[10px] text-gray-500 font-normal",children:""})]}),R.jsxs("div",{className:"flex justify-between mt-2 text-[9px]",children:[R.jsx("span",{className:"text-gray-600",children:le[H]}),Ge.iv&&R.jsxs("span",{className:"text-gray-500",children:["IV: ",Ge.iv,"%"]})]})]})]},H)}),R.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-blue-500/5 rounded-xl border border-blue-500/10 text-center",children:[R.jsx("div",{className:"text-[10px] text-blue-300 font-bold uppercase mb-1",children:""}),R.jsxs("div",{className:"text-[9px] text-gray-500 italic mb-1",children:["IV: ",(Ar=Ae==null?void 0:Ae.weekly)==null?void 0:Ar.iv,"% / ",(Sr=Ae==null?void 0:Ae.monthly_1000)==null?void 0:Sr.iv,"%"]}),R.jsxs("div",{className:"text-[10px] text-white/40 leading-tight",children:["IV ",R.jsx("br",{}),"IV "]})]})]})]})]},"advisor")]}),F&&R.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[70] flex items-center justify-center p-4",children:R.jsxs("div",{className:"glass-card w-full max-w-md p-6",children:[R.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:" (Add Position)"}),R.jsxs("form",{onSubmit:Ue,className:"space-y-4",children:[R.jsxs("div",{className:"flex bg-white/10 p-1 rounded-lg",children:[R.jsx("button",{type:"button",onClick:()=>J("long"),className:`flex-1 py-2 rounded-md text-xs font-bold transition ${G==="long"?"bg-green-500 text-black shadow-lg":"text-gray-400"}`,children:" (LONG)"}),R.jsx("button",{type:"button",onClick:()=>J("short"),className:`flex-1 py-2 rounded-md text-xs font-bold transition ${G==="short"?"bg-red-500 text-white shadow-lg":"text-gray-400"}`,children:" (SHORT)"})]}),R.jsx("select",{className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-white text-sm",value:V.symbol,onChange:H=>X({...V,symbol:H.target.value}),children:Xw.map(H=>R.jsx("option",{value:H.id,children:H.name},H.id))}),R.jsx("input",{type:"number",required:!0,className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-white text-sm",value:V.shares,onChange:H=>X({...V,shares:H.target.value}),placeholder:" (Shares)"}),R.jsx("input",{type:"number",required:!0,className:"w-full bg-black/50 border border-white/10 rounded-lg p-3 text-white text-sm",value:V.avg_cost,onChange:H=>X({...V,avg_cost:H.target.value}),placeholder:" (Avg Cost)"}),R.jsxs("div",{className:"flex gap-3 mt-4",children:[R.jsx("button",{type:"button",onClick:()=>B(!1),className:"flex-1 py-3 rounded-lg border border-white/10 text-gray-300 text-sm",children:" (Cancel)"}),R.jsx("button",{type:"submit",className:"flex-1 py-3 rounded-lg bg-blue-600 text-white font-bold text-sm",children:" (Save)"})]})]})]})}),$&&R.jsx(zz,{target:$,onClose:()=>Y(null)})]})}const zz=({target:n,onClose:e})=>{if(!n)return null;const{label:t,strike:i,iv:s,side:r,expiry:a,index_price:o}=n,l=[-500,-300,-100,0,100,300,500],c=new Date,u=new Date(a),h=Math.ceil((u-c)/(1e3*60*60*24)),d=[];for(let f=0;f<=Math.min(h,14);f++){const m=new Date;m.setDate(m.getDate()+f);const g=Math.max(0,h-f);d.push({date:m.toISOString().split("T")[0],days:g})}return R.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md z-[80] flex items-center justify-center p-4",onClick:e,children:R.jsxs("div",{className:"glass-card w-full max-w-5xl p-6 max-h-[90vh] overflow-y-auto",onClick:f=>f.stopPropagation(),children:[R.jsxs("div",{className:"flex justify-between items-center mb-6",children:[R.jsxs("div",{children:[R.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[R.jsx(Nk,{className:"text-purple-400"})," (Scenario Analysis)"]}),R.jsxs("div",{className:"text-gray-400 text-sm mt-1 flex gap-4",children:[R.jsx("span",{className:"bg-white/10 px-2 py-1 rounded text-white",children:t}),R.jsxs("span",{children:["Strike: ",R.jsx("span",{className:"text-white",children:i})]}),R.jsxs("span",{children:["IV: ",R.jsxs("span",{className:"text-yellow-400",children:[s,"%"]})]}),R.jsxs("span",{children:["Type: ",R.jsx("span",{className:r==="call"?"text-green-400":"text-red-400",children:r.toUpperCase()})]})]})]}),R.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition",children:R.jsx(Lk,{size:24,className:"rotate-45 text-gray-400"})})]}),R.jsx("div",{className:"overflow-x-auto",children:R.jsxs("table",{className:"w-full text-center border-collapse",children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{className:"p-3 text-left text-gray-500 text-xs border-b border-white/10 min-w-[120px]",children:" () \\ "}),l.map(f=>R.jsxs("th",{className:`p-3 text-xs border-b border-white/10 ${f>0?"text-red-400":f<0?"text-green-400":"text-white"}`,children:[R.jsxs("div",{className:"font-bold text-sm",children:[f>0?"+":"",f]}),R.jsx("div",{className:"text-[10px] opacity-50 font-mono",children:o+f})]},f))]})}),R.jsx("tbody",{children:d.map((f,m)=>R.jsxs("tr",{className:"hover:bg-white/5 transition group",children:[R.jsxs("td",{className:"p-3 text-left text-gray-400 text-xs border-b border-white/5 font-mono group-hover:text-white transition-colors",children:[f.date," ",R.jsxs("span",{className:"ml-1 opacity-50",children:["(",f.days,"D)"]})]}),l.map(g=>{const v=o+g,y=yT(r,v,i,f.days/365,.015,s/100).toFixed(1);return R.jsx("td",{className:"p-3 border-b border-white/5",children:R.jsx("div",{className:`font-bold font-mono transition-all ${g===0?"text-yellow-100":"text-white"}`,children:y})},g)})]},f.date))})]})}),R.jsx("div",{className:"mt-6 text-xs text-gray-500 text-center",children:"*  Black-Scholes  IV "})]})})};Mf.createRoot(document.getElementById("root")).render(R.jsx(t1.StrictMode,{children:R.jsx(Fz,{})}));
